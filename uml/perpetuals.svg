<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 5.0.0 (20220707.1540)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="20816pt" height="4132pt"
 viewBox="0.00 0.00 20815.84 4132.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 4128)">
<title>UmlClassDiagram</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-4128 20811.84,-4128 20811.84,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<polygon fill="#f2f2f2" stroke="black" points="10754.83,-595.1 10754.83,-1022.3 12697.74,-1022.3 12697.74,-595.1 10754.83,-595.1"/>
<text text-anchor="middle" x="11726.29" y="-1005.7" font-family="Times,serif" font-size="14.00">PerpFactory</text>
<text text-anchor="middle" x="11726.29" y="-988.9" font-family="Times,serif" font-size="14.00">contracts/factories/PerpFactory.sol</text>
<polyline fill="none" stroke="black" points="10754.83,-980.7 12697.74,-980.7 "/>
<text text-anchor="start" x="10762.83" y="-964.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="10762.83" y="-947.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;CLONES_DEPLOYER: bytes32</text>
<text text-anchor="start" x="10762.83" y="-930.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;baseTokenImplementation: address</text>
<text text-anchor="start" x="10762.83" y="-913.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;quoteTokenImplementation: address</text>
<text text-anchor="start" x="10762.83" y="-896.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;vaultControllerImplementation: address</text>
<text text-anchor="start" x="10762.83" y="-880.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;positioningImplementation: address</text>
<text text-anchor="start" x="10762.83" y="-863.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;vaultImplementation: address</text>
<text text-anchor="start" x="10762.83" y="-846.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;accountBalanceImplementation: address</text>
<text text-anchor="start" x="10762.83" y="-829.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;perpViewRegistry: IVolmexPerpView</text>
<text text-anchor="start" x="10762.83" y="-812.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;marketRegistryImplementation: address</text>
<polyline fill="none" stroke="black" points="10754.83,-804.7 12697.74,-804.7 "/>
<text text-anchor="start" x="10762.83" y="-788.1" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="10762.83" y="-771.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_cloneVaultController(_perpIndex: uint256, _positioningConfig: address, _accountBalance: address): (vaultController: IVaultController)</text>
<text text-anchor="start" x="10762.83" y="-754.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_clonePositioning(_perpIndex: uint256, _positioningConfig: address, _vaultController: IVaultController, _matchingEngine: address, _accountBalance: address, _markPriceOracle: address, _indexPriceOracle: address, _underlyingPriceIndex: uint64, _liquidators: address[2]): (positioning: IPositioning)</text>
<text text-anchor="start" x="10762.83" y="-737.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_cloneAccountBalance(_perpIndex: uint256, _positioningConfig: address): (accountBalance: IAccountBalance)</text>
<text text-anchor="start" x="10762.83" y="-720.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_cloneMarketRegistry(_perpIndex: uint256, _quoteToken: address): (marketRegistry: IMarketRegistry)</text>
<text text-anchor="start" x="10762.83" y="-704.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_requireClonesDeployer()</text>
<text text-anchor="start" x="10762.83" y="-687.3" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="10762.83" y="-670.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;initialize(_baseTokenImplementation: address, _quoteTokenImplementation: address, _vaultControllerImplementation: address, _vaultImplementation: address, _positioningImplementation: address, _accountBalanceImplementation: address, _perpViewRegistry: IVolmexPerpView, _marketRegistryImplementation: address) &lt;&lt;initializer&gt;&gt;</text>
<text text-anchor="start" x="10762.83" y="-653.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;cloneBaseToken(_name: string, _symbol: string, _priceFeed: address): (volmexBaseToken: IVolmexBaseToken)</text>
<text text-anchor="start" x="10762.83" y="-636.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;cloneQuoteToken(_name: string, _symbol: string): (volmexQuoteToken: IVolmexQuoteToken)</text>
<text text-anchor="start" x="10762.83" y="-620.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;cloneVault(_token: address, _isEthVault: bool, _positioningConfig: address, _accountBalance: address, _vaultImplementation: address, _vaultControllerIndex: uint256): (vault: IVault)</text>
<text text-anchor="start" x="10762.83" y="-603.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;clonePerpEcosystem(_positioningConfig: address, _matchingEngine: address, _markPriceOracle: address, _indexPriceOracle: address, _quoteToken: address, _underlyingPriceIndex: uint64, _liquidators: address[2]): (perpEcosystem: address[4])</text>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<polygon fill="#f2f2f2" stroke="black" points="3547.19,-1989.9 3547.19,-2409.1 4387.39,-2409.1 4387.39,-1989.9 3547.19,-1989.9"/>
<text text-anchor="middle" x="3967.29" y="-2392.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="3967.29" y="-2375.7" font-family="Times,serif" font-size="14.00">IAccountBalance</text>
<text text-anchor="middle" x="3967.29" y="-2358.9" font-family="Times,serif" font-size="14.00">contracts/interfaces/IAccountBalance.sol</text>
<polyline fill="none" stroke="black" points="3547.19,-2350.7 4387.39,-2350.7 "/>
<text text-anchor="start" x="3555.19" y="-2334.1" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="3555.19" y="-2317.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;initialize(positioningConfigArg: address)</text>
<text text-anchor="start" x="3555.19" y="-2300.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;modifyOwedRealizedPnl(trader: address, amount: int256, baseToken: address)</text>
<text text-anchor="start" x="3555.19" y="-2283.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;settleOwedRealizedPnl(trader: address): (pnl: int256)</text>
<text text-anchor="start" x="3555.19" y="-2266.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;settleBalanceAndDeregister(trader: address, baseToken: address, takerBase: int256, takerQuote: int256, realizedPnl: int256, fee: int256): int256</text>
<text text-anchor="start" x="3555.19" y="-2250.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getLiquidatablePositionSize(trader: address, baseToken: address, accountValue: int256): int256</text>
<text text-anchor="start" x="3555.19" y="-2233.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;registerBaseToken(trader: address, baseToken: address)</text>
<text text-anchor="start" x="3555.19" y="-2216.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getPositioningConfig(): address</text>
<text text-anchor="start" x="3555.19" y="-2199.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getBaseTokens(trader: address): address[]</text>
<text text-anchor="start" x="3555.19" y="-2182.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getAccountInfo(trader: address, baseToken: address): LibAccountMarket.Info</text>
<text text-anchor="start" x="3555.19" y="-2166.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getOpenNotional(trader: address, baseToken: address): int256</text>
<text text-anchor="start" x="3555.19" y="-2149.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getTotalDebtValue(trader: address): uint256</text>
<text text-anchor="start" x="3555.19" y="-2132.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getMarginRequirementForLiquidation(trader: address): int256</text>
<text text-anchor="start" x="3555.19" y="-2115.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getPnlAndPendingFee(trader: address): (owedRealizedPnl: int256, unrealizedPnl: int256)</text>
<text text-anchor="start" x="3555.19" y="-2098.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getPositionSize(trader: address, baseToken: address): int256</text>
<text text-anchor="start" x="3555.19" y="-2082.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getTotalPositionValue(trader: address, baseToken: address): int256</text>
<text text-anchor="start" x="3555.19" y="-2065.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getTotalAbsPositionValue(trader: address): uint256</text>
<text text-anchor="start" x="3555.19" y="-2048.5" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="3555.19" y="-2031.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; VaultChanged(vault: address)</text>
<text text-anchor="start" x="3555.19" y="-2014.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PnlRealized(trader: address, baseToken: address, amount: int256)</text>
<text text-anchor="start" x="3555.19" y="-1998.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; UnderlyingPriceIndexSet(underlyingIndex: uint64)</text>
</g>
<!-- 0&#45;&gt;6 -->
<g id="edge8" class="edge">
<title>0&#45;&gt;6</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M11167.17,-1022.35C10900.72,-1112.85 10574.97,-1208.01 10273.29,-1254 10188.57,-1266.92 4168.05,-1233.88 4103.29,-1290 4051.74,-1334.67 4008.35,-1725.41 3985.23,-1979.7"/>
<polygon fill="black" stroke="black" points="3981.73,-1979.55 3984.32,-1989.82 3988.71,-1980.18 3981.73,-1979.55"/>
</g>
<!-- 17 -->
<g id="node18" class="node">
<title>17</title>
<polygon fill="#f2f2f2" stroke="black" points="12037.89,-2057.1 12037.89,-2341.9 12472.69,-2341.9 12472.69,-2057.1 12037.89,-2057.1"/>
<text text-anchor="middle" x="12255.29" y="-2325.3" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="12255.29" y="-2308.5" font-family="Times,serif" font-size="14.00">IMarketRegistry</text>
<text text-anchor="middle" x="12255.29" y="-2291.7" font-family="Times,serif" font-size="14.00">contracts/interfaces/IMarketRegistry.sol</text>
<polyline fill="none" stroke="black" points="12037.89,-2283.5 12472.69,-2283.5 "/>
<text text-anchor="start" x="12045.89" y="-2266.9" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="12045.89" y="-2250.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;initialize(quoteTokenArg: address)</text>
<text text-anchor="start" x="12045.89" y="-2233.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;setMaxOrdersPerMarket(maxOrdersPerMarketArg: uint8)</text>
<text text-anchor="start" x="12045.89" y="-2216.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;setMakerFeeRatio(makerFeeRatio: uint24)</text>
<text text-anchor="start" x="12045.89" y="-2199.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;setTakerFeeRatio(takerFeeRatio: uint24)</text>
<text text-anchor="start" x="12045.89" y="-2182.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;addBaseToken(baseToken: address)</text>
<text text-anchor="start" x="12045.89" y="-2166.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;checkBaseToken(baseToken: address): bool</text>
<text text-anchor="start" x="12045.89" y="-2149.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getMakerFeeRatio(): uint24</text>
<text text-anchor="start" x="12045.89" y="-2132.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getTakerFeeRatio(): uint24</text>
<text text-anchor="start" x="12045.89" y="-2115.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getQuoteToken(): (quoteToken: address)</text>
<text text-anchor="start" x="12045.89" y="-2098.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getMaxOrdersPerMarket(): (maxOrdersPerMarket: uint8)</text>
<text text-anchor="start" x="12045.89" y="-2082.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="12045.89" y="-2065.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; MaxOrdersPerMarketChanged(maxOrdersPerMarket: uint8)</text>
</g>
<!-- 0&#45;&gt;17 -->
<g id="edge9" class="edge">
<title>0&#45;&gt;17</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M12107.89,-1022.39C12284.75,-1110.39 12501.06,-1203.51 12707.29,-1254 12778.09,-1271.33 13312.18,-1237.07 13362.29,-1290 13410.39,-1340.82 13410.75,-1869.32 13362.29,-1919.8 13294.44,-1990.48 12570.3,-1914.88 12481.29,-1955.8 12435.19,-1976.99 12394.05,-2012.36 12359.91,-2049.62"/>
<polygon fill="black" stroke="black" points="12357.27,-2047.32 12353.18,-2057.1 12362.47,-2052.01 12357.27,-2047.32"/>
</g>
<!-- 19 -->
<g id="node20" class="node">
<title>19</title>
<polygon fill="#f2f2f2" stroke="black" points="12481.77,-1538.1 12481.77,-1671.7 13352.81,-1671.7 13352.81,-1538.1 12481.77,-1538.1"/>
<text text-anchor="middle" x="12917.29" y="-1655.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="12917.29" y="-1638.3" font-family="Times,serif" font-size="14.00">IPerpFactory</text>
<text text-anchor="middle" x="12917.29" y="-1621.5" font-family="Times,serif" font-size="14.00">contracts/interfaces/IPerpFactory.sol</text>
<polyline fill="none" stroke="black" points="12481.77,-1613.3 13352.81,-1613.3 "/>
<text text-anchor="start" x="12489.77" y="-1596.7" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="12489.77" y="-1579.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PerpSystemCreated(perpIndex: uint256, positioning: address, vaultController: address, accountBalance: address, marketRegistry: address)</text>
<text text-anchor="start" x="12489.77" y="-1563.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; VaultCreated(vault: address, token: address)</text>
<text text-anchor="start" x="12489.77" y="-1546.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; TokenCreated(tokenIndex: uint256, token: address)</text>
</g>
<!-- 0&#45;&gt;19 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;19</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M12059.85,-1022.49C12187.89,-1105.07 12334.99,-1201.02 12467.29,-1290 12581.32,-1366.69 12709.74,-1456.64 12800.12,-1520.54"/>
<polygon fill="none" stroke="black" points="12794.29,-1529.28 12824.84,-1538.04 12806.43,-1512.14 12794.29,-1529.28"/>
</g>
<!-- 20 -->
<g id="node25" class="node">
<title>20</title>
<polygon fill="#f2f2f2" stroke="black" points="10244.82,-1956.3 10244.82,-2442.7 11587.76,-2442.7 11587.76,-1956.3 10244.82,-1956.3"/>
<text text-anchor="middle" x="10916.29" y="-2426.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="10916.29" y="-2409.3" font-family="Times,serif" font-size="14.00">IPositioning</text>
<text text-anchor="middle" x="10916.29" y="-2392.5" font-family="Times,serif" font-size="14.00">contracts/interfaces/IPositioning.sol</text>
<polyline fill="none" stroke="black" points="10244.82,-2384.3 11587.76,-2384.3 "/>
<text text-anchor="start" x="10252.82" y="-2367.7" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="10252.82" y="-2350.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;initialize(positioningConfigArg: address, vaultControllerArg: address, accountBalanceArg: address, matchingEngineArg: address, markPriceArg: address, indexPriceArg: address, underlyingPriceIndex: uint64, liquidators: address[2])</text>
<text text-anchor="start" x="10252.82" y="-2334.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;settleAllFunding(trader: address)</text>
<text text-anchor="start" x="10252.82" y="-2317.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;setDefaultFeeReceiver(newDefaultFeeReceiver: address)</text>
<text text-anchor="start" x="10252.82" y="-2300.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;whitelistLiquidator(liquidator: address, isWhitelist: bool)</text>
<text text-anchor="start" x="10252.82" y="-2283.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;setFundingInterval(interval: int256)</text>
<text text-anchor="start" x="10252.82" y="-2266.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;openPosition(orderLeft: LibOrder.Order, signatureLeft: bytes, orderRight: LibOrder.Order, signatureRight: bytes, liquidator: bytes)</text>
<text text-anchor="start" x="10252.82" y="-2250.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;liquidate(trader: address, baseToken: address, positionSize: int256)</text>
<text text-anchor="start" x="10252.82" y="-2233.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;liquidateFullPosition(trader: address, baseToken: address)</text>
<text text-anchor="start" x="10252.82" y="-2216.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getLiquidatablePosition(trader: address, baseToken: address): uint256</text>
<text text-anchor="start" x="10252.82" y="-2199.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getPnlToBeRealized(params: RealizePnlParams): (pnlToBeRealized: int256)</text>
<text text-anchor="start" x="10252.82" y="-2182.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getPositioningConfig(): (PositioningConfig: address)</text>
<text text-anchor="start" x="10252.82" y="-2166.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getAllPendingFundingPayment(trader: address): (pendingFundingPayment: int256)</text>
<text text-anchor="start" x="10252.82" y="-2149.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getVaultController(): (vault: address)</text>
<text text-anchor="start" x="10252.82" y="-2132.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getAccountBalance(): (accountBalance: address)</text>
<text text-anchor="start" x="10252.82" y="-2115.7" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="10252.82" y="-2098.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PositionLiquidated(trader: address, baseToken: address, positionNotional: uint256, positionSize: uint256, liquidationFee: uint256, liquidator: address)</text>
<text text-anchor="start" x="10252.82" y="-2082.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ReferredPositionChanged(referralCode: bytes32)</text>
<text text-anchor="start" x="10252.82" y="-2065.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; DefaultFeeReceiverChanged(defaultFeeReceiver: address)</text>
<text text-anchor="start" x="10252.82" y="-2048.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PositionChanged(trader: address, baseToken: address, exchangedPositionSize: int256, exchangedPositionNotional: int256, fee: uint256, orderIndexPrice: uint256, orderType: bytes4, isShort: bool)</text>
<text text-anchor="start" x="10252.82" y="-2031.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; FundingPaymentSettled(trader: address, baseToken: address, fundingPayment: int256)</text>
<text text-anchor="start" x="10252.82" y="-2014.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; TrustedForwarderChanged(forwarder: address)</text>
<text text-anchor="start" x="10252.82" y="-1998.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LiquidatorWhitelisted(liquidator: address, isWhitelist: bool)</text>
<text text-anchor="start" x="10252.82" y="-1981.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; IndexPriceSet(indexPriceOracle: address)</text>
<text text-anchor="start" x="10252.82" y="-1964.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; FundingIntervalSet(fundingInterval: int256)</text>
</g>
<!-- 0&#45;&gt;20 -->
<g id="edge7" class="edge">
<title>0&#45;&gt;20</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M11533.45,-1022.6C11473.35,-1101.17 11413.83,-1194.47 11379.29,-1290 11331.59,-1421.92 11406.79,-1798.52 11336.29,-1919.8 11330.69,-1929.43 11324.61,-1938.79 11318.11,-1947.89"/>
<polygon fill="black" stroke="black" points="11315.13,-1946.03 11312.03,-1956.17 11320.77,-1950.18 11315.13,-1946.03"/>
</g>
<!-- 29 -->
<g id="node30" class="node">
<title>29</title>
<polygon fill="#f2f2f2" stroke="black" points="7880.15,-1973.1 7880.15,-2425.9 8706.42,-2425.9 8706.42,-1973.1 7880.15,-1973.1"/>
<text text-anchor="middle" x="8293.29" y="-2409.3" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="8293.29" y="-2392.5" font-family="Times,serif" font-size="14.00">IVault</text>
<text text-anchor="middle" x="8293.29" y="-2375.7" font-family="Times,serif" font-size="14.00">contracts/interfaces/IVault.sol</text>
<polyline fill="none" stroke="black" points="7880.15,-2367.5 8706.42,-2367.5 "/>
<text text-anchor="start" x="7888.15" y="-2350.9" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="7888.15" y="-2334.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;initialize(PositioningConfigArg: address, accountBalanceArg: address, tokenArg: address, vaultControllerArg: address, isEthVaultArg: bool)</text>
<text text-anchor="start" x="7888.15" y="-2317.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;deposit(periphery: IVolmexPerpPeriphery, amount: uint256, from: address)</text>
<text text-anchor="start" x="7888.15" y="-2300.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;withdraw(amount: uint256, to: address)</text>
<text text-anchor="start" x="7888.15" y="-2283.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;transferFundToVault(token: address, amount: uint256)</text>
<text text-anchor="start" x="7888.15" y="-2266.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;repayDebtToOwner(token: address, amount: uint256)</text>
<text text-anchor="start" x="7888.15" y="-2250.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;setSettlementToken(newTokenArg: address)</text>
<text text-anchor="start" x="7888.15" y="-2233.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;setPositioning(PositioningArg: address)</text>
<text text-anchor="start" x="7888.15" y="-2216.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;setVaultController(vaultControllerArg: address)</text>
<text text-anchor="start" x="7888.15" y="-2199.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getSettlementToken(): (settlementToken: address)</text>
<text text-anchor="start" x="7888.15" y="-2182.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;decimals(): (decimals: uint8)</text>
<text text-anchor="start" x="7888.15" y="-2166.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getTotalDebt(): (debtAmount: uint256)</text>
<text text-anchor="start" x="7888.15" y="-2149.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getPositioningConfig(): (PositioningConfig: address)</text>
<text text-anchor="start" x="7888.15" y="-2132.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getAccountBalance(): (accountBalance: address)</text>
<text text-anchor="start" x="7888.15" y="-2115.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getPositioning(): address</text>
<text text-anchor="start" x="7888.15" y="-2098.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;isEthVault(): bool</text>
<text text-anchor="start" x="7888.15" y="-2082.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getVaultController(): address</text>
<text text-anchor="start" x="7888.15" y="-2065.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="7888.15" y="-2048.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Deposited(collateralToken: address, trader: address, amount: uint256)</text>
<text text-anchor="start" x="7888.15" y="-2031.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Withdrawn(collateralToken: address, trader: address, amount: uint256)</text>
<text text-anchor="start" x="7888.15" y="-2014.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LowBalance(amount: uint256)</text>
<text text-anchor="start" x="7888.15" y="-1998.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BorrowFund(from: address, amount: uint256)</text>
<text text-anchor="start" x="7888.15" y="-1981.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; DebtRepayed(to: address, amount: uint256)</text>
</g>
<!-- 0&#45;&gt;29 -->
<g id="edge5" class="edge">
<title>0&#45;&gt;29</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M11157.13,-1022.31C10892.35,-1111.16 10570.82,-1204.99 10273.29,-1254 10206.93,-1264.93 9120.68,-1254.94 9063.29,-1290 8790.58,-1456.63 8933.17,-1685.07 8716.29,-1919.8 8701.54,-1935.76 8685.69,-1951.24 8669.1,-1966.18"/>
<polygon fill="black" stroke="black" points="8666.57,-1963.75 8661.43,-1973.01 8671.23,-1968.98 8666.57,-1963.75"/>
</g>
<!-- 30 -->
<g id="node31" class="node">
<title>30</title>
<polygon fill="#f2f2f2" stroke="black" points="9682.1,-2073.9 9682.1,-2325.1 10226.48,-2325.1 10226.48,-2073.9 9682.1,-2073.9"/>
<text text-anchor="middle" x="9954.29" y="-2308.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="9954.29" y="-2291.7" font-family="Times,serif" font-size="14.00">IVaultController</text>
<text text-anchor="middle" x="9954.29" y="-2274.9" font-family="Times,serif" font-size="14.00">contracts/interfaces/IVaultController.sol</text>
<polyline fill="none" stroke="black" points="9682.1,-2266.7 10226.48,-2266.7 "/>
<text text-anchor="start" x="9690.1" y="-2250.1" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="9690.1" y="-2233.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;initialize(positioningConfig: address, accountBalanceArg: address)</text>
<text text-anchor="start" x="9690.1" y="-2216.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;deposit(periphery: IVolmexPerpPeriphery, token: address, from: address, amount: uint256)</text>
<text text-anchor="start" x="9690.1" y="-2199.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;withdraw(token: address, to: address, amount: uint256)</text>
<text text-anchor="start" x="9690.1" y="-2182.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;registerVault(_vault: address, _token: address)</text>
<text text-anchor="start" x="9690.1" y="-2166.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getAccountValue(trader: address): int256</text>
<text text-anchor="start" x="9690.1" y="-2149.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getFreeCollateralByRatio(trader: address, ratio: uint24): int256</text>
<text text-anchor="start" x="9690.1" y="-2132.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getVault(_token: address): address</text>
<text text-anchor="start" x="9690.1" y="-2115.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getBalance(trader: address): int256</text>
<text text-anchor="start" x="9690.1" y="-2098.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getBalanceByToken(trader: address, token: address): int256</text>
<text text-anchor="start" x="9690.1" y="-2082.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;setPositioning(PositioningArg: address)</text>
</g>
<!-- 0&#45;&gt;30 -->
<g id="edge6" class="edge">
<title>0&#45;&gt;30</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M11139.6,-1022.4C10877.87,-1108.57 10563.63,-1200.26 10273.29,-1254 10216.45,-1264.52 9793.72,-1247.73 9754.29,-1290 9706.55,-1341.17 9732.86,-1853.18 9754.29,-1919.8 9771.03,-1971.84 9801.47,-2022.39 9833.65,-2065.83"/>
<polygon fill="black" stroke="black" points="9830.87,-2067.96 9839.67,-2073.85 9836.47,-2063.76 9830.87,-2067.96"/>
</g>
<!-- 32 -->
<g id="node33" class="node">
<title>32</title>
<polygon fill="#f2f2f2" stroke="black" points="13282.48,-2107.5 13282.48,-2291.5 13784.1,-2291.5 13784.1,-2107.5 13282.48,-2107.5"/>
<text text-anchor="middle" x="13533.29" y="-2274.9" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="13533.29" y="-2258.1" font-family="Times,serif" font-size="14.00">IVolmexBaseToken</text>
<text text-anchor="middle" x="13533.29" y="-2241.3" font-family="Times,serif" font-size="14.00">contracts/interfaces/IVolmexBaseToken.sol</text>
<polyline fill="none" stroke="black" points="13282.48,-2233.1 13784.1,-2233.1 "/>
<text text-anchor="start" x="13290.48" y="-2216.5" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="13290.48" y="-2199.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;initialize(nameArg: string, symbolArg: string, priceFeedArg: address, isBase: bool)</text>
<text text-anchor="start" x="13290.48" y="-2182.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;setPriceFeed(priceFeedArg: address)</text>
<text text-anchor="start" x="13290.48" y="-2166.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getIndexPrice(interval: uint256): (indexPrice: uint256)</text>
<text text-anchor="start" x="13290.48" y="-2149.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getPriceFeed(): (priceFeed: address)</text>
<text text-anchor="start" x="13290.48" y="-2132.5" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="13290.48" y="-2115.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PriceFeedChanged(priceFeed: address)</text>
</g>
<!-- 0&#45;&gt;32 -->
<g id="edge3" class="edge">
<title>0&#45;&gt;32</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M12107.24,-1022.35C12284.2,-1110.48 12500.76,-1203.73 12707.29,-1254 12781.67,-1272.1 13338.56,-1238.6 13395.29,-1290 13512.48,-1396.18 13530.92,-1882.77 13533.28,-2096.88"/>
<polygon fill="black" stroke="black" points="13529.78,-2097.22 13533.38,-2107.18 13536.78,-2097.14 13529.78,-2097.22"/>
</g>
<!-- 36 -->
<g id="node37" class="node">
<title>36</title>
<polygon fill="#f2f2f2" stroke="black" points="12085.16,-1412.1 12085.16,-1797.7 12425.42,-1797.7 12425.42,-1412.1 12085.16,-1412.1"/>
<text text-anchor="middle" x="12255.29" y="-1781.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="12255.29" y="-1764.3" font-family="Times,serif" font-size="14.00">IVolmexPerpView</text>
<text text-anchor="middle" x="12255.29" y="-1747.5" font-family="Times,serif" font-size="14.00">contracts/interfaces/IVolmexPerpView.sol</text>
<polyline fill="none" stroke="black" points="12085.16,-1739.3 12425.42,-1739.3 "/>
<text text-anchor="start" x="12093.16" y="-1722.7" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="12093.16" y="-1705.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;perpIndexCount(): uint256</text>
<text text-anchor="start" x="12093.16" y="-1689.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;vaultIndexCount(): uint256</text>
<text text-anchor="start" x="12093.16" y="-1672.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;baseTokenIndexCount(): uint256</text>
<text text-anchor="start" x="12093.16" y="-1655.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;quoteTokenIndexCount(): uint256</text>
<text text-anchor="start" x="12093.16" y="-1638.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;positionings(_index: uint256): IPositioning</text>
<text text-anchor="start" x="12093.16" y="-1621.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;vaultControllers(_index: uint256): IVaultController</text>
<text text-anchor="start" x="12093.16" y="-1605.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;baseTokens(_index: uint256): IVolmexBaseToken</text>
<text text-anchor="start" x="12093.16" y="-1588.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;quoteTokens(_index: uint256): IVolmexQuoteToken</text>
<text text-anchor="start" x="12093.16" y="-1571.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;accounts(_index: uint256): IAccountBalance</text>
<text text-anchor="start" x="12093.16" y="-1554.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;marketRegistries(_index: uint256): IMarketRegistry</text>
<text text-anchor="start" x="12093.16" y="-1537.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;setBaseToken(_baseToken: IVolmexBaseToken)</text>
<text text-anchor="start" x="12093.16" y="-1521.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;setQuoteToken(_quoteToken: IVolmexQuoteToken)</text>
<text text-anchor="start" x="12093.16" y="-1504.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;setPositioning(_positioning: IPositioning)</text>
<text text-anchor="start" x="12093.16" y="-1487.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;setVaultController(_vaultController: IVaultController)</text>
<text text-anchor="start" x="12093.16" y="-1470.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;setAccount(_account: IAccountBalance)</text>
<text text-anchor="start" x="12093.16" y="-1453.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;setMarketRegistry(_marketRegistry: IMarketRegistry)</text>
<text text-anchor="start" x="12093.16" y="-1437.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;incrementPerpIndex()</text>
<text text-anchor="start" x="12093.16" y="-1420.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;incrementVaultIndex()</text>
</g>
<!-- 0&#45;&gt;36 -->
<g id="edge2" class="edge">
<title>0&#45;&gt;36</title>
<path fill="none" stroke="black" d="M11885.61,-1022.52C11945.56,-1104.9 12013.22,-1200.7 12071.29,-1290 12094.64,-1325.91 12118.53,-1364.83 12141.04,-1402.63"/>
<polygon fill="black" stroke="black" points="12138.31,-1404.89 12146.42,-1411.7 12144.33,-1401.31 12138.31,-1404.89"/>
</g>
<!-- 38 -->
<g id="node39" class="node">
<title>38</title>
<polygon fill="#f2f2f2" stroke="black" points="14150.26,-2149.5 14150.26,-2249.5 14540.32,-2249.5 14540.32,-2149.5 14150.26,-2149.5"/>
<text text-anchor="middle" x="14345.29" y="-2232.9" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="14345.29" y="-2216.1" font-family="Times,serif" font-size="14.00">IVolmexQuoteToken</text>
<text text-anchor="middle" x="14345.29" y="-2199.3" font-family="Times,serif" font-size="14.00">contracts/interfaces/IVolmexQuoteToken.sol</text>
<polyline fill="none" stroke="black" points="14150.26,-2191.1 14540.32,-2191.1 "/>
<text text-anchor="start" x="14158.26" y="-2174.5" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="14158.26" y="-2157.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;initialize(nameArg: string, symbolArg: string, isBaseArg: bool)</text>
</g>
<!-- 0&#45;&gt;38 -->
<g id="edge4" class="edge">
<title>0&#45;&gt;38</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M12100.75,-1022.3C12278.62,-1111.89 12497.75,-1206.32 12707.29,-1254 12795.01,-1273.96 14262.71,-1226.34 14326.29,-1290 14356.29,-1320.04 14349.27,-1941.99 14346.28,-2139.12"/>
<polygon fill="black" stroke="black" points="14342.77,-2139.23 14346.12,-2149.28 14349.77,-2139.34 14342.77,-2139.23"/>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<polygon fill="#f2f2f2" stroke="black" points="4169.92,-1512.9 4169.92,-1696.9 4966.66,-1696.9 4966.66,-1512.9 4169.92,-1512.9"/>
<text text-anchor="middle" x="4568.29" y="-1680.3" font-family="Times,serif" font-size="14.00">FundingRate</text>
<text text-anchor="middle" x="4568.29" y="-1663.5" font-family="Times,serif" font-size="14.00">contracts/funding&#45;rate/FundingRate.sol</text>
<polyline fill="none" stroke="black" points="4169.92,-1655.3 4966.66,-1655.3 "/>
<text text-anchor="start" x="4177.92" y="-1638.7" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="4177.92" y="-1621.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;__FundingRate_init(markPriceOracleArg: address, indexPriceOracleArg: address) &lt;&lt;onlyInitializing&gt;&gt;</text>
<text text-anchor="start" x="4177.92" y="-1605.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_getFundingPayment(trader: address, baseToken: address, markTwap: uint256, indexTwap: uint256): (pendingFundingPayment: int256)</text>
<text text-anchor="start" x="4177.92" y="-1588.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_getTwaps(baseToken: address): (markTwap: uint256, indexTwap: uint256)</text>
<text text-anchor="start" x="4177.92" y="-1571.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_getDeltaTwap(markTwap: uint256, indexTwap: uint256): (deltaTwap: int256)</text>
<text text-anchor="start" x="4177.92" y="-1554.7" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="4177.92" y="-1537.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;settleFunding(trader: address, baseToken: address): (fundingPayment: int256)</text>
<text text-anchor="start" x="4177.92" y="-1521.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getPendingFundingPayment(trader: address, baseToken: address): int256</text>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<polygon fill="#f2f2f2" stroke="black" points="1246.15,-2141.1 1246.15,-2257.9 1474.43,-2257.9 1474.43,-2141.1 1246.15,-2141.1"/>
<text text-anchor="middle" x="1360.29" y="-2241.3" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="1360.29" y="-2224.5" font-family="Times,serif" font-size="14.00">BlockContext</text>
<text text-anchor="middle" x="1360.29" y="-2207.7" font-family="Times,serif" font-size="14.00">contracts/helpers/BlockContext.sol</text>
<polyline fill="none" stroke="black" points="1246.15,-2199.5 1474.43,-2199.5 "/>
<text text-anchor="start" x="1254.15" y="-2182.9" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="1254.15" y="-2166.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_blockTimestamp(): uint256</text>
<text text-anchor="start" x="1254.15" y="-2149.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_networkId(): (networkId: uint256)</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge11" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="black" d="M4272.86,-1696.93C4012.4,-1772.48 3621.12,-1874.59 3272.29,-1919.8 3173.7,-1932.58 1567.46,-1902.92 1483.29,-1955.8 1428.53,-1990.2 1397.16,-2057.21 1379.83,-2112.12"/>
<polygon fill="none" stroke="black" points="1369.7,-2109.37 1371.58,-2141.1 1389.89,-2115.12 1369.7,-2109.37"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<polygon fill="#f2f2f2" stroke="black" points="3127.2,-2044.7 3127.2,-2354.3 3529.38,-2354.3 3529.38,-2044.7 3127.2,-2044.7"/>
<text text-anchor="middle" x="3328.29" y="-2337.7" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="3328.29" y="-2320.9" font-family="Times,serif" font-size="14.00">PositioningCallee</text>
<text text-anchor="middle" x="3328.29" y="-2304.1" font-family="Times,serif" font-size="14.00">contracts/helpers/PositioningCallee.sol</text>
<polyline fill="none" stroke="black" points="3127.2,-2295.9 3529.38,-2295.9 "/>
<text text-anchor="start" x="3135.2" y="-2279.3" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="3135.2" y="-2262.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;__gap: uint256[50]</text>
<text text-anchor="start" x="3135.2" y="-2245.7" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="3135.2" y="-2228.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;_positioning: address</text>
<text text-anchor="start" x="3135.2" y="-2212.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="3135.2" y="-2195.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;POSITIONING_CALLEE_ADMIN: bytes32</text>
<polyline fill="none" stroke="black" points="3127.2,-2187.1 3529.38,-2187.1 "/>
<text text-anchor="start" x="3135.2" y="-2170.5" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="3135.2" y="-2153.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;__PositioningCallee_init() &lt;&lt;onlyInitializing&gt;&gt;</text>
<text text-anchor="start" x="3135.2" y="-2136.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_requireOnlyPositioning()</text>
<text text-anchor="start" x="3135.2" y="-2120.1" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="3135.2" y="-2103.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setPositioning(positioningArg: address)</text>
<text text-anchor="start" x="3135.2" y="-2086.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getPositioning(): address</text>
<text text-anchor="start" x="3135.2" y="-2069.7" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="3135.2" y="-2052.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PositioningCalleeChanged(positioningCallee: address)</text>
</g>
<!-- 1&#45;&gt;5 -->
<g id="edge12" class="edge">
<title>1&#45;&gt;5</title>
<path fill="none" stroke="black" d="M4169.86,-1688.56C3968.82,-1742.87 3728.05,-1828.06 3538.29,-1955.8 3510.49,-1974.51 3484.17,-1997.82 3460.16,-2022.54"/>
<polygon fill="none" stroke="black" points="3452.43,-2015.44 3439.67,-2044.55 3467.8,-2029.74 3452.43,-2015.44"/>
</g>
<!-- 1&#45;&gt;6 -->
<g id="edge17" class="edge">
<title>1&#45;&gt;6</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M4475.7,-1697.2C4398.69,-1773.13 4285.94,-1884.3 4186.18,-1982.67"/>
<polygon fill="black" stroke="black" points="4183.69,-1980.21 4179.02,-1989.73 4188.6,-1985.2 4183.69,-1980.21"/>
</g>
<!-- 13 -->
<g id="node14" class="node">
<title>13</title>
<polygon fill="#f2f2f2" stroke="black" points="4710.89,-2124.3 4710.89,-2274.7 5257.69,-2274.7 5257.69,-2124.3 4710.89,-2124.3"/>
<text text-anchor="middle" x="4984.29" y="-2258.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="4984.29" y="-2241.3" font-family="Times,serif" font-size="14.00">IFundingRate</text>
<text text-anchor="middle" x="4984.29" y="-2224.5" font-family="Times,serif" font-size="14.00">contracts/interfaces/IFundingRate.sol</text>
<polyline fill="none" stroke="black" points="4710.89,-2216.3 5257.69,-2216.3 "/>
<text text-anchor="start" x="4718.89" y="-2199.7" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="4718.89" y="-2182.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;settleFunding(trader: address, baseToken: address): (fundingPayment: int256)</text>
<text text-anchor="start" x="4718.89" y="-2166.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getPendingFundingPayment(trader: address, baseToken: address): int256</text>
<text text-anchor="start" x="4718.89" y="-2149.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="4718.89" y="-2132.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; FundingUpdated(baseToken: address, markTwap: uint256, indexTwap: uint256)</text>
</g>
<!-- 1&#45;&gt;13 -->
<g id="edge10" class="edge">
<title>1&#45;&gt;13</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M4632.38,-1697.2C4708.71,-1805.93 4835.75,-1986.91 4914.51,-2099.1"/>
<polygon fill="none" stroke="black" points="4906.15,-2105.47 4931.99,-2123.99 4923.34,-2093.41 4906.15,-2105.47"/>
</g>
<!-- 15 -->
<g id="node16" class="node">
<title>15</title>
<polygon fill="#f2f2f2" stroke="black" points="17425.57,-1981.5 17425.57,-2417.5 18505.01,-2417.5 18505.01,-1981.5 17425.57,-1981.5"/>
<text text-anchor="middle" x="17965.29" y="-2400.9" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="17965.29" y="-2384.1" font-family="Times,serif" font-size="14.00">IIndexPriceOracle</text>
<text text-anchor="middle" x="17965.29" y="-2367.3" font-family="Times,serif" font-size="14.00">contracts/interfaces/IIndexPriceOracle.sol</text>
<polyline fill="none" stroke="black" points="17425.57,-2359.1 18505.01,-2359.1 "/>
<text text-anchor="start" x="17433.57" y="-2342.5" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="17433.57" y="-2325.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;volatilityCapRatioByIndex(_index: uint256): uint256</text>
<text text-anchor="start" x="17433.57" y="-2308.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;volatilityTokenPriceProofHash(_index: uint256): bytes32</text>
<text text-anchor="start" x="17433.57" y="-2292.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;volatilityIndexBySymbol(_tokenSymbol: string): uint256</text>
<text text-anchor="start" x="17433.57" y="-2275.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;volatilityLastUpdateTimestamp(_index: uint256): uint256</text>
<text text-anchor="start" x="17433.57" y="-2258.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;volatilityLeverageByIndex(_index: uint256): uint256</text>
<text text-anchor="start" x="17433.57" y="-2241.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;baseVolatilityIndex(_index: uint256): uint256</text>
<text text-anchor="start" x="17433.57" y="-2224.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;indexCount(): uint256</text>
<text text-anchor="start" x="17433.57" y="-2208.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;latestRoundData(_index: uint256): (answer: uint256, lastUpdateTimestamp: uint256)</text>
<text text-anchor="start" x="17433.57" y="-2191.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getIndexTwap(_index: uint256): (volatilityTokenTwap: uint256, iVolatilityTokenTwap: uint256, lastUpdateTimestamp: uint256)</text>
<text text-anchor="start" x="17433.57" y="-2174.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getVolatilityTokenPriceByIndex(_index: uint256): (volatilityTokenPrice: uint256, iVolatilityTokenPrice: uint256, lastUpdateTimestamp: uint256)</text>
<text text-anchor="start" x="17433.57" y="-2157.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getVolatilityPriceBySymbol(_volatilityTokenSymbol: string): (volatilityTokenPrice: uint256, iVolatilityTokenPrice: uint256, lastUpdateTimestamp: uint256)</text>
<text text-anchor="start" x="17433.57" y="-2140.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;updateIndexBySymbol(_tokenSymbol: string, _index: uint256)</text>
<text text-anchor="start" x="17433.57" y="-2124.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;updateBaseVolatilityIndex(_leverageVolatilityIndex: uint256, _newBaseVolatilityIndex: uint256)</text>
<text text-anchor="start" x="17433.57" y="-2107.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;updateBatchVolatilityTokenPrice(_volatilityIndexes: uint256[], _volatilityTokenPrices: uint256[], _proofHashes: bytes32[])</text>
<text text-anchor="start" x="17433.57" y="-2090.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;addVolatilityIndex(_volatilityTokenPrice: uint256, _protocol: IVolmexProtocol, _volatilityTokenSymbol: string, _leverage: uint256, _baseVolatilityIndex: uint256, _proofHash: bytes32)</text>
<text text-anchor="start" x="17433.57" y="-2073.7" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="17433.57" y="-2056.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SymbolIndexUpdated(_index: uint256)</text>
<text text-anchor="start" x="17433.57" y="-2040.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BaseVolatilityIndexUpdated(baseVolatilityIndex: uint256)</text>
<text text-anchor="start" x="17433.57" y="-2023.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BatchVolatilityTokenPriceUpdated(_volatilityIndexes: uint256[], _volatilityTokenPrices: uint256[], _proofHashes: bytes32[])</text>
<text text-anchor="start" x="17433.57" y="-2006.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; VolatilityIndexAdded(volatilityTokenIndex: uint256, volatilityCapRatio: uint256, volatilityTokenSymbol: string, volatilityTokenPrice: uint256)</text>
<text text-anchor="start" x="17433.57" y="-1989.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LeveragedVolatilityIndexAdded(volatilityTokenIndex: uint256, volatilityCapRatio: uint256, volatilityTokenSymbol: string, leverage: uint256, baseVolatilityIndex: uint256)</text>
</g>
<!-- 1&#45;&gt;15 -->
<g id="edge20" class="edge">
<title>1&#45;&gt;15</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M4806.72,-1696.96C5020.75,-1773.58 5345.41,-1877.25 5638.29,-1919.8 6258.45,-2009.9 16295.79,-1883.59 16918.29,-1955.8 17081.45,-1974.73 17256.21,-2009.34 17415.29,-2046.6"/>
<polygon fill="black" stroke="black" points="17414.73,-2050.07 17425.26,-2048.95 17416.33,-2043.25 17414.73,-2050.07"/>
</g>
<!-- 16 -->
<g id="node17" class="node">
<title>16</title>
<polygon fill="#f2f2f2" stroke="black" points="12724.7,-2115.9 12724.7,-2283.1 13241.88,-2283.1 13241.88,-2115.9 12724.7,-2115.9"/>
<text text-anchor="middle" x="12983.29" y="-2266.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="12983.29" y="-2249.7" font-family="Times,serif" font-size="14.00">IMarkPriceOracle</text>
<text text-anchor="middle" x="12983.29" y="-2232.9" font-family="Times,serif" font-size="14.00">contracts/interfaces/IMarkPriceOracle.sol</text>
<polyline fill="none" stroke="black" points="12724.7,-2224.7 13241.88,-2224.7 "/>
<text text-anchor="start" x="12732.7" y="-2208.1" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="12732.7" y="-2191.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;addObservation(_priceCumulative: uint256, _index: uint64)</text>
<text text-anchor="start" x="12732.7" y="-2174.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;exchange(): address</text>
<text text-anchor="start" x="12732.7" y="-2157.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getCumulativePrice(_twInterval: uint256, _index: uint64): (priceCumulative: uint256)</text>
<text text-anchor="start" x="12732.7" y="-2140.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;indexByBaseToken(_baseToken: address): (_index: uint64)</text>
<text text-anchor="start" x="12732.7" y="-2124.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;addAssets(_priceCumulative: uint256[], _asset: address[])</text>
</g>
<!-- 1&#45;&gt;16 -->
<g id="edge19" class="edge">
<title>1&#45;&gt;16</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M4807,-1696.92C5021.05,-1773.43 5345.57,-1876.98 5638.29,-1919.8 5831.1,-1948 12468.29,-1894.57 12653.29,-1955.8 12745.42,-1986.29 12833.09,-2053.23 12894.88,-2109.1"/>
<polygon fill="black" stroke="black" points="12892.54,-2111.7 12902.29,-2115.86 12897.26,-2106.53 12892.54,-2111.7"/>
</g>
<!-- 25 -->
<g id="node26" class="node">
<title>25</title>
<polygon fill="#f2f2f2" stroke="black" points="6343.78,-2082.3 6343.78,-2316.7 6794.8,-2316.7 6794.8,-2082.3 6343.78,-2082.3"/>
<text text-anchor="middle" x="6569.29" y="-2300.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="6569.29" y="-2283.3" font-family="Times,serif" font-size="14.00">IPositioningConfig</text>
<text text-anchor="middle" x="6569.29" y="-2266.5" font-family="Times,serif" font-size="14.00">contracts/interfaces/IPositioningConfig.sol</text>
<polyline fill="none" stroke="black" points="6343.78,-2258.3 6794.8,-2258.3 "/>
<text text-anchor="start" x="6351.78" y="-2241.7" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="6351.78" y="-2224.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getMaxMarketsPerAccount(): (maxMarketsPerAccount: uint8)</text>
<text text-anchor="start" x="6351.78" y="-2208.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getImRatio(): (imRatio: uint24)</text>
<text text-anchor="start" x="6351.78" y="-2191.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getMmRatio(): (mmRatio: uint24)</text>
<text text-anchor="start" x="6351.78" y="-2174.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getLiquidationPenaltyRatio(): (liquidationPenaltyRatio: uint24)</text>
<text text-anchor="start" x="6351.78" y="-2157.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getPartialCloseRatio(): (partialCloseRatio: uint24)</text>
<text text-anchor="start" x="6351.78" y="-2140.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getTwapInterval(): (twapInterval: uint32)</text>
<text text-anchor="start" x="6351.78" y="-2124.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getSettlementTokenBalanceCap(): (settlementTokenBalanceCap: uint256)</text>
<text text-anchor="start" x="6351.78" y="-2107.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getMaxFundingRate(): (maxFundingRate: uint24)</text>
<text text-anchor="start" x="6351.78" y="-2090.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getPartialLiquidationRatio(): uint24</text>
</g>
<!-- 1&#45;&gt;25 -->
<g id="edge18" class="edge">
<title>1&#45;&gt;25</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M4818.48,-1696.9C5032.93,-1770.62 5351.69,-1870.11 5638.29,-1919.8 5774.27,-1943.38 6129.14,-1907.14 6258.29,-1955.8 6327.62,-1981.92 6393.89,-2029.31 6447.31,-2075.32"/>
<polygon fill="black" stroke="black" points="6445.25,-2078.17 6455.1,-2082.1 6449.85,-2072.89 6445.25,-2078.17"/>
</g>
<!-- 53 -->
<g id="node54" class="node">
<title>53</title>
<polygon fill="#f2f2f2" stroke="black" points="5275.5,-2073.9 5275.5,-2325.1 5683.07,-2325.1 5683.07,-2073.9 5275.5,-2073.9"/>
<text text-anchor="middle" x="5479.29" y="-2308.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="5479.29" y="-2291.7" font-family="Times,serif" font-size="14.00">LibPerpMath</text>
<text text-anchor="middle" x="5479.29" y="-2274.9" font-family="Times,serif" font-size="14.00">contracts/libs/LibPerpMath.sol</text>
<polyline fill="none" stroke="black" points="5275.5,-2266.7 5683.07,-2266.7 "/>
<text text-anchor="start" x="5283.5" y="-2250.1" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="5283.5" y="-2233.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;max(a: int256, b: int256): int256</text>
<text text-anchor="start" x="5283.5" y="-2216.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;min(a: int256, b: int256): int256</text>
<text text-anchor="start" x="5283.5" y="-2199.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;abs(value: int256): uint256</text>
<text text-anchor="start" x="5283.5" y="-2182.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;neg256(a: int256): int256</text>
<text text-anchor="start" x="5283.5" y="-2166.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;neg256(a: uint256): int256</text>
<text text-anchor="start" x="5283.5" y="-2149.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;neg128(a: int128): int128</text>
<text text-anchor="start" x="5283.5" y="-2132.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;neg128(a: uint128): int128</text>
<text text-anchor="start" x="5283.5" y="-2115.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;mulRatio(value: uint256, ratio: uint256): uint256</text>
<text text-anchor="start" x="5283.5" y="-2098.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;mulRatio(value: int256, ratio: int256): int256</text>
<text text-anchor="start" x="5283.5" y="-2082.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;mulDiv(a: int256, b: int256, denominator: uint256): (result: int256)</text>
</g>
<!-- 1&#45;&gt;53 -->
<g id="edge15" class="edge">
<title>1&#45;&gt;53</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M4804.49,-1697.07C4946.26,-1758.19 5125.74,-1847.27 5266.29,-1955.8 5307.05,-1987.28 5345.99,-2027.43 5379.17,-2065.96"/>
<polygon fill="black" stroke="black" points="5376.57,-2068.31 5385.72,-2073.64 5381.89,-2063.76 5376.57,-2068.31"/>
</g>
<!-- 55 -->
<g id="node56" class="node">
<title>55</title>
<polygon fill="#f2f2f2" stroke="black" points="4520.79,-2752.5 4520.79,-2953.3 4807.78,-2953.3 4807.78,-2752.5 4520.79,-2752.5"/>
<text text-anchor="middle" x="4664.29" y="-2936.7" font-family="Times,serif" font-size="14.00">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="4664.29" y="-2919.9" font-family="Times,serif" font-size="14.00">LibSafeCastUint</text>
<text text-anchor="middle" x="4664.29" y="-2903.1" font-family="Times,serif" font-size="14.00">contracts/libs/LibSafeCastUint.sol</text>
<polyline fill="none" stroke="black" points="4520.79,-2894.9 4807.78,-2894.9 "/>
<text text-anchor="start" x="4528.79" y="-2878.3" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="4528.79" y="-2861.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;toInt128(value: int256): (returnValue: int128)</text>
<text text-anchor="start" x="4528.79" y="-2844.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;toInt64(value: int256): (returnValue: int64)</text>
<text text-anchor="start" x="4528.79" y="-2827.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;toInt32(value: int256): (returnValue: int32)</text>
<text text-anchor="start" x="4528.79" y="-2811.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;toInt16(value: int256): (returnValue: int16)</text>
<text text-anchor="start" x="4528.79" y="-2794.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;toInt8(value: int256): (returnValue: int8)</text>
<text text-anchor="start" x="4528.79" y="-2777.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;toInt256(value: uint256): int256</text>
<text text-anchor="start" x="4528.79" y="-2760.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;toInt24(value: int256): (returnValue: int24)</text>
</g>
<!-- 1&#45;&gt;55 -->
<g id="edge16" class="edge">
<title>1&#45;&gt;55</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M4522.73,-1697.14C4490.89,-1766.22 4451.17,-1864.49 4434.29,-1955.8 4394.9,-2168.81 4379.38,-2233.65 4434.29,-2443.2 4463.16,-2553.39 4529.17,-2665.2 4583.1,-2743.96"/>
<polygon fill="black" stroke="black" points="4580.38,-2746.19 4588.94,-2752.43 4586.15,-2742.21 4580.38,-2746.19"/>
</g>
<!-- 78 -->
<g id="node79" class="node">
<title>78</title>
<polygon fill="#f2f2f2" stroke="black" points="4443.45,-2099.1 4443.45,-2299.9 4693.12,-2299.9 4693.12,-2099.1 4443.45,-2099.1"/>
<text text-anchor="middle" x="4568.29" y="-2283.3" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="4568.29" y="-2266.5" font-family="Times,serif" font-size="14.00">FundingRateStorage</text>
<text text-anchor="middle" x="4568.29" y="-2249.7" font-family="Times,serif" font-size="14.00">contracts/storage/FundingRateStorage.sol</text>
<polyline fill="none" stroke="black" points="4443.45,-2241.5 4693.12,-2241.5 "/>
<text text-anchor="start" x="4451.45" y="-2224.9" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="4451.45" y="-2208.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;__gap: uint256[50]</text>
<text text-anchor="start" x="4451.45" y="-2191.3" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="4451.45" y="-2174.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;_PRECISION_BASE: int256</text>
<text text-anchor="start" x="4451.45" y="-2157.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;_markPriceOracleArg: address</text>
<text text-anchor="start" x="4451.45" y="-2140.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;_indexPriceOracleArg: address</text>
<text text-anchor="start" x="4451.45" y="-2124.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;_underlyingPriceIndex: uint64</text>
<text text-anchor="start" x="4451.45" y="-2107.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;_fundingRateInterval: int256</text>
</g>
<!-- 1&#45;&gt;78 -->
<g id="edge13" class="edge">
<title>1&#45;&gt;78</title>
<path fill="none" stroke="black" d="M4568.29,-1697.2C4568.29,-1796.54 4568.29,-1956.18 4568.29,-2068.58"/>
<polygon fill="none" stroke="black" points="4557.79,-2068.93 4568.29,-2098.93 4578.79,-2068.93 4557.79,-2068.93"/>
</g>
<!-- 81 -->
<g id="node82" class="node">
<title>81</title>
<polygon fill="#f2f2f2" stroke="black" points="2758.99,-2023.5 2758.99,-2375.5 3109.59,-2375.5 3109.59,-2023.5 2758.99,-2023.5"/>
<text text-anchor="middle" x="2934.29" y="-2358.9" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="2934.29" y="-2342.1" font-family="Times,serif" font-size="14.00">PositioningStorageV1</text>
<text text-anchor="middle" x="2934.29" y="-2325.3" font-family="Times,serif" font-size="14.00">contracts/storage/PositioningStorage.sol</text>
<polyline fill="none" stroke="black" points="2758.99,-2317.1 3109.59,-2317.1 "/>
<text text-anchor="start" x="2766.99" y="-2300.5" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="2766.99" y="-2283.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;__gap: uint256[50]</text>
<text text-anchor="start" x="2766.99" y="-2266.9" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="2766.99" y="-2250.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;_ORACLE_BASE: uint256</text>
<text text-anchor="start" x="2766.99" y="-2233.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;_FULLY_CLOSED_RATIO: uint256</text>
<text text-anchor="start" x="2766.99" y="-2216.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;_UINT256_MAX: uint256</text>
<text text-anchor="start" x="2766.99" y="-2199.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;_firstTradedTimestampMap: mapping(address=&gt;uint256)</text>
<text text-anchor="start" x="2766.99" y="-2182.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;_settlementTokenDecimals: uint8</text>
<text text-anchor="start" x="2766.99" y="-2166.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;_positioningConfig: address</text>
<text text-anchor="start" x="2766.99" y="-2149.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;_vaultController: address</text>
<text text-anchor="start" x="2766.99" y="-2132.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;_accountBalance: address</text>
<text text-anchor="start" x="2766.99" y="-2115.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;_matchingEngine: address</text>
<text text-anchor="start" x="2766.99" y="-2098.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;_marketRegistry: address</text>
<text text-anchor="start" x="2766.99" y="-2082.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="2766.99" y="-2065.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;POSITIONING_ADMIN: bytes32</text>
<text text-anchor="start" x="2766.99" y="-2048.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;defaultFeeReceiver: address</text>
<text text-anchor="start" x="2766.99" y="-2031.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;isLiquidatorWhitelist: mapping(address=&gt;bool)</text>
</g>
<!-- 1&#45;&gt;81 -->
<g id="edge14" class="edge">
<title>1&#45;&gt;81</title>
<path fill="none" stroke="black" d="M4317.17,-1696.94C4107.49,-1769.14 3799.23,-1866.48 3522.29,-1919.8 3433.78,-1936.84 3197.15,-1912.15 3118.29,-1955.8 3096.54,-1967.83 3076.58,-1983.63 3058.48,-2001.4"/>
<polygon fill="none" stroke="black" points="3050.61,-1994.45 3037.71,-2023.5 3065.91,-2008.83 3050.61,-1994.45"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<polygon fill="#f2f2f2" stroke="black" points="9072.26,-1445.7 9072.26,-1764.1 9474.31,-1764.1 9474.31,-1445.7 9072.26,-1445.7"/>
<text text-anchor="middle" x="9273.29" y="-1747.5" font-family="Times,serif" font-size="14.00">MarketRegistry</text>
<text text-anchor="middle" x="9273.29" y="-1730.7" font-family="Times,serif" font-size="14.00">contracts/helpers/MarketRegistry.sol</text>
<polyline fill="none" stroke="black" points="9072.26,-1722.5 9474.31,-1722.5 "/>
<text text-anchor="start" x="9080.26" y="-1705.9" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="9080.26" y="-1689.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_requireMarketRegistryAdmin()</text>
<text text-anchor="start" x="9080.26" y="-1672.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_hasBaseToken(baseTokens: address[], baseToken: address): bool</text>
<text text-anchor="start" x="9080.26" y="-1655.5" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="9080.26" y="-1638.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;initialize(quoteTokenArg: address) &lt;&lt;initializer&gt;&gt;</text>
<text text-anchor="start" x="9080.26" y="-1621.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setMakerFeeRatio(makerFeeRatio: uint24) &lt;&lt;checkRatio&gt;&gt;</text>
<text text-anchor="start" x="9080.26" y="-1605.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setTakerFeeRatio(takerFeeRatio: uint24) &lt;&lt;checkRatio&gt;&gt;</text>
<text text-anchor="start" x="9080.26" y="-1588.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setMaxOrdersPerMarket(maxOrdersPerMarketArg: uint8)</text>
<text text-anchor="start" x="9080.26" y="-1571.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;addBaseToken(baseToken: address)</text>
<text text-anchor="start" x="9080.26" y="-1554.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getQuoteToken(): address</text>
<text text-anchor="start" x="9080.26" y="-1537.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getMaxOrdersPerMarket(): uint8</text>
<text text-anchor="start" x="9080.26" y="-1521.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getMakerFeeRatio(): uint24</text>
<text text-anchor="start" x="9080.26" y="-1504.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getTakerFeeRatio(): uint24</text>
<text text-anchor="start" x="9080.26" y="-1487.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;checkBaseToken(baseToken: address): bool</text>
<text text-anchor="start" x="9080.26" y="-1470.7" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="9080.26" y="-1453.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; checkRatio(ratio: uint24)</text>
</g>
<!-- 3&#45;&gt;5 -->
<g id="edge22" class="edge">
<title>3&#45;&gt;5</title>
<path fill="none" stroke="black" d="M9072.24,-1752.05C8970.82,-1816.94 8842.73,-1886.15 8716.29,-1919.8 8577.29,-1956.79 3668.9,-1895.55 3538.29,-1955.8 3504.45,-1971.41 3473.97,-1995.42 3447.39,-2022.39"/>
<polygon fill="none" stroke="black" points="3439.56,-2015.38 3426.92,-2044.54 3454.99,-2029.63 3439.56,-2015.38"/>
</g>
<!-- 3&#45;&gt;17 -->
<g id="edge21" class="edge">
<title>3&#45;&gt;17</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M9474.51,-1763.25C9564.88,-1824.46 9676.07,-1887.56 9787.29,-1919.8 9906.93,-1954.48 11915.47,-1905.17 12029.29,-1955.8 12069.68,-1973.77 12106.17,-2002.79 12137.47,-2034.62"/>
<polygon fill="none" stroke="black" points="12130.17,-2042.19 12158.29,-2057 12145.55,-2027.88 12130.17,-2042.19"/>
</g>
<!-- 31 -->
<g id="node32" class="node">
<title>31</title>
<polygon fill="#f2f2f2" stroke="black" points="12980.29,-3943.9 12980.29,-4094.3 13246.29,-4094.3 13246.29,-3943.9 12980.29,-3943.9"/>
<text text-anchor="middle" x="13113.29" y="-4077.7" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="13113.29" y="-4060.9" font-family="Times,serif" font-size="14.00">IVirtualToken</text>
<text text-anchor="middle" x="13113.29" y="-4044.1" font-family="Times,serif" font-size="14.00">contracts/interfaces/IVirtualToken.sol</text>
<polyline fill="none" stroke="black" points="12980.29,-4035.9 13246.29,-4035.9 "/>
<text text-anchor="start" x="12988.29" y="-4019.3" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="12988.29" y="-4002.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;isBase(): bool</text>
<text text-anchor="start" x="12988.29" y="-3985.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;mint(recipient: address, amount: uint256)</text>
<text text-anchor="start" x="12988.29" y="-3968.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;burn(recipient: address, amount: uint256)</text>
<text text-anchor="start" x="12988.29" y="-3952.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;mintMaximumTo(recipient: address)</text>
</g>
<!-- 3&#45;&gt;31 -->
<g id="edge24" class="edge">
<title>3&#45;&gt;31</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M9375.4,-1764.3C9409.8,-1815.06 9449.36,-1870.79 9488.29,-1919.8 9501.79,-1936.8 9513.42,-1935.57 9521.29,-1955.8 9560.55,-2056.74 9593.89,-2362.82 9521.29,-2443.2 9468.44,-2501.72 9221.14,-2420.68 9168.29,-2479.2 8751.53,-2940.63 8736.49,-3430.81 9168.29,-3878.2 9302.81,-4017.57 12277.24,-4019.88 12970,-4018.52"/>
<polygon fill="black" stroke="black" points="12970.04,-4022.02 12980.03,-4018.5 12970.03,-4015.02 12970.04,-4022.02"/>
</g>
<!-- 79 -->
<g id="node80" class="node">
<title>79</title>
<polygon fill="#f2f2f2" stroke="black" points="9246.07,-2099.1 9246.07,-2299.9 9512.51,-2299.9 9512.51,-2099.1 9246.07,-2099.1"/>
<text text-anchor="middle" x="9379.29" y="-2283.3" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="9379.29" y="-2266.5" font-family="Times,serif" font-size="14.00">MarketRegistryStorageV1</text>
<text text-anchor="middle" x="9379.29" y="-2249.7" font-family="Times,serif" font-size="14.00">contracts/storage/MarketRegistryStorage.sol</text>
<polyline fill="none" stroke="black" points="9246.07,-2241.5 9512.51,-2241.5 "/>
<text text-anchor="start" x="9254.07" y="-2224.9" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="9254.07" y="-2208.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;_quoteToken: address</text>
<text text-anchor="start" x="9254.07" y="-2191.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;_maxOrdersPerMarket: uint8</text>
<text text-anchor="start" x="9254.07" y="-2174.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;_baseTokensMarketMap: address[]</text>
<text text-anchor="start" x="9254.07" y="-2157.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;_makerFeeRatio: uint24</text>
<text text-anchor="start" x="9254.07" y="-2140.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;_takerFeeRatio: uint24</text>
<text text-anchor="start" x="9254.07" y="-2124.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="9254.07" y="-2107.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;MARKET_REGISTRY_ADMIN: bytes32</text>
</g>
<!-- 3&#45;&gt;79 -->
<g id="edge23" class="edge">
<title>3&#45;&gt;79</title>
<path fill="none" stroke="black" d="M9301.62,-1764.32C9318.67,-1859.6 9340.09,-1979.37 9356.12,-2068.96"/>
<polygon fill="none" stroke="black" points="9345.82,-2071.03 9361.44,-2098.71 9366.49,-2067.33 9345.82,-2071.03"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<polygon fill="#f2f2f2" stroke="black" points="7536.16,-2095.1 7536.16,-2303.9 7824.42,-2303.9 7824.42,-2095.1 7536.16,-2095.1"/>
<text text-anchor="middle" x="7680.29" y="-2287.3" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="7680.29" y="-2270.5" font-family="Times,serif" font-size="14.00">OwnerPausable</text>
<text text-anchor="middle" x="7680.29" y="-2253.7" font-family="Times,serif" font-size="14.00">contracts/helpers/OwnerPausable.sol</text>
<polyline fill="none" stroke="black" points="7536.16,-2245.5 7824.42,-2245.5 "/>
<text text-anchor="start" x="7544.16" y="-2228.9" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="7544.16" y="-2212.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;__gap: uint256[50]</text>
<polyline fill="none" stroke="black" points="7536.16,-2203.9 7824.42,-2203.9 "/>
<text text-anchor="start" x="7544.16" y="-2187.3" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="7544.16" y="-2170.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;__OwnerPausable_init() &lt;&lt;onlyInitializing&gt;&gt;</text>
<text text-anchor="start" x="7544.16" y="-2153.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_msgSender(): address</text>
<text text-anchor="start" x="7544.16" y="-2136.9" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="7544.16" y="-2120.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;pause() &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="7544.16" y="-2103.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;unpause() &lt;&lt;onlyOwner&gt;&gt;</text>
</g>
<!-- 40 -->
<g id="node42" class="node">
<title>40</title>
<polygon fill="#f2f2f2" stroke="black" points="778.45,-2823.7 778.45,-2882.1 1000.12,-2882.1 1000.12,-2823.7 778.45,-2823.7"/>
<text text-anchor="middle" x="889.29" y="-2865.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="889.29" y="-2848.7" font-family="Times,serif" font-size="14.00">LibAccountMarket</text>
<text text-anchor="middle" x="889.29" y="-2831.9" font-family="Times,serif" font-size="14.00">contracts/libs/LibAccountMarket.sol</text>
</g>
<!-- 6&#45;&gt;40 -->
<g id="edge25" class="edge">
<title>6&#45;&gt;40</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3634.56,-2409.21C3602.85,-2422.77 3570.5,-2434.47 3538.29,-2443.2 3470.48,-2461.57 1065.78,-2437.43 1009.29,-2479.2 902.15,-2558.43 888.73,-2734.86 888.32,-2813.17"/>
<polygon fill="black" stroke="black" points="884.82,-2813.55 888.34,-2823.55 891.82,-2813.54 884.82,-2813.55"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<polygon fill="#f2f2f2" stroke="black" points="15575.22,-113.7 15575.22,-213.7 16099.35,-213.7 16099.35,-113.7 15575.22,-113.7"/>
<text text-anchor="middle" x="15837.29" y="-197.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="15837.29" y="-180.3" font-family="Times,serif" font-size="14.00">IAssetMatcher</text>
<text text-anchor="middle" x="15837.29" y="-163.5" font-family="Times,serif" font-size="14.00">contracts/interfaces/IAssetMatcher.sol</text>
<polyline fill="none" stroke="black" points="15575.22,-155.3 16099.35,-155.3 "/>
<text text-anchor="start" x="15583.22" y="-138.7" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="15583.22" y="-121.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;_matchAssets(leftBaseToken: address, rightBaseToken: address): (baseToken: address)</text>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<polygon fill="#f2f2f2" stroke="black" points="14411.07,-1554.9 14411.07,-1654.9 15205.51,-1654.9 15205.51,-1554.9 14411.07,-1554.9"/>
<text text-anchor="middle" x="14808.29" y="-1638.3" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="14808.29" y="-1621.5" font-family="Times,serif" font-size="14.00">IChainlinkIndexPriceOracle</text>
<text text-anchor="middle" x="14808.29" y="-1604.7" font-family="Times,serif" font-size="14.00">contracts/interfaces/IChainlinkIndexPriceOracle.sol</text>
<polyline fill="none" stroke="black" points="14411.07,-1596.5 15205.51,-1596.5 "/>
<text text-anchor="start" x="14419.07" y="-1579.9" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="14419.07" y="-1563.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;latestRoundData(_index: uint256): (roundId: uint80, answer: int256, startedAt: uint256, updatedAt: uint256, answeredInRound: uint80)</text>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<polygon fill="#f2f2f2" stroke="black" points="2251.75,-2149.5 2251.75,-2249.5 2702.83,-2249.5 2702.83,-2149.5 2251.75,-2149.5"/>
<text text-anchor="middle" x="2477.29" y="-2232.9" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="2477.29" y="-2216.1" font-family="Times,serif" font-size="14.00">IERC1271</text>
<text text-anchor="middle" x="2477.29" y="-2199.3" font-family="Times,serif" font-size="14.00">contracts/interfaces/IERC1271.sol</text>
<polyline fill="none" stroke="black" points="2251.75,-2191.1 2702.83,-2191.1 "/>
<text text-anchor="start" x="2259.75" y="-2174.5" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="2259.75" y="-2157.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;isValidSignature(_hash: bytes32, _signature: bytes): (magicValue: bytes4)</text>
</g>
<!-- 10 -->
<g id="node11" class="node">
<title>10</title>
<polygon fill="#f2f2f2" stroke="black" points="5777.02,-2132.7 5777.02,-2266.3 6023.55,-2266.3 6023.55,-2132.7 5777.02,-2132.7"/>
<text text-anchor="middle" x="5900.29" y="-2249.7" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="5900.29" y="-2232.9" font-family="Times,serif" font-size="14.00">IERC20Metadata</text>
<text text-anchor="middle" x="5900.29" y="-2216.1" font-family="Times,serif" font-size="14.00">contracts/interfaces/IERC20Metadata.sol</text>
<polyline fill="none" stroke="black" points="5777.02,-2207.9 6023.55,-2207.9 "/>
<text text-anchor="start" x="5785.02" y="-2191.3" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="5785.02" y="-2174.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;name(): string</text>
<text text-anchor="start" x="5785.02" y="-2157.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;symbol(): string</text>
<text text-anchor="start" x="5785.02" y="-2140.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;decimals(): uint8</text>
</g>
<!-- 11 -->
<g id="node12" class="node">
<title>11</title>
<polygon fill="#f2f2f2" stroke="black" points="18726.98,-3263.1 18726.98,-3598.3 19165.6,-3598.3 19165.6,-3263.1 18726.98,-3263.1"/>
<text text-anchor="middle" x="18946.29" y="-3581.7" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="18946.29" y="-3564.9" font-family="Times,serif" font-size="14.00">IERC20Modified</text>
<text text-anchor="middle" x="18946.29" y="-3548.1" font-family="Times,serif" font-size="14.00">contracts/interfaces/IERC20Modified.sol</text>
<polyline fill="none" stroke="black" points="18726.98,-3539.9 19165.6,-3539.9 "/>
<text text-anchor="start" x="18734.98" y="-3523.3" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="18734.98" y="-3506.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;totalSupply(): uint256</text>
<text text-anchor="start" x="18734.98" y="-3489.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;balanceOf(account: address): uint256</text>
<text text-anchor="start" x="18734.98" y="-3472.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;transfer(recipient: address, amount: uint256): bool</text>
<text text-anchor="start" x="18734.98" y="-3456.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;allowance(owner: address, spender: address): uint256</text>
<text text-anchor="start" x="18734.98" y="-3439.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;approve(spender: address, amount: uint256): bool</text>
<text text-anchor="start" x="18734.98" y="-3422.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;transferFrom(sender: address, recipient: address, amount: uint256): bool</text>
<text text-anchor="start" x="18734.98" y="-3405.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;symbol(): string</text>
<text text-anchor="start" x="18734.98" y="-3388.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;name(): string</text>
<text text-anchor="start" x="18734.98" y="-3372.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;decimals(): uint8</text>
<text text-anchor="start" x="18734.98" y="-3355.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;mint(_toWhom: address, amount: uint256)</text>
<text text-anchor="start" x="18734.98" y="-3338.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;burn(_whose: address, amount: uint256)</text>
<text text-anchor="start" x="18734.98" y="-3321.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;grantRole(role: bytes32, account: address)</text>
<text text-anchor="start" x="18734.98" y="-3304.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;renounceRole(role: bytes32, account: address)</text>
<text text-anchor="start" x="18734.98" y="-3288.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;pause()</text>
<text text-anchor="start" x="18734.98" y="-3271.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;unpause()</text>
</g>
<!-- 12 -->
<g id="node13" class="node">
<title>12</title>
<polygon fill="#f2f2f2" stroke="black" points="17424.9,-758.7 17424.9,-858.7 17995.68,-858.7 17995.68,-758.7 17424.9,-758.7"/>
<text text-anchor="middle" x="17710.29" y="-842.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="17710.29" y="-825.3" font-family="Times,serif" font-size="14.00">IERC20TransferProxy</text>
<text text-anchor="middle" x="17710.29" y="-808.5" font-family="Times,serif" font-size="14.00">contracts/interfaces/IERC20TransferProxy.sol</text>
<polyline fill="none" stroke="black" points="17424.9,-800.3 17995.68,-800.3 "/>
<text text-anchor="start" x="17432.9" y="-783.7" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="17432.9" y="-766.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;erc20SafeTransferFrom(token: IERC20Upgradeable, from: address, to: address, value: uint256)</text>
</g>
<!-- 14 -->
<g id="node15" class="node">
<title>14</title>
<polygon fill="#f2f2f2" stroke="black" points="1492.16,-2149.5 1492.16,-2249.5 1832.41,-2249.5 1832.41,-2149.5 1492.16,-2149.5"/>
<text text-anchor="middle" x="1662.29" y="-2232.9" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="1662.29" y="-2216.1" font-family="Times,serif" font-size="14.00">IIndexPrice</text>
<text text-anchor="middle" x="1662.29" y="-2199.3" font-family="Times,serif" font-size="14.00">contracts/interfaces/IIndexPrice.sol</text>
<polyline fill="none" stroke="black" points="1492.16,-2191.1 1832.41,-2191.1 "/>
<text text-anchor="start" x="1500.16" y="-2174.5" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="1500.16" y="-2157.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getIndexPrice(interval: uint256): (indexPrice: uint256)</text>
</g>
<!-- 37 -->
<g id="node38" class="node">
<title>37</title>
<polygon fill="#f2f2f2" stroke="black" points="18203.21,-2618.1 18203.21,-3087.7 18769.37,-3087.7 18769.37,-2618.1 18203.21,-2618.1"/>
<text text-anchor="middle" x="18486.29" y="-3071.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="18486.29" y="-3054.3" font-family="Times,serif" font-size="14.00">IVolmexProtocol</text>
<text text-anchor="middle" x="18486.29" y="-3037.5" font-family="Times,serif" font-size="14.00">contracts/interfaces/IVolmexProtocol.sol</text>
<polyline fill="none" stroke="black" points="18203.21,-3029.3 18769.37,-3029.3 "/>
<text text-anchor="start" x="18211.21" y="-3012.7" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="18211.21" y="-2995.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;minimumCollateralQty(): uint256</text>
<text text-anchor="start" x="18211.21" y="-2979.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;active(): bool</text>
<text text-anchor="start" x="18211.21" y="-2962.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;isSettled(): bool</text>
<text text-anchor="start" x="18211.21" y="-2945.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;volatilityToken(): IERC20Modified</text>
<text text-anchor="start" x="18211.21" y="-2928.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;inverseVolatilityToken(): IERC20Modified</text>
<text text-anchor="start" x="18211.21" y="-2911.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;collateral(): IERC20Modified</text>
<text text-anchor="start" x="18211.21" y="-2895.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;issuanceFees(): uint256</text>
<text text-anchor="start" x="18211.21" y="-2878.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;redeemFees(): uint256</text>
<text text-anchor="start" x="18211.21" y="-2861.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;accumulatedFees(): uint256</text>
<text text-anchor="start" x="18211.21" y="-2844.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;volatilityCapRatio(): uint256</text>
<text text-anchor="start" x="18211.21" y="-2827.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;settlementPrice(): uint256</text>
<text text-anchor="start" x="18211.21" y="-2811.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;precisionRatio(): uint256</text>
<text text-anchor="start" x="18211.21" y="-2794.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;toggleActive()</text>
<text text-anchor="start" x="18211.21" y="-2777.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;updateMinimumCollQty(_newMinimumCollQty: uint256)</text>
<text text-anchor="start" x="18211.21" y="-2760.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;updatePositionToken(_positionToken: address, _isVolatilityIndex: bool)</text>
<text text-anchor="start" x="18211.21" y="-2743.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;collateralize(_collateralQty: uint256)</text>
<text text-anchor="start" x="18211.21" y="-2727.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;redeem(_positionTokenQty: uint256)</text>
<text text-anchor="start" x="18211.21" y="-2710.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;redeemSettled(_volatilityIndexTokenQty: uint256, _inverseVolatilityIndexTokenQty: uint256)</text>
<text text-anchor="start" x="18211.21" y="-2693.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;settle(_settlementPrice: uint256)</text>
<text text-anchor="start" x="18211.21" y="-2676.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;recoverTokens(_token: address, _toWhom: address, _howMuch: uint256)</text>
<text text-anchor="start" x="18211.21" y="-2659.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;updateFees(_issuanceFees: uint256, _redeemFees: uint256)</text>
<text text-anchor="start" x="18211.21" y="-2643.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;claimAccumulatedFees()</text>
<text text-anchor="start" x="18211.21" y="-2626.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;togglePause(_isPause: bool)</text>
</g>
<!-- 15&#45;&gt;37 -->
<g id="edge26" class="edge">
<title>15&#45;&gt;37</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M18139.14,-2417.86C18188.44,-2479.51 18242.42,-2547 18292.81,-2610"/>
<polygon fill="black" stroke="black" points="18290.28,-2612.44 18299.26,-2618.06 18295.75,-2608.06 18290.28,-2612.44"/>
</g>
<!-- 18 -->
<g id="node19" class="node">
<title>18</title>
<polygon fill="#f2f2f2" stroke="black" points="11421.33,-1512.9 11421.33,-1696.9 11953.25,-1696.9 11953.25,-1512.9 11421.33,-1512.9"/>
<text text-anchor="middle" x="11687.29" y="-1680.3" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="11687.29" y="-1663.5" font-family="Times,serif" font-size="14.00">IMatchingEngine</text>
<text text-anchor="middle" x="11687.29" y="-1646.7" font-family="Times,serif" font-size="14.00">contracts/interfaces/IMatchingEngine.sol</text>
<polyline fill="none" stroke="black" points="11421.33,-1638.5 11953.25,-1638.5 "/>
<text text-anchor="start" x="11429.33" y="-1621.9" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="11429.33" y="-1605.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;cancelOrder(order: LibOrder.Order)</text>
<text text-anchor="start" x="11429.33" y="-1588.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;cancelOrdersInBatch(orders: LibOrder.Order[])</text>
<text text-anchor="start" x="11429.33" y="-1571.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;cancelAllOrders(minSalt: uint256)</text>
<text text-anchor="start" x="11429.33" y="-1554.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;matchOrders(orderLeft: LibOrder.Order, orderRight: LibOrder.Order): LibFill.FillResult</text>
<text text-anchor="start" x="11429.33" y="-1537.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;grantMatchOrders(account: address)</text>
<text text-anchor="start" x="11429.33" y="-1521.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;fills(orderHashKey: bytes32): uint256</text>
</g>
<!-- 47 -->
<g id="node47" class="node">
<title>47</title>
<polygon fill="#f2f2f2" stroke="black" points="12490.65,-2149.5 12490.65,-2249.5 12643.92,-2249.5 12643.92,-2149.5 12490.65,-2149.5"/>
<text text-anchor="middle" x="12567.29" y="-2232.9" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="12567.29" y="-2216.1" font-family="Times,serif" font-size="14.00">FillResult</text>
<text text-anchor="middle" x="12567.29" y="-2199.3" font-family="Times,serif" font-size="14.00">contracts/libs/LibFill.sol</text>
<polyline fill="none" stroke="black" points="12490.65,-2191.1 12643.92,-2191.1 "/>
<text text-anchor="start" x="12498.65" y="-2174.5" font-family="Times,serif" font-size="14.00">leftValue: uint256</text>
<text text-anchor="start" x="12498.65" y="-2157.7" font-family="Times,serif" font-size="14.00">rightValue: uint256</text>
</g>
<!-- 18&#45;&gt;47 -->
<g id="edge30" class="edge">
<title>18&#45;&gt;47</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M11760.7,-1697.15C11826.2,-1771.29 11929.18,-1871.24 12043.29,-1919.8 12133.15,-1958.04 12403.91,-1896.22 12481.29,-1955.8 12537.64,-1999.19 12557.17,-2082.38 12563.87,-2139.15"/>
<polygon fill="black" stroke="black" points="12560.43,-2139.86 12564.98,-2149.43 12567.39,-2139.11 12560.43,-2139.86"/>
</g>
<!-- 46 -->
<g id="node49" class="node">
<title>46</title>
<polygon fill="#f2f2f2" stroke="black" points="11719.04,-2786.1 11719.04,-2919.7 12481.54,-2919.7 12481.54,-2786.1 11719.04,-2786.1"/>
<text text-anchor="middle" x="12100.29" y="-2903.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="12100.29" y="-2886.3" font-family="Times,serif" font-size="14.00">LibFill</text>
<text text-anchor="middle" x="12100.29" y="-2869.5" font-family="Times,serif" font-size="14.00">contracts/libs/LibFill.sol</text>
<polyline fill="none" stroke="black" points="11719.04,-2861.3 12481.54,-2861.3 "/>
<text text-anchor="start" x="11727.04" y="-2844.7" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="11727.04" y="-2827.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;fillOrder(leftOrder: LibOrder.Order, rightOrder: LibOrder.Order, leftOrderFill: uint256, rightOrderFill: uint256): FillResult</text>
<text text-anchor="start" x="11727.04" y="-2811.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;fillRight(leftMakeValue: uint256, leftTakeValue: uint256, rightMakeValue: uint256, rightTakeValue: uint256): (result: FillResult)</text>
<text text-anchor="start" x="11727.04" y="-2794.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;fillLeft(leftMakeValue: uint256, leftTakeValue: uint256, rightMakeValue: uint256, rightTakeValue: uint256): (result: FillResult)</text>
</g>
<!-- 18&#45;&gt;46 -->
<g id="edge29" class="edge">
<title>18&#45;&gt;46</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M11689.5,-1696.96C11696.06,-1854.47 11722,-2185.67 11824.29,-2443.2 11875.24,-2571.48 11971.47,-2700.27 12035.75,-2778.06"/>
<polygon fill="black" stroke="black" points="12033.17,-2780.44 12042.26,-2785.89 12038.56,-2775.96 12033.17,-2780.44"/>
</g>
<!-- 52 -->
<g id="node52" class="node">
<title>52</title>
<polygon fill="#f2f2f2" stroke="black" points="10604.3,-3330.3 10604.3,-3531.1 10774.28,-3531.1 10774.28,-3330.3 10604.3,-3330.3"/>
<text text-anchor="middle" x="10689.29" y="-3514.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="10689.29" y="-3497.7" font-family="Times,serif" font-size="14.00">Order</text>
<text text-anchor="middle" x="10689.29" y="-3480.9" font-family="Times,serif" font-size="14.00">contracts/libs/LibOrder.sol</text>
<polyline fill="none" stroke="black" points="10604.3,-3472.7 10774.28,-3472.7 "/>
<text text-anchor="start" x="10612.3" y="-3456.1" font-family="Times,serif" font-size="14.00">orderType: bytes4</text>
<text text-anchor="start" x="10612.3" y="-3439.3" font-family="Times,serif" font-size="14.00">deadline: uint64</text>
<text text-anchor="start" x="10612.3" y="-3422.5" font-family="Times,serif" font-size="14.00">trader: address</text>
<text text-anchor="start" x="10612.3" y="-3405.7" font-family="Times,serif" font-size="14.00">makeAsset: LibAsset.Asset</text>
<text text-anchor="start" x="10612.3" y="-3388.9" font-family="Times,serif" font-size="14.00">takeAsset: LibAsset.Asset</text>
<text text-anchor="start" x="10612.3" y="-3372.1" font-family="Times,serif" font-size="14.00">salt: uint256</text>
<text text-anchor="start" x="10612.3" y="-3355.3" font-family="Times,serif" font-size="14.00">triggerPrice: uint128</text>
<text text-anchor="start" x="10612.3" y="-3338.5" font-family="Times,serif" font-size="14.00">isShort: bool</text>
</g>
<!-- 18&#45;&gt;52 -->
<g id="edge28" class="edge">
<title>18&#45;&gt;52</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M11673.55,-1697.1C11663.22,-1767.62 11649.21,-1867.76 11639.29,-1955.8 11633.2,-2009.82 11635.63,-2405.68 11596.29,-2443.2 11525.24,-2510.97 10782.18,-2409.23 10713.29,-2479.2 10655.52,-2537.87 10673.22,-3082.39 10683.84,-3319.85"/>
<polygon fill="black" stroke="black" points="10680.35,-3320.05 10684.29,-3329.89 10687.34,-3319.74 10680.35,-3320.05"/>
</g>
<!-- 51 -->
<g id="node53" class="node">
<title>51</title>
<polygon fill="#f2f2f2" stroke="black" points="11246.06,-3635.3 11246.06,-3877.7 11786.52,-3877.7 11786.52,-3635.3 11246.06,-3635.3"/>
<text text-anchor="middle" x="11516.29" y="-3861.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="11516.29" y="-3844.3" font-family="Times,serif" font-size="14.00">LibOrder</text>
<text text-anchor="middle" x="11516.29" y="-3827.5" font-family="Times,serif" font-size="14.00">contracts/libs/LibOrder.sol</text>
<polyline fill="none" stroke="black" points="11246.06,-3819.3 11786.52,-3819.3 "/>
<text text-anchor="start" x="11254.06" y="-3802.7" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="11254.06" y="-3785.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;ORDER_TYPEHASH: bytes32</text>
<text text-anchor="start" x="11254.06" y="-3769.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;ORDER: bytes4</text>
<text text-anchor="start" x="11254.06" y="-3752.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;STOP_LOSS_LIMIT_ORDER: bytes4</text>
<text text-anchor="start" x="11254.06" y="-3735.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;TAKE_PROFIT_LIMIT_ORDER: bytes4</text>
<polyline fill="none" stroke="black" points="11246.06,-3727.3 11786.52,-3727.3 "/>
<text text-anchor="start" x="11254.06" y="-3710.7" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="11254.06" y="-3693.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;validate(order: LibOrder.Order)</text>
<text text-anchor="start" x="11254.06" y="-3677.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;calculateRemaining(order: Order, fill: uint256): (baseValue: uint256, quoteValue: uint256)</text>
<text text-anchor="start" x="11254.06" y="-3660.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;hashKey(order: Order): bytes32</text>
<text text-anchor="start" x="11254.06" y="-3643.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;hash(order: Order): bytes32</text>
</g>
<!-- 18&#45;&gt;51 -->
<g id="edge27" class="edge">
<title>18&#45;&gt;51</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M11689.58,-1697.01C11694.95,-1943.76 11704.79,-2645.43 11660.29,-3226.6 11647.54,-3393.08 11664.32,-3441.16 11609.29,-3598.8 11606.15,-3607.78 11602.47,-3616.81 11598.42,-3625.75"/>
<polygon fill="black" stroke="black" points="11595.14,-3624.5 11594.06,-3635.04 11601.48,-3627.47 11595.14,-3624.5"/>
</g>
<!-- 21 -->
<g id="node21" class="node">
<title>21</title>
<polygon fill="#f2f2f2" stroke="black" points="10574.94,-1504.5 10574.94,-1705.3 10817.64,-1705.3 10817.64,-1504.5 10574.94,-1504.5"/>
<text text-anchor="middle" x="10696.29" y="-1688.7" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="10696.29" y="-1671.9" font-family="Times,serif" font-size="14.00">InternalData</text>
<text text-anchor="middle" x="10696.29" y="-1655.1" font-family="Times,serif" font-size="14.00">contracts/interfaces/IPositioning.sol</text>
<polyline fill="none" stroke="black" points="10574.94,-1646.9 10817.64,-1646.9 "/>
<text text-anchor="start" x="10582.94" y="-1630.3" font-family="Times,serif" font-size="14.00">leftExchangedPositionSize: int256</text>
<text text-anchor="start" x="10582.94" y="-1613.5" font-family="Times,serif" font-size="14.00">leftExchangedPositionNotional: int256</text>
<text text-anchor="start" x="10582.94" y="-1596.7" font-family="Times,serif" font-size="14.00">rightExchangedPositionSize: int256</text>
<text text-anchor="start" x="10582.94" y="-1579.9" font-family="Times,serif" font-size="14.00">rightExchangedPositionNotional: int256</text>
<text text-anchor="start" x="10582.94" y="-1563.1" font-family="Times,serif" font-size="14.00">leftPositionSize: int256</text>
<text text-anchor="start" x="10582.94" y="-1546.3" font-family="Times,serif" font-size="14.00">rightPositionSize: int256</text>
<text text-anchor="start" x="10582.94" y="-1529.5" font-family="Times,serif" font-size="14.00">leftOpenNotional: int256</text>
<text text-anchor="start" x="10582.94" y="-1512.7" font-family="Times,serif" font-size="14.00">rightOpenNotional: int256</text>
</g>
<!-- 21&#45;&gt;20 -->
<g id="edge31" class="edge">
<title>21&#45;&gt;20</title>
<path fill="none" stroke="black" d="M10733.24,-1705.42C10757.63,-1771.13 10790.77,-1860.39 10822.15,-1944.92"/>
<polygon fill="black" stroke="black" points="10822.19,-1945.02 10828.02,-1949.26 10826.36,-1956.27 10820.53,-1952.04 10822.19,-1945.02"/>
</g>
<!-- 22 -->
<g id="node22" class="node">
<title>22</title>
<polygon fill="#f2f2f2" stroke="black" points="10835.78,-1554.9 10835.78,-1654.9 11052.79,-1654.9 11052.79,-1554.9 10835.78,-1554.9"/>
<text text-anchor="middle" x="10944.29" y="-1638.3" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="10944.29" y="-1621.5" font-family="Times,serif" font-size="14.00">OrderFees</text>
<text text-anchor="middle" x="10944.29" y="-1604.7" font-family="Times,serif" font-size="14.00">contracts/interfaces/IPositioning.sol</text>
<polyline fill="none" stroke="black" points="10835.78,-1596.5 11052.79,-1596.5 "/>
<text text-anchor="start" x="10843.78" y="-1579.9" font-family="Times,serif" font-size="14.00">orderLeftFee: uint256</text>
<text text-anchor="start" x="10843.78" y="-1563.1" font-family="Times,serif" font-size="14.00">orderRightFee: uint256</text>
</g>
<!-- 22&#45;&gt;20 -->
<g id="edge32" class="edge">
<title>22&#45;&gt;20</title>
<path fill="none" stroke="black" d="M10941.96,-1655.15C10938.94,-1719.07 10933.45,-1835.29 10928.32,-1943.89"/>
<polygon fill="black" stroke="black" points="10928.31,-1944.08 10932.02,-1950.26 10927.74,-1956.07 10924.03,-1949.89 10928.31,-1944.08"/>
</g>
<!-- 23 -->
<g id="node23" class="node">
<title>23</title>
<polygon fill="#f2f2f2" stroke="black" points="11407.78,-2786.1 11407.78,-2919.7 11624.79,-2919.7 11624.79,-2786.1 11407.78,-2786.1"/>
<text text-anchor="middle" x="11516.29" y="-2903.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="11516.29" y="-2886.3" font-family="Times,serif" font-size="14.00">RealizePnlParams</text>
<text text-anchor="middle" x="11516.29" y="-2869.5" font-family="Times,serif" font-size="14.00">contracts/interfaces/IPositioning.sol</text>
<polyline fill="none" stroke="black" points="11407.78,-2861.3 11624.79,-2861.3 "/>
<text text-anchor="start" x="11415.78" y="-2844.7" font-family="Times,serif" font-size="14.00">trader: address</text>
<text text-anchor="start" x="11415.78" y="-2827.9" font-family="Times,serif" font-size="14.00">baseToken: address</text>
<text text-anchor="start" x="11415.78" y="-2811.1" font-family="Times,serif" font-size="14.00">base: int256</text>
<text text-anchor="start" x="11415.78" y="-2794.3" font-family="Times,serif" font-size="14.00">quote: int256</text>
</g>
<!-- 23&#45;&gt;20 -->
<g id="edge33" class="edge">
<title>23&#45;&gt;20</title>
<path fill="none" stroke="black" d="M11515.17,-2785.88C11505.84,-2705.64 11475.59,-2569.77 11402.29,-2479.2 11394.65,-2469.76 11386.6,-2460.58 11378.2,-2451.65"/>
<polygon fill="black" stroke="black" points="11378.01,-2451.44 11370.97,-2449.89 11369.69,-2442.8 11376.73,-2444.35 11378.01,-2451.44"/>
</g>
<!-- 24 -->
<g id="node24" class="node">
<title>24</title>
<polygon fill="#f2f2f2" stroke="black" points="11109.78,-1521.3 11109.78,-1688.5 11326.79,-1688.5 11326.79,-1521.3 11109.78,-1521.3"/>
<text text-anchor="middle" x="11218.29" y="-1671.9" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="11218.29" y="-1655.1" font-family="Times,serif" font-size="14.00">InternalRealizePnlParams</text>
<text text-anchor="middle" x="11218.29" y="-1638.3" font-family="Times,serif" font-size="14.00">contracts/interfaces/IPositioning.sol</text>
<polyline fill="none" stroke="black" points="11109.78,-1630.1 11326.79,-1630.1 "/>
<text text-anchor="start" x="11117.78" y="-1613.5" font-family="Times,serif" font-size="14.00">trader: address</text>
<text text-anchor="start" x="11117.78" y="-1596.7" font-family="Times,serif" font-size="14.00">baseToken: address</text>
<text text-anchor="start" x="11117.78" y="-1579.9" font-family="Times,serif" font-size="14.00">takerPositionSize: int256</text>
<text text-anchor="start" x="11117.78" y="-1563.1" font-family="Times,serif" font-size="14.00">takerOpenNotional: int256</text>
<text text-anchor="start" x="11117.78" y="-1546.3" font-family="Times,serif" font-size="14.00">base: int256</text>
<text text-anchor="start" x="11117.78" y="-1529.5" font-family="Times,serif" font-size="14.00">quote: int256</text>
</g>
<!-- 24&#45;&gt;20 -->
<g id="edge34" class="edge">
<title>24&#45;&gt;20</title>
<path fill="none" stroke="black" d="M11190.86,-1688.8C11168.34,-1753.24 11133.96,-1844.09 11095.29,-1919.8 11090.92,-1928.36 11086.36,-1936.98 11081.65,-1945.63"/>
<polygon fill="black" stroke="black" points="11081.62,-1945.68 11082.23,-1952.87 11075.83,-1956.2 11075.22,-1949.01 11081.62,-1945.68"/>
</g>
<!-- 20&#45;&gt;23 -->
<g id="edge37" class="edge">
<title>20&#45;&gt;23</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M11351.69,-2442.8C11363.19,-2454.49 11374.11,-2466.62 11384.29,-2479.2 11454.58,-2566.06 11485.29,-2694.57 11500.65,-2775.73"/>
<polygon fill="black" stroke="black" points="11497.27,-2776.68 11502.54,-2785.88 11504.15,-2775.4 11497.27,-2776.68"/>
</g>
<!-- 20&#45;&gt;52 -->
<g id="edge36" class="edge">
<title>20&#45;&gt;52</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M10691.3,-2442.93C10685.25,-2454.8 10679.86,-2466.91 10675.29,-2479.2 10568.05,-2767.17 10624.21,-3139.08 10662.82,-3320.47"/>
<polygon fill="black" stroke="black" points="10659.4,-3321.25 10664.93,-3330.29 10666.25,-3319.78 10659.4,-3321.25"/>
</g>
<!-- 20&#45;&gt;51 -->
<g id="edge35" class="edge">
<title>20&#45;&gt;51</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M11587.85,-2422.69C11604.82,-2440.13 11620.41,-2458.93 11634.29,-2479.2 11681.2,-2547.73 11643.38,-3144.06 11634.29,-3226.6 11619.09,-3364.55 11582.22,-3519.14 11553.71,-3625.39"/>
<polygon fill="black" stroke="black" points="11550.29,-3624.63 11551.06,-3635.19 11557.05,-3626.45 11550.29,-3624.63"/>
</g>
<!-- 26 -->
<g id="node27" class="node">
<title>26</title>
<polygon fill="#f2f2f2" stroke="black" points="1248.67,-3380.7 1248.67,-3480.7 1693.91,-3480.7 1693.91,-3380.7 1248.67,-3380.7"/>
<text text-anchor="middle" x="1471.29" y="-3464.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="1471.29" y="-3447.3" font-family="Times,serif" font-size="14.00">ITransferExecutor</text>
<text text-anchor="middle" x="1471.29" y="-3430.5" font-family="Times,serif" font-size="14.00">contracts/interfaces/ITransferExecutor.sol</text>
<polyline fill="none" stroke="black" points="1248.67,-3422.3 1693.91,-3422.3 "/>
<text text-anchor="start" x="1256.67" y="-3405.7" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="1256.67" y="-3388.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;transfer(asset: LibAsset.Asset, from: address, to: address, proxy: address)</text>
</g>
<!-- 43 -->
<g id="node43" class="node">
<title>43</title>
<polygon fill="#f2f2f2" stroke="black" points="1603.82,-3706.5 1603.82,-3806.5 1768.75,-3806.5 1768.75,-3706.5 1603.82,-3706.5"/>
<text text-anchor="middle" x="1686.29" y="-3789.9" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="1686.29" y="-3773.1" font-family="Times,serif" font-size="14.00">Asset</text>
<text text-anchor="middle" x="1686.29" y="-3756.3" font-family="Times,serif" font-size="14.00">contracts/libs/LibAsset.sol</text>
<polyline fill="none" stroke="black" points="1603.82,-3748.1 1768.75,-3748.1 "/>
<text text-anchor="start" x="1611.82" y="-3731.5" font-family="Times,serif" font-size="14.00">virtualToken: address</text>
<text text-anchor="start" x="1611.82" y="-3714.7" font-family="Times,serif" font-size="14.00">value: uint256</text>
</g>
<!-- 26&#45;&gt;43 -->
<g id="edge39" class="edge">
<title>26&#45;&gt;43</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1503.94,-3480.88C1542.65,-3539.17 1607.06,-3636.18 1648.06,-3697.92"/>
<polygon fill="black" stroke="black" points="1645.23,-3700 1653.68,-3706.39 1651.06,-3696.12 1645.23,-3700"/>
</g>
<!-- 42 -->
<g id="node44" class="node">
<title>42</title>
<polygon fill="#f2f2f2" stroke="black" points="1586.12,-3948.3 1586.12,-4089.9 1786.46,-4089.9 1786.46,-3948.3 1586.12,-3948.3"/>
<text text-anchor="middle" x="1686.29" y="-4073.3" font-family="Times,serif" font-size="14.00">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="1686.29" y="-4056.5" font-family="Times,serif" font-size="14.00">LibAsset</text>
<text text-anchor="middle" x="1686.29" y="-4039.7" font-family="Times,serif" font-size="14.00">contracts/libs/LibAsset.sol</text>
<polyline fill="none" stroke="black" points="1586.12,-4031.5 1786.46,-4031.5 "/>
<text text-anchor="start" x="1594.12" y="-4014.9" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1594.12" y="-3998.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;ASSET_TYPEHASH: bytes32</text>
<polyline fill="none" stroke="black" points="1586.12,-3989.9 1786.46,-3989.9 "/>
<text text-anchor="start" x="1594.12" y="-3973.3" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="1594.12" y="-3956.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;hash(asset: Asset): bytes32</text>
</g>
<!-- 26&#45;&gt;42 -->
<g id="edge38" class="edge">
<title>26&#45;&gt;42</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1479.85,-3480.96C1495.57,-3565.09 1533.26,-3740.7 1595.29,-3878.2 1604.68,-3899.02 1616.92,-3920.29 1629.36,-3939.75"/>
<polygon fill="black" stroke="black" points="1626.5,-3941.78 1634.89,-3948.26 1632.38,-3937.97 1626.5,-3941.78"/>
</g>
<!-- 27 -->
<g id="node28" class="node">
<title>27</title>
<polygon fill="#f2f2f2" stroke="black" points="0,-2802.9 0,-2902.9 760.58,-2902.9 760.58,-2802.9 0,-2802.9"/>
<text text-anchor="middle" x="380.29" y="-2886.3" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="380.29" y="-2869.5" font-family="Times,serif" font-size="14.00">ITransferManager</text>
<text text-anchor="middle" x="380.29" y="-2852.7" font-family="Times,serif" font-size="14.00">contracts/interfaces/ITransferManager.sol</text>
<polyline fill="none" stroke="black" points="0,-2844.5 760.58,-2844.5 "/>
<text text-anchor="start" x="8" y="-2827.9" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="8" y="-2811.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;abstract&gt;&gt; _doTransfers(left: LibDeal.DealSide, right: LibDeal.DealSide): (totalMakeValue: uint256, totalTakeValue: uint256)</text>
</g>
<!-- 45 -->
<g id="node45" class="node">
<title>45</title>
<polygon fill="#f2f2f2" stroke="black" points="658.17,-3372.3 658.17,-3489.1 818.41,-3489.1 818.41,-3372.3 658.17,-3372.3"/>
<text text-anchor="middle" x="738.29" y="-3472.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="738.29" y="-3455.7" font-family="Times,serif" font-size="14.00">DealSide</text>
<text text-anchor="middle" x="738.29" y="-3438.9" font-family="Times,serif" font-size="14.00">contracts/libs/LibDeal.sol</text>
<polyline fill="none" stroke="black" points="658.17,-3430.7 818.41,-3430.7 "/>
<text text-anchor="start" x="666.17" y="-3414.1" font-family="Times,serif" font-size="14.00">asset: LibAsset.Asset</text>
<text text-anchor="start" x="666.17" y="-3397.3" font-family="Times,serif" font-size="14.00">proxy: address</text>
<text text-anchor="start" x="666.17" y="-3380.5" font-family="Times,serif" font-size="14.00">from: address</text>
</g>
<!-- 27&#45;&gt;45 -->
<g id="edge41" class="edge">
<title>27&#45;&gt;45</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M410.81,-2902.99C475.06,-3006.34 624.32,-3246.4 697.02,-3363.32"/>
<polygon fill="black" stroke="black" points="694.08,-3365.22 702.33,-3371.87 700.02,-3361.53 694.08,-3365.22"/>
</g>
<!-- 44 -->
<g id="node46" class="node">
<title>44</title>
<polygon fill="#f2f2f2" stroke="black" points="585.17,-3727.3 585.17,-3785.7 745.41,-3785.7 745.41,-3727.3 585.17,-3727.3"/>
<text text-anchor="middle" x="665.29" y="-3769.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="665.29" y="-3752.3" font-family="Times,serif" font-size="14.00">LibDeal</text>
<text text-anchor="middle" x="665.29" y="-3735.5" font-family="Times,serif" font-size="14.00">contracts/libs/LibDeal.sol</text>
</g>
<!-- 27&#45;&gt;44 -->
<g id="edge40" class="edge">
<title>27&#45;&gt;44</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M395.81,-2903.01C446.69,-3063.96 607.72,-3573.38 653.21,-3717.3"/>
<polygon fill="black" stroke="black" points="649.93,-3718.54 656.29,-3727.02 656.61,-3716.43 649.93,-3718.54"/>
</g>
<!-- 28 -->
<g id="node29" class="node">
<title>28</title>
<polygon fill="#f2f2f2" stroke="black" points="874.19,-3380.7 874.19,-3480.7 1230.39,-3480.7 1230.39,-3380.7 874.19,-3380.7"/>
<text text-anchor="middle" x="1052.29" y="-3464.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="1052.29" y="-3447.3" font-family="Times,serif" font-size="14.00">ITransferProxy</text>
<text text-anchor="middle" x="1052.29" y="-3430.5" font-family="Times,serif" font-size="14.00">contracts/interfaces/ITransferProxy.sol</text>
<polyline fill="none" stroke="black" points="874.19,-3422.3 1230.39,-3422.3 "/>
<text text-anchor="start" x="882.19" y="-3405.7" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="882.19" y="-3388.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;transfer(asset: LibAsset.Asset, from: address, to: address)</text>
</g>
<!-- 28&#45;&gt;43 -->
<g id="edge43" class="edge">
<title>28&#45;&gt;43</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1096.98,-3480.98C1132.51,-3517.7 1185.11,-3566.82 1239.29,-3598.8 1353.17,-3666.02 1500.36,-3710.62 1594.08,-3734.5"/>
<polygon fill="black" stroke="black" points="1593.27,-3737.9 1603.82,-3736.95 1594.98,-3731.11 1593.27,-3737.9"/>
</g>
<!-- 28&#45;&gt;42 -->
<g id="edge42" class="edge">
<title>28&#45;&gt;42</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1099.72,-3480.87C1181.42,-3564.87 1354.99,-3740.29 1511.29,-3878.2 1535.37,-3899.45 1562.12,-3921.54 1587.31,-3941.73"/>
<polygon fill="black" stroke="black" points="1585.44,-3944.71 1595.43,-3948.21 1589.8,-3939.24 1585.44,-3944.71"/>
</g>
<!-- 35 -->
<g id="node36" class="node">
<title>35</title>
<polygon fill="#f2f2f2" stroke="black" points="9210.63,-2752.5 9210.63,-2953.3 10097.94,-2953.3 10097.94,-2752.5 9210.63,-2752.5"/>
<text text-anchor="middle" x="9654.29" y="-2936.7" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="9654.29" y="-2919.9" font-family="Times,serif" font-size="14.00">IVolmexPerpPeriphery</text>
<text text-anchor="middle" x="9654.29" y="-2903.1" font-family="Times,serif" font-size="14.00">contracts/interfaces/IVolmexPerpPeriphery.sol</text>
<polyline fill="none" stroke="black" points="9210.63,-2894.9 10097.94,-2894.9 "/>
<text text-anchor="start" x="9218.63" y="-2878.3" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="9218.63" y="-2861.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;depositToVault(_index: uint64, _token: address, _amount: uint256)</text>
<text text-anchor="start" x="9218.63" y="-2844.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;withdrawFromVault(_index: uint64, _token: address, _to: address, _amount: uint256)</text>
<text text-anchor="start" x="9218.63" y="-2827.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;openPosition(_index: uint64, _orderLeft: LibOrder.Order, _signatureLeft: bytes, _orderRight: LibOrder.Order, _signatureRight: bytes, liquidator: bytes)</text>
<text text-anchor="start" x="9218.63" y="-2811.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;transferToVault(_token: IERC20Upgradeable, _from: address, _amount: uint256)</text>
<text text-anchor="start" x="9218.63" y="-2794.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="9218.63" y="-2777.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; RelayerUpdated(newRelayerAddress: address)</text>
<text text-anchor="start" x="9218.63" y="-2760.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; VaultWhitelisted(vault: address, isWhitelist: bool)</text>
</g>
<!-- 29&#45;&gt;35 -->
<g id="edge44" class="edge">
<title>29&#45;&gt;35</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M8681.58,-2425.95C8692.9,-2431.83 8704.15,-2437.6 8715.29,-2443.2 8940.89,-2556.73 9205.23,-2670.1 9395.87,-2748.54"/>
<polygon fill="black" stroke="black" points="9394.6,-2751.8 9405.18,-2752.36 9397.26,-2745.32 9394.6,-2751.8"/>
</g>
<!-- 30&#45;&gt;35 -->
<g id="edge45" class="edge">
<title>30&#45;&gt;35</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M9896.8,-2325.33C9841.1,-2446.27 9757.48,-2627.84 9704.42,-2743.06"/>
<polygon fill="black" stroke="black" points="9701.18,-2741.72 9700.17,-2752.27 9707.54,-2744.65 9701.18,-2741.72"/>
</g>
<!-- 34 -->
<g id="node34" class="node">
<title>34</title>
<polygon fill="#f2f2f2" stroke="black" points="8690.42,-708.3 8690.42,-909.1 8978.16,-909.1 8978.16,-708.3 8690.42,-708.3"/>
<text text-anchor="middle" x="8834.29" y="-892.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="8834.29" y="-875.7" font-family="Times,serif" font-size="14.00">LimitOrder</text>
<text text-anchor="middle" x="8834.29" y="-858.9" font-family="Times,serif" font-size="14.00">contracts/interfaces/IVolmexPerpLimitOrder.sol</text>
<polyline fill="none" stroke="black" points="8690.42,-850.7 8978.16,-850.7 "/>
<text text-anchor="start" x="8698.42" y="-834.1" font-family="Times,serif" font-size="14.00">orderType: bytes4</text>
<text text-anchor="start" x="8698.42" y="-817.3" font-family="Times,serif" font-size="14.00">trader: address</text>
<text text-anchor="start" x="8698.42" y="-800.5" font-family="Times,serif" font-size="14.00">deadline: uint64</text>
<text text-anchor="start" x="8698.42" y="-783.7" font-family="Times,serif" font-size="14.00">isShort: bool</text>
<text text-anchor="start" x="8698.42" y="-766.9" font-family="Times,serif" font-size="14.00">makeAsset: LibAsset.Asset</text>
<text text-anchor="start" x="8698.42" y="-750.1" font-family="Times,serif" font-size="14.00">takeAsset: LibAsset.Asset</text>
<text text-anchor="start" x="8698.42" y="-733.3" font-family="Times,serif" font-size="14.00">salt: uint256</text>
<text text-anchor="start" x="8698.42" y="-716.5" font-family="Times,serif" font-size="14.00">triggerPrice: uint128</text>
</g>
<!-- 33 -->
<g id="node35" class="node">
<title>33</title>
<polygon fill="#f2f2f2" stroke="black" points="9796.05,-1546.5 9796.05,-1663.3 10556.53,-1663.3 10556.53,-1546.5 9796.05,-1546.5"/>
<text text-anchor="middle" x="10176.29" y="-1646.7" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="10176.29" y="-1629.9" font-family="Times,serif" font-size="14.00">IVolmexPerpLimitOrder</text>
<text text-anchor="middle" x="10176.29" y="-1613.1" font-family="Times,serif" font-size="14.00">contracts/interfaces/IVolmexPerpLimitOrder.sol</text>
<polyline fill="none" stroke="black" points="9796.05,-1604.9 10556.53,-1604.9 "/>
<text text-anchor="start" x="9804.05" y="-1588.3" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="9804.05" y="-1571.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;initialize(_markPriceOracle: IMarkPriceOracle, _positioning: IPositioning, _accountBalance: IAccountBalance, _admin: address)</text>
<text text-anchor="start" x="9804.05" y="-1554.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;setMarkPriceOracle(_markPriceOracle: IMarkPriceOracle)</text>
</g>
<!-- 34&#45;&gt;33 -->
<g id="edge48" class="edge">
<title>34&#45;&gt;33</title>
<path fill="none" stroke="black" d="M8857.6,-909.56C8887.94,-1014.89 8952.06,-1176.14 9073.29,-1254 9177.65,-1321.03 9511.54,-1254.16 9630.29,-1290 9808,-1343.64 9990.14,-1464.19 10092.67,-1539.31"/>
<polygon fill="black" stroke="black" points="10092.68,-1539.32 10099.88,-1539.66 10102.34,-1546.44 10095.14,-1546.1 10092.68,-1539.32"/>
</g>
<!-- 34&#45;&gt;43 -->
<g id="edge47" class="edge">
<title>34&#45;&gt;43</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M8690.17,-833.89C8209.78,-913.2 6618.45,-1165.35 5291.29,-1254 5233.53,-1257.86 1164.05,-1248.89 1123.29,-1290 1033.08,-1381 1040.12,-2350.23 1128.29,-2443.2 1216.39,-2536.1 1615.63,-2385.88 1703.29,-2479.2 1788.46,-2569.87 1710.01,-3474.58 1703.29,-3598.8 1701.54,-3631.06 1697.79,-3666.9 1694.26,-3696.15"/>
<polygon fill="black" stroke="black" points="1690.77,-3695.86 1693.02,-3706.21 1697.71,-3696.71 1690.77,-3695.86"/>
</g>
<!-- 34&#45;&gt;42 -->
<g id="edge46" class="edge">
<title>34&#45;&gt;42</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M8820.03,-909.25C8795.64,-1119.44 8769.03,-1614.25 9003.29,-1919.8 9027.51,-1951.39 9063.52,-1922.48 9085.29,-1955.8 9144.51,-2046.48 9155.94,-2361.11 9085.29,-2443.2 9050.25,-2483.91 8898.93,-2468.56 8846.29,-2479.2 7527.76,-2745.81 7226.86,-2936.57 5913.29,-3226.6 4286.35,-3585.82 2283.83,-3920.22 1796.81,-4000.1"/>
<polygon fill="black" stroke="black" points="1795.93,-3996.7 1786.62,-4001.77 1797.06,-4003.61 1795.93,-3996.7"/>
</g>
<!-- 33&#45;&gt;6 -->
<g id="edge51" class="edge">
<title>33&#45;&gt;6</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M10083.18,-1663.45C9954.12,-1739.53 9710.98,-1869.79 9483.29,-1919.8 9209.31,-1979.98 4706.54,-1888.25 4434.29,-1955.8 4402.51,-1963.69 4370.47,-1974.12 4338.88,-1986.23"/>
<polygon fill="black" stroke="black" points="4337.58,-1982.98 4329.53,-1989.87 4340.12,-1989.5 4337.58,-1982.98"/>
</g>
<!-- 33&#45;&gt;16 -->
<g id="edge49" class="edge">
<title>33&#45;&gt;16</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M10224.61,-1663.44C10292.06,-1738.88 10422.46,-1867.71 10566.29,-1919.8 10784.35,-1998.78 12433.56,-1881.59 12653.29,-1955.8 12744.91,-1986.74 12832.3,-2053.28 12894.1,-2108.88"/>
<polygon fill="black" stroke="black" points="12891.76,-2111.47 12901.51,-2115.6 12896.46,-2106.29 12891.76,-2111.47"/>
</g>
<!-- 33&#45;&gt;20 -->
<g id="edge50" class="edge">
<title>33&#45;&gt;20</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M10247.72,-1663.58C10325.86,-1726.63 10454.84,-1830.58 10566.29,-1919.8 10578.59,-1929.65 10591.14,-1939.69 10603.83,-1949.82"/>
<polygon fill="black" stroke="black" points="10601.74,-1952.64 10611.74,-1956.15 10606.11,-1947.17 10601.74,-1952.64"/>
</g>
<!-- 35&#45;&gt;52 -->
<g id="edge53" class="edge">
<title>35&#45;&gt;52</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M9755.39,-2953.61C9843.51,-3036.01 9977.92,-3151.3 10112.29,-3226.6 10271.33,-3315.72 10476.55,-3376.65 10594.49,-3407.12"/>
<polygon fill="black" stroke="black" points="10593.67,-3410.52 10604.22,-3409.61 10595.4,-3403.74 10593.67,-3410.52"/>
</g>
<!-- 35&#45;&gt;51 -->
<g id="edge52" class="edge">
<title>35&#45;&gt;51</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M9745.04,-2953.36C9901.22,-3117.56 10238.58,-3442.69 10595.29,-3598.8 10798.74,-3687.84 11048.03,-3726.46 11235.93,-3743.12"/>
<polygon fill="black" stroke="black" points="11235.69,-3746.62 11245.95,-3744 11236.29,-3739.64 11235.69,-3746.62"/>
</g>
<!-- 36&#45;&gt;6 -->
<g id="edge58" class="edge">
<title>36&#45;&gt;6</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M12121.89,-1798.01C12077.31,-1846.91 12023.25,-1893.14 11962.29,-1919.8 11770.7,-2003.6 4637.31,-1905.68 4434.29,-1955.8 4402.5,-1963.65 4370.46,-1974.06 4338.86,-1986.15"/>
<polygon fill="black" stroke="black" points="4337.57,-1982.9 4329.51,-1989.78 4340.1,-1989.42 4337.57,-1982.9"/>
</g>
<!-- 36&#45;&gt;17 -->
<g id="edge59" class="edge">
<title>36&#45;&gt;17</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M12255.29,-1797.89C12255.29,-1878.61 12255.29,-1971.17 12255.29,-2046.97"/>
<polygon fill="black" stroke="black" points="12251.79,-2047.08 12255.29,-2057.08 12258.79,-2047.08 12251.79,-2047.08"/>
</g>
<!-- 36&#45;&gt;20 -->
<g id="edge54" class="edge">
<title>36&#45;&gt;20</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M12116.2,-1798.03C12072.35,-1845.38 12020.08,-1890.78 11962.29,-1919.8 11833.21,-1984.63 11780.33,-1924.64 11639.29,-1955.8 11625.63,-1958.82 11611.88,-1962 11598.04,-1965.32"/>
<polygon fill="black" stroke="black" points="11596.85,-1962.01 11587.96,-1967.77 11598.5,-1968.81 11596.85,-1962.01"/>
</g>
<!-- 36&#45;&gt;30 -->
<g id="edge55" class="edge">
<title>36&#45;&gt;30</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M12121.24,-1797.8C12076.73,-1846.54 12022.86,-1892.73 11962.29,-1919.8 11787.17,-1998.08 10415.42,-1887.2 10236.29,-1955.8 10174.59,-1979.43 10117.18,-2022.92 10070.48,-2066.62"/>
<polygon fill="black" stroke="black" points="10067.93,-2064.22 10063.08,-2073.64 10072.74,-2069.3 10067.93,-2064.22"/>
</g>
<!-- 36&#45;&gt;32 -->
<g id="edge56" class="edge">
<title>36&#45;&gt;32</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M12347.39,-1797.92C12379.95,-1845.88 12421.44,-1891.62 12472.29,-1919.8 12623.86,-2003.8 13090.25,-1891.78 13251.29,-1955.8 13328.11,-1986.34 13398.6,-2047 13449.89,-2100.03"/>
<polygon fill="black" stroke="black" points="13447.55,-2102.66 13457,-2107.46 13452.61,-2097.82 13447.55,-2102.66"/>
</g>
<!-- 36&#45;&gt;38 -->
<g id="edge57" class="edge">
<title>36&#45;&gt;38</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M12346.49,-1797.73C12379.13,-1845.99 12420.88,-1891.94 12472.29,-1919.8 12601.39,-1989.76 13650.02,-1923.65 13793.29,-1955.8 13963.68,-1994.04 14146.39,-2085.49 14253.02,-2144.57"/>
<polygon fill="black" stroke="black" points="14251.39,-2147.67 14261.83,-2149.48 14254.79,-2141.56 14251.39,-2147.67"/>
</g>
<!-- 37&#45;&gt;11 -->
<g id="edge60" class="edge">
<title>37&#45;&gt;11</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M18667.98,-3087.76C18704.3,-3133.95 18742.33,-3181.94 18778.29,-3226.6 18785.74,-3235.86 18793.41,-3245.33 18801.18,-3254.88"/>
<polygon fill="black" stroke="black" points="18798.7,-3257.37 18807.73,-3262.91 18804.12,-3252.94 18798.7,-3257.37"/>
</g>
<!-- 38&#45;&gt;31 -->
<g id="edge61" class="edge">
<title>38&#45;&gt;31</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M14271.23,-2249.75C14179.89,-2307.6 14017.84,-2401.02 13864.29,-2443.2 13808.23,-2458.6 13382.86,-2437.56 13342.29,-2479.2 13255.4,-2568.38 13322.09,-3477.43 13294.29,-3598.8 13268.23,-3712.55 13212.31,-3834.1 13169.47,-3916.89"/>
<polygon fill="none" stroke="black" points="13160.05,-3912.24 13155.37,-3943.67 13178.64,-3922.02 13160.05,-3912.24"/>
</g>
<!-- 39 -->
<g id="node40" class="node">
<title>39</title>
<polygon fill="#f2f2f2" stroke="black" points="5647.44,-1546.5 5647.44,-1663.3 5909.14,-1663.3 5909.14,-1546.5 5647.44,-1546.5"/>
<text text-anchor="middle" x="5778.29" y="-1646.7" font-family="Times,serif" font-size="14.00">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="5778.29" y="-1629.9" font-family="Times,serif" font-size="14.00">EncodeDecode</text>
<text text-anchor="middle" x="5778.29" y="-1613.1" font-family="Times,serif" font-size="14.00">contracts/libs/EncodeDecode.sol</text>
<polyline fill="none" stroke="black" points="5647.44,-1604.9 5909.14,-1604.9 "/>
<text text-anchor="start" x="5655.44" y="-1588.3" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="5655.44" y="-1571.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;encodeAddress(_account: address): bytes</text>
<text text-anchor="start" x="5655.44" y="-1554.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;decodeAddress(_account: bytes): address</text>
</g>
<!-- 41 -->
<g id="node41" class="node">
<title>41</title>
<polygon fill="#f2f2f2" stroke="black" points="778.45,-2149.5 778.45,-2249.5 1000.12,-2249.5 1000.12,-2149.5 778.45,-2149.5"/>
<text text-anchor="middle" x="889.29" y="-2232.9" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="889.29" y="-2216.1" font-family="Times,serif" font-size="14.00">Info</text>
<text text-anchor="middle" x="889.29" y="-2199.3" font-family="Times,serif" font-size="14.00">contracts/libs/LibAccountMarket.sol</text>
<polyline fill="none" stroke="black" points="778.45,-2191.1 1000.12,-2191.1 "/>
<text text-anchor="start" x="786.45" y="-2174.5" font-family="Times,serif" font-size="14.00">positionSize: int256</text>
<text text-anchor="start" x="786.45" y="-2157.7" font-family="Times,serif" font-size="14.00">openNotional: int256</text>
</g>
<!-- 41&#45;&gt;40 -->
<g id="edge62" class="edge">
<title>41&#45;&gt;40</title>
<path fill="none" stroke="black" d="M889.29,-2249.73C889.29,-2373.73 889.29,-2697.16 889.29,-2811.3"/>
<polygon fill="black" stroke="black" points="889.29,-2811.54 893.29,-2817.54 889.29,-2823.54 885.29,-2817.54 889.29,-2811.54"/>
</g>
<!-- 43&#45;&gt;42 -->
<g id="edge63" class="edge">
<title>43&#45;&gt;42</title>
<path fill="none" stroke="black" d="M1680.88,-3806.52C1679.48,-3842.96 1679.18,-3893.53 1679.97,-3936.09"/>
<polygon fill="black" stroke="black" points="1679.97,-3936.16 1684.1,-3942.07 1680.23,-3948.15 1676.1,-3942.24 1679.97,-3936.16"/>
</g>
<!-- 42&#45;&gt;43 -->
<g id="edge64" class="edge">
<title>42&#45;&gt;43</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1692.35,-3948.15C1693.36,-3907.08 1693.26,-3855.73 1692.05,-3816.68"/>
<polygon fill="black" stroke="black" points="1695.54,-3816.39 1691.7,-3806.52 1688.55,-3816.63 1695.54,-3816.39"/>
</g>
<!-- 45&#45;&gt;43 -->
<g id="edge66" class="edge">
<title>45&#45;&gt;43</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M767.6,-3489.41C789.47,-3526.5 822.85,-3572.51 865.29,-3598.8 986.48,-3673.9 1405.38,-3726.04 1593.52,-3746.21"/>
<polygon fill="black" stroke="black" points="1593.35,-3749.71 1603.67,-3747.29 1594.09,-3742.75 1593.35,-3749.71"/>
</g>
<!-- 45&#45;&gt;42 -->
<g id="edge65" class="edge">
<title>45&#45;&gt;42</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M742.49,-3489.5C751.6,-3597.83 776.96,-3825.31 832.29,-3878.2 937.09,-3978.37 1369.23,-4007.02 1575.6,-4015.05"/>
<polygon fill="black" stroke="black" points="1575.73,-4018.56 1585.86,-4015.44 1576,-4011.56 1575.73,-4018.56"/>
</g>
<!-- 45&#45;&gt;44 -->
<g id="edge67" class="edge">
<title>45&#45;&gt;44</title>
<path fill="none" stroke="black" d="M725.32,-3489.22C710.66,-3554.23 687.18,-3658.4 674.36,-3715.26"/>
<polygon fill="black" stroke="black" points="674.36,-3715.27 676.94,-3722 671.72,-3726.98 669.14,-3720.25 674.36,-3715.27"/>
</g>
<!-- 47&#45;&gt;46 -->
<g id="edge68" class="edge">
<title>47&#45;&gt;46</title>
<path fill="none" stroke="black" d="M12549.5,-2249.6C12534.32,-2300.55 12509.86,-2381.29 12472.29,-2443.2 12392.05,-2575.42 12263.97,-2701.48 12180.94,-2777.76"/>
<polygon fill="black" stroke="black" points="12180.9,-2777.8 12179.17,-2784.8 12172.05,-2785.9 12173.77,-2778.9 12180.9,-2777.8"/>
</g>
<!-- 48 -->
<g id="node48" class="node">
<title>48</title>
<polygon fill="#f2f2f2" stroke="black" points="11866.65,-2149.5 11866.65,-2249.5 12019.92,-2249.5 12019.92,-2149.5 11866.65,-2149.5"/>
<text text-anchor="middle" x="11943.29" y="-2232.9" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="11943.29" y="-2216.1" font-family="Times,serif" font-size="14.00">IsMakeFill</text>
<text text-anchor="middle" x="11943.29" y="-2199.3" font-family="Times,serif" font-size="14.00">contracts/libs/LibFill.sol</text>
<polyline fill="none" stroke="black" points="11866.65,-2191.1 12019.92,-2191.1 "/>
<text text-anchor="start" x="11874.65" y="-2174.5" font-family="Times,serif" font-size="14.00">leftMake: bool</text>
<text text-anchor="start" x="11874.65" y="-2157.7" font-family="Times,serif" font-size="14.00">rightMake: bool</text>
</g>
<!-- 48&#45;&gt;46 -->
<g id="edge69" class="edge">
<title>48&#45;&gt;46</title>
<path fill="none" stroke="black" d="M11955.15,-2249.73C11982.25,-2362.15 12048.85,-2638.49 12081.56,-2774.17"/>
<polygon fill="black" stroke="black" points="12081.61,-2774.4 12086.9,-2779.3 12084.42,-2786.07 12079.13,-2781.17 12081.61,-2774.4"/>
</g>
<!-- 46&#45;&gt;47 -->
<g id="edge72" class="edge">
<title>46&#45;&gt;47</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M12185.21,-2785.9C12272.57,-2710.66 12407.13,-2580.24 12490.29,-2443.2 12525.51,-2385.16 12549.21,-2310.56 12560.78,-2259.49"/>
<polygon fill="black" stroke="black" points="12564.23,-2260.11 12562.93,-2249.6 12557.39,-2258.62 12564.23,-2260.11"/>
</g>
<!-- 50 -->
<g id="node51" class="node">
<title>50</title>
<polygon fill="#f2f2f2" stroke="black" points="13264.27,-3943.9 13264.27,-4094.3 13932.31,-4094.3 13932.31,-3943.9 13264.27,-3943.9"/>
<text text-anchor="middle" x="13598.29" y="-4077.7" font-family="Times,serif" font-size="14.00">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="13598.29" y="-4060.9" font-family="Times,serif" font-size="14.00">LibMath</text>
<text text-anchor="middle" x="13598.29" y="-4044.1" font-family="Times,serif" font-size="14.00">contracts/libs/LibMath.sol</text>
<polyline fill="none" stroke="black" points="13264.27,-4035.9 13932.31,-4035.9 "/>
<text text-anchor="start" x="13272.27" y="-4019.3" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="13272.27" y="-4002.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;safeGetPartialAmountFloor(numerator: uint256, denominator: uint256, target: uint256): (partialAmount: uint256)</text>
<text text-anchor="start" x="13272.27" y="-3985.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;isRoundingErrorFloor(numerator: uint256, denominator: uint256, target: uint256): (isError: bool)</text>
<text text-anchor="start" x="13272.27" y="-3968.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;safeGetPartialAmountCeil(numerator: uint256, denominator: uint256, target: uint256): (partialAmount: uint256)</text>
<text text-anchor="start" x="13272.27" y="-3952.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;isRoundingErrorCeil(numerator: uint256, denominator: uint256, target: uint256): (isError: bool)</text>
</g>
<!-- 46&#45;&gt;50 -->
<g id="edge73" class="edge">
<title>46&#45;&gt;50</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M12185.12,-2919.83C12442.38,-3119.76 13213.29,-3718.89 13494.32,-3937.3"/>
<polygon fill="black" stroke="black" points="13492.45,-3940.28 13502.49,-3943.65 13496.75,-3934.75 13492.45,-3940.28"/>
</g>
<!-- 46&#45;&gt;52 -->
<g id="edge71" class="edge">
<title>46&#45;&gt;52</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M12037.97,-2919.97C11954.34,-3004.49 11797.37,-3149.2 11634.29,-3226.6 11344.3,-3364.24 10960.06,-3409.58 10784.33,-3423.71"/>
<polygon fill="black" stroke="black" points="10784.02,-3420.23 10774.33,-3424.5 10784.57,-3427.2 10784.02,-3420.23"/>
</g>
<!-- 46&#45;&gt;51 -->
<g id="edge70" class="edge">
<title>46&#45;&gt;51</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M12075.62,-2919.76C12022.41,-3056.21 11886.84,-3375.7 11705.29,-3598.8 11697.25,-3608.68 11688.51,-3618.39 11679.35,-3627.83"/>
<polygon fill="black" stroke="black" points="11676.8,-3625.42 11672.26,-3635 11681.78,-3630.35 11676.8,-3625.42"/>
</g>
<!-- 49 -->
<g id="node50" class="node">
<title>49</title>
<polygon fill="#f2f2f2" stroke="black" points="5074.83,-2794.5 5074.83,-2911.3 5575.74,-2911.3 5575.74,-2794.5 5074.83,-2794.5"/>
<text text-anchor="middle" x="5325.29" y="-2894.7" font-family="Times,serif" font-size="14.00">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="5325.29" y="-2877.9" font-family="Times,serif" font-size="14.00">LibFullMath</text>
<text text-anchor="middle" x="5325.29" y="-2861.1" font-family="Times,serif" font-size="14.00">contracts/libs/LibFullMath.sol</text>
<polyline fill="none" stroke="black" points="5074.83,-2852.9 5575.74,-2852.9 "/>
<text text-anchor="start" x="5082.83" y="-2836.3" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="5082.83" y="-2819.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;mulDiv(a: uint256, b: uint256, denominator: uint256): (result: uint256)</text>
<text text-anchor="start" x="5082.83" y="-2802.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;mulDivRoundingUp(a: uint256, b: uint256, denominator: uint256): (result: uint256)</text>
</g>
<!-- 52&#45;&gt;43 -->
<g id="edge75" class="edge">
<title>52&#45;&gt;43</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M10604.14,-3434.76C9746.1,-3465.62 2673.73,-3719.99 1779.18,-3752.16"/>
<polygon fill="black" stroke="black" points="1778.81,-3748.67 1768.94,-3752.53 1779.06,-3755.67 1778.81,-3748.67"/>
</g>
<!-- 52&#45;&gt;42 -->
<g id="edge74" class="edge">
<title>52&#45;&gt;42</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M10603.87,-3437.6C10032.5,-3476.99 6705.82,-3705.69 3995.29,-3878.2 3149.61,-3932.02 2129.38,-3992.16 1796.85,-4011.64"/>
<polygon fill="black" stroke="black" points="1796.51,-4008.15 1786.73,-4012.23 1796.92,-4015.14 1796.51,-4008.15"/>
</g>
<!-- 52&#45;&gt;51 -->
<g id="edge76" class="edge">
<title>52&#45;&gt;51</title>
<path fill="none" stroke="black" d="M10774.58,-3466.81C10882.35,-3509.86 11073.16,-3584.83 11234.26,-3647.58"/>
<polygon fill="black" stroke="black" points="11234.63,-3647.73 11241.67,-3646.18 11245.81,-3652.08 11238.77,-3653.63 11234.63,-3647.73"/>
</g>
<!-- 51&#45;&gt;31 -->
<g id="edge79" class="edge">
<title>51&#45;&gt;31</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M11786.75,-3801.63C12128.32,-3857.37 12703.56,-3951.24 12969.94,-3994.71"/>
<polygon fill="black" stroke="black" points="12969.63,-3998.2 12980.06,-3996.36 12970.76,-3991.3 12969.63,-3998.2"/>
</g>
<!-- 51&#45;&gt;42 -->
<g id="edge81" class="edge">
<title>51&#45;&gt;42</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M11245.88,-3783.62C10937.35,-3812.26 10417.49,-3856.95 9969.29,-3878.2 8272.64,-3958.64 2655.52,-4009.74 1796.81,-4017.16"/>
<polygon fill="black" stroke="black" points="1796.6,-4013.66 1786.63,-4017.25 1796.66,-4020.66 1796.6,-4013.66"/>
</g>
<!-- 51&#45;&gt;50 -->
<g id="edge80" class="edge">
<title>51&#45;&gt;50</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M11786.8,-3764.79C12130.86,-3777.96 12741.99,-3814.42 13255.29,-3914.2 13291.73,-3921.28 13329.82,-3930.71 13366.81,-3941"/>
<polygon fill="black" stroke="black" points="13366.12,-3944.45 13376.7,-3943.78 13368.02,-3937.71 13366.12,-3944.45"/>
</g>
<!-- 51&#45;&gt;52 -->
<g id="edge78" class="edge">
<title>51&#45;&gt;52</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M11245.86,-3647.11C11086.91,-3584.55 10895.79,-3509.98 10783.88,-3467.01"/>
<polygon fill="black" stroke="black" points="10784.89,-3463.65 10774.3,-3463.34 10782.38,-3470.19 10784.89,-3463.65"/>
</g>
<!-- 51&#45;&gt;51 -->
<g id="edge77" class="edge">
<title>51&#45;&gt;51</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M11786.87,-3727.05C11798.04,-3734.66 11804.52,-3744.47 11804.52,-3756.5 11804.52,-3765.33 11801.03,-3772.97 11794.75,-3779.42"/>
<polygon fill="black" stroke="black" points="11792.33,-3776.87 11786.87,-3785.95 11796.8,-3782.26 11792.33,-3776.87"/>
</g>
<!-- 53&#45;&gt;49 -->
<g id="edge84" class="edge">
<title>53&#45;&gt;49</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5449.78,-2325.33C5417.47,-2461.99 5366.85,-2676.08 5341.26,-2784.35"/>
<polygon fill="black" stroke="black" points="5337.83,-2783.64 5338.93,-2794.18 5344.64,-2785.25 5337.83,-2783.64"/>
</g>
<!-- 54 -->
<g id="node55" class="node">
<title>54</title>
<polygon fill="#f2f2f2" stroke="black" points="5594.12,-2760.9 5594.12,-2944.9 5904.45,-2944.9 5904.45,-2760.9 5594.12,-2760.9"/>
<text text-anchor="middle" x="5749.29" y="-2928.3" font-family="Times,serif" font-size="14.00">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="5749.29" y="-2911.5" font-family="Times,serif" font-size="14.00">LibSafeCastInt</text>
<text text-anchor="middle" x="5749.29" y="-2894.7" font-family="Times,serif" font-size="14.00">contracts/libs/LibSafeCastInt.sol</text>
<polyline fill="none" stroke="black" points="5594.12,-2886.5 5904.45,-2886.5 "/>
<text text-anchor="start" x="5602.12" y="-2869.9" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="5602.12" y="-2853.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;toUint128(value: uint256): (returnValue: uint128)</text>
<text text-anchor="start" x="5602.12" y="-2836.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;toUint64(value: uint256): (returnValue: uint64)</text>
<text text-anchor="start" x="5602.12" y="-2819.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;toUint32(value: uint256): (returnValue: uint32)</text>
<text text-anchor="start" x="5602.12" y="-2802.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;toUint16(value: uint256): (returnValue: uint16)</text>
<text text-anchor="start" x="5602.12" y="-2785.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;toUint8(value: uint256): (returnValue: uint8)</text>
<text text-anchor="start" x="5602.12" y="-2769.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;toUint256(value: int256): uint256</text>
</g>
<!-- 53&#45;&gt;54 -->
<g id="edge82" class="edge">
<title>53&#45;&gt;54</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5531.03,-2325.33C5582.34,-2449.11 5659.97,-2636.41 5707.5,-2751.07"/>
<polygon fill="black" stroke="black" points="5704.37,-2752.67 5711.43,-2760.57 5710.84,-2749.99 5704.37,-2752.67"/>
</g>
<!-- 53&#45;&gt;55 -->
<g id="edge83" class="edge">
<title>53&#45;&gt;55</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5396.87,-2325.25C5361.72,-2369.09 5317.05,-2414.52 5266.29,-2443.2 5187.65,-2487.63 5147.1,-2438.87 5066.29,-2479.2 4939.19,-2542.62 4823.66,-2658.77 4749.4,-2744.61"/>
<polygon fill="black" stroke="black" points="4746.66,-2742.43 4742.79,-2752.29 4751.96,-2746.99 4746.66,-2742.43"/>
</g>
<!-- 56 -->
<g id="node57" class="node">
<title>56</title>
<polygon fill="#f2f2f2" stroke="black" points="6812.52,-2124.3 6812.52,-2274.7 7220.06,-2274.7 7220.06,-2124.3 6812.52,-2124.3"/>
<text text-anchor="middle" x="7016.29" y="-2258.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="7016.29" y="-2241.3" font-family="Times,serif" font-size="14.00">LibSettlementTokenMath</text>
<text text-anchor="middle" x="7016.29" y="-2224.5" font-family="Times,serif" font-size="14.00">contracts/libs/LibSettlementTokenMath.sol</text>
<polyline fill="none" stroke="black" points="6812.52,-2216.3 7220.06,-2216.3 "/>
<text text-anchor="start" x="6820.52" y="-2199.7" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="6820.52" y="-2182.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;parseSettlementToken(amount: uint256, decimals: uint8): uint256</text>
<text text-anchor="start" x="6820.52" y="-2166.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;parseSettlementToken(amount: int256, decimals: uint8): int256</text>
<text text-anchor="start" x="6820.52" y="-2149.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;formatSettlementToken(amount: uint256, decimals: uint8): uint256</text>
<text text-anchor="start" x="6820.52" y="-2132.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;formatSettlementToken(amount: int256, decimals: uint8): int256</text>
</g>
<!-- 57 -->
<g id="node58" class="node">
<title>57</title>
<polygon fill="#f2f2f2" stroke="black" points="1850.57,-2132.7 1850.57,-2266.3 2234,-2266.3 2234,-2132.7 1850.57,-2132.7"/>
<text text-anchor="middle" x="2042.29" y="-2249.7" font-family="Times,serif" font-size="14.00">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="2042.29" y="-2232.9" font-family="Times,serif" font-size="14.00">LibSignature</text>
<text text-anchor="middle" x="2042.29" y="-2216.1" font-family="Times,serif" font-size="14.00">contracts/libs/LibSignature.sol</text>
<polyline fill="none" stroke="black" points="1850.57,-2207.9 2234,-2207.9 "/>
<text text-anchor="start" x="1858.57" y="-2191.3" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="1858.57" y="-2174.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;recover(hash: bytes32, signature: bytes): address</text>
<text text-anchor="start" x="1858.57" y="-2157.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;recover(hash: bytes32, v: uint8, r: bytes32, s: bytes32): address</text>
<text text-anchor="start" x="1858.57" y="-2140.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;toEthSignedMessageHash(hash: bytes32): bytes32</text>
</g>
<!-- 58 -->
<g id="node59" class="node">
<title>58</title>
<polygon fill="#f2f2f2" stroke="black" points="15704.59,-2103.5 15704.59,-2295.5 16267.99,-2295.5 16267.99,-2103.5 15704.59,-2103.5"/>
<text text-anchor="middle" x="15986.29" y="-2278.9" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="15986.29" y="-2262.1" font-family="Times,serif" font-size="14.00">AssetMatcher</text>
<text text-anchor="middle" x="15986.29" y="-2245.3" font-family="Times,serif" font-size="14.00">contracts/matching&#45;engine/AssetMatcher.sol</text>
<polyline fill="none" stroke="black" points="15704.59,-2237.1 16267.99,-2237.1 "/>
<text text-anchor="start" x="15712.59" y="-2220.5" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="15712.59" y="-2203.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;__gap: uint256[50]</text>
<polyline fill="none" stroke="black" points="15704.59,-2195.5 16267.99,-2195.5 "/>
<text text-anchor="start" x="15712.59" y="-2178.9" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="15712.59" y="-2162.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_matchAssetOneSide(leftBaseToken: address, rightBaseToken: address): (baseToken: address)</text>
<text text-anchor="start" x="15712.59" y="-2145.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_simpleMatch(leftBaseToken: address, rightBaseToken: address): (baseToken: address)</text>
<text text-anchor="start" x="15712.59" y="-2128.5" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="15712.59" y="-2111.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_matchAssets(leftBaseToken: address, rightBaseToken: address): (baseToken: address)</text>
</g>
<!-- 59 -->
<g id="node60" class="node">
<title>59</title>
<polygon fill="#f2f2f2" stroke="black" points="13715.45,-767.1 13715.45,-850.3 14201.12,-850.3 14201.12,-767.1 13715.45,-767.1"/>
<text text-anchor="middle" x="13958.29" y="-833.7" font-family="Times,serif" font-size="14.00">MatchingEngine</text>
<text text-anchor="middle" x="13958.29" y="-816.9" font-family="Times,serif" font-size="14.00">contracts/matching&#45;engine/MatchingEngine.sol</text>
<polyline fill="none" stroke="black" points="13715.45,-808.7 14201.12,-808.7 "/>
<text text-anchor="start" x="13723.45" y="-792.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="13723.45" y="-775.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;initialize(_owner: address, _markPriceOracle: IMarkPriceOracle) &lt;&lt;initializer&gt;&gt;</text>
</g>
<!-- 59&#45;&gt;16 -->
<g id="edge86" class="edge">
<title>59&#45;&gt;16</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M13915.91,-850.52C13838,-928.23 13672.47,-1106.1 13590.29,-1290 13474.06,-1550.08 13673.41,-1719.07 13471.29,-1919.8 13407.83,-1982.83 13354.27,-1917.84 13273.29,-1955.8 13194.78,-1992.6 13120.09,-2056.03 13066.18,-2108.81"/>
<polygon fill="black" stroke="black" points="13063.7,-2106.34 13059.04,-2115.85 13068.62,-2111.32 13063.7,-2106.34"/>
</g>
<!-- 60 -->
<g id="node61" class="node">
<title>60</title>
<polygon fill="#f2f2f2" stroke="black" points="13598.95,-1332.5 13598.95,-1877.3 14317.62,-1877.3 14317.62,-1332.5 13598.95,-1332.5"/>
<text text-anchor="middle" x="13958.29" y="-1860.7" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="13958.29" y="-1843.9" font-family="Times,serif" font-size="14.00">MatchingEngineCore</text>
<text text-anchor="middle" x="13958.29" y="-1827.1" font-family="Times,serif" font-size="14.00">contracts/matching&#45;engine/MatchingEngineCore.sol</text>
<polyline fill="none" stroke="black" points="13598.95,-1818.9 14317.62,-1818.9 "/>
<text text-anchor="start" x="13606.95" y="-1802.3" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="13606.95" y="-1785.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;_UINT256_MAX: uint256</text>
<text text-anchor="start" x="13606.95" y="-1768.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;_ORACLE_BASE: uint256</text>
<text text-anchor="start" x="13606.95" y="-1751.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;__gap: uint256[50]</text>
<text text-anchor="start" x="13606.95" y="-1735.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="13606.95" y="-1718.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;MATCHING_ENGINE_CORE_ADMIN: bytes32</text>
<text text-anchor="start" x="13606.95" y="-1701.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;CAN_MATCH_ORDERS: bytes32</text>
<text text-anchor="start" x="13606.95" y="-1684.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;markPriceOracle: IMarkPriceOracle</text>
<text text-anchor="start" x="13606.95" y="-1667.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;makerMinSalt: mapping(address=&gt;uint256)</text>
<text text-anchor="start" x="13606.95" y="-1651.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;fills: mapping(bytes32=&gt;uint256)</text>
<polyline fill="none" stroke="black" points="13598.95,-1642.9 14317.62,-1642.9 "/>
<text text-anchor="start" x="13606.95" y="-1626.3" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="13606.95" y="-1609.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_matchAndTransfer(orderLeft: LibOrder.Order, orderRight: LibOrder.Order): (newFill: LibFill.FillResult)</text>
<text text-anchor="start" x="13606.95" y="-1592.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_updateObservation(quoteValue: uint256, baseValue: uint256, baseToken: address)</text>
<text text-anchor="start" x="13606.95" y="-1575.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_getFillSetNew(orderLeft: LibOrder.Order, orderRight: LibOrder.Order): LibFill.FillResult</text>
<text text-anchor="start" x="13606.95" y="-1559.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_getOrderFill(salt: uint256, hash: bytes32): (fill: uint256)</text>
<text text-anchor="start" x="13606.95" y="-1542.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_requireCanMatchOrders()</text>
<text text-anchor="start" x="13606.95" y="-1525.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_matchAssets(orderLeft: LibOrder.Order, orderRight: LibOrder.Order): (matchToken: address)</text>
<text text-anchor="start" x="13606.95" y="-1508.7" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="13606.95" y="-1491.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;grantMatchOrders(account: address)</text>
<text text-anchor="start" x="13606.95" y="-1475.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;cancelOrdersInBatch(orders: LibOrder.Order[])</text>
<text text-anchor="start" x="13606.95" y="-1458.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;cancelAllOrders(minSalt: uint256)</text>
<text text-anchor="start" x="13606.95" y="-1441.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;matchOrderInBatch(ordersLeft: LibOrder.Order[], ordersRight: LibOrder.Order[]) &lt;&lt;whenNotPaused&gt;&gt;</text>
<text text-anchor="start" x="13606.95" y="-1424.7" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="13606.95" y="-1407.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Canceled(hash: bytes32, trader: address, baseToken: address, amount: uint256, salt: uint256)</text>
<text text-anchor="start" x="13606.95" y="-1391.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CanceledAll(trader: address, minSalt: uint256)</text>
<text text-anchor="start" x="13606.95" y="-1374.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Matched(traders: address[2], deadline: uint64[2], salt: uint256[2], newLeftFill: uint256, newRightFill: uint256)</text>
<text text-anchor="start" x="13606.95" y="-1357.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;cancelOrder(order: LibOrder.Order)</text>
<text text-anchor="start" x="13606.95" y="-1340.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;matchOrders(orderLeft: LibOrder.Order, orderRight: LibOrder.Order): LibFill.FillResult &lt;&lt;whenNotPaused&gt;&gt;</text>
</g>
<!-- 59&#45;&gt;60 -->
<g id="edge85" class="edge">
<title>59&#45;&gt;60</title>
<path fill="none" stroke="black" d="M13958.29,-850.45C13958.29,-933.86 13958.29,-1130.66 13958.29,-1302.21"/>
<polygon fill="none" stroke="black" points="13947.79,-1302.26 13958.29,-1332.26 13968.79,-1302.26 13947.79,-1302.26"/>
</g>
<!-- 60&#45;&gt;16 -->
<g id="edge88" class="edge">
<title>60&#45;&gt;16</title>
<path fill="none" stroke="black" d="M13599,-1877.37C13569.5,-1893.31 13539.42,-1907.74 13509.29,-1919.8 13410.78,-1959.23 13369.99,-1912.14 13273.29,-1955.8 13193.98,-1991.61 13119.05,-2055.4 13065.23,-2108.6"/>
<polygon fill="black" stroke="black" points="13062.72,-2106.16 13058.11,-2115.7 13067.66,-2111.11 13062.72,-2106.16"/>
</g>
<!-- 60&#45;&gt;47 -->
<g id="edge92" class="edge">
<title>60&#45;&gt;47</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M13598.94,-1851.21C13545.29,-1878.69 13489.18,-1902.85 13433.29,-1919.8 13280.41,-1966.17 12852.59,-1874.12 12715.29,-1955.8 12647.13,-1996.35 12606.22,-2081.63 12585.21,-2139.5"/>
<polygon fill="black" stroke="black" points="12581.79,-2138.66 12581.76,-2149.26 12588.39,-2140.99 12581.79,-2138.66"/>
</g>
<!-- 60&#45;&gt;46 -->
<g id="edge91" class="edge">
<title>60&#45;&gt;46</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M13856.26,-1877.66C13848.65,-1903.83 13841.8,-1930.17 13836.29,-1955.8 13813.44,-2062.1 13870.93,-2367.08 13793.29,-2443.2 13751.38,-2484.29 13323.94,-2468.19 13266.29,-2479.2 12904.1,-2548.4 12497.25,-2695 12272.65,-2782.3"/>
<polygon fill="black" stroke="black" points="12271.14,-2779.13 12263.09,-2786.02 12273.68,-2785.66 12271.14,-2779.13"/>
</g>
<!-- 60&#45;&gt;52 -->
<g id="edge90" class="edge">
<title>60&#45;&gt;52</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M13598.69,-1828.82C13523.13,-1865.93 13442.08,-1899.06 13362.29,-1919.8 13281.34,-1940.84 11927.2,-1909.89 11857.29,-1955.8 11657.86,-2086.78 11830.61,-2310.56 11632.29,-2443.2 11550.39,-2497.97 10816.36,-2409.93 10746.29,-2479.2 10716.72,-2508.43 10710.21,-3185.12 10707.29,-3226.6 10705.16,-3256.9 10702.43,-3289.7 10699.75,-3319.93"/>
<polygon fill="black" stroke="black" points="10696.25,-3319.8 10698.84,-3330.07 10703.22,-3320.42 10696.25,-3319.8"/>
</g>
<!-- 60&#45;&gt;51 -->
<g id="edge89" class="edge">
<title>60&#45;&gt;51</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M13996.15,-1877.59C14005.56,-2064.49 13981.67,-2303.35 13829.29,-2443.2 13741.5,-2523.77 13394.59,-2414.87 13294.29,-2479.2 12817.65,-2784.88 13152.59,-3277.57 12686.29,-3598.8 12546.27,-3695.26 12096.24,-3732.5 11796.88,-3746.78"/>
<polygon fill="black" stroke="black" points="11796.57,-3743.29 11786.74,-3747.25 11796.9,-3750.28 11796.57,-3743.29"/>
</g>
<!-- 60&#45;&gt;58 -->
<g id="edge87" class="edge">
<title>60&#45;&gt;58</title>
<path fill="none" stroke="black" d="M14303.76,-1877.41C14335.88,-1894.13 14368.93,-1908.67 14402.29,-1919.8 14664.62,-2007.36 15384.16,-1867.64 15646.29,-1955.8 15725.94,-1982.59 15803.14,-2034.85 15863.79,-2084.03"/>
<polygon fill="none" stroke="black" points="15857.26,-2092.26 15887.04,-2103.39 15870.7,-2076.12 15857.26,-2092.26"/>
</g>
<!-- 61 -->
<g id="node62" class="node">
<title>61</title>
<polygon fill="#f2f2f2" stroke="black" points="1750.21,-3284.3 1750.21,-3577.1 2258.37,-3577.1 2258.37,-3284.3 1750.21,-3284.3"/>
<text text-anchor="middle" x="2004.29" y="-3560.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="2004.29" y="-3543.7" font-family="Times,serif" font-size="14.00">TransferExecutor</text>
<text text-anchor="middle" x="2004.29" y="-3526.9" font-family="Times,serif" font-size="14.00">contracts/matching&#45;engine/TransferExecutor.sol</text>
<polyline fill="none" stroke="black" points="1750.21,-3518.7 2258.37,-3518.7 "/>
<text text-anchor="start" x="1758.21" y="-3502.1" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="1758.21" y="-3485.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;__gap: uint256[50]</text>
<text text-anchor="start" x="1758.21" y="-3468.5" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="1758.21" y="-3451.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;_proxy: address</text>
<text text-anchor="start" x="1758.21" y="-3434.9" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1758.21" y="-3418.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;TRANSFER_EXECUTOR: bytes32</text>
<polyline fill="none" stroke="black" points="1750.21,-3409.9 2258.37,-3409.9 "/>
<text text-anchor="start" x="1758.21" y="-3393.3" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="1758.21" y="-3376.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;__TransferExecutor_init_unchained(_erc20TransferProxy: address, _owner: address)</text>
<text text-anchor="start" x="1758.21" y="-3359.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_transfer(asset: LibAsset.Asset, from: address, to: address, proxy: address)</text>
<text text-anchor="start" x="1758.21" y="-3342.9" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="1758.21" y="-3326.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setTransferProxy(proxy: address)</text>
<text text-anchor="start" x="1758.21" y="-3309.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1758.21" y="-3292.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ProxyChanged(proxy: address)</text>
</g>
<!-- 61&#45;&gt;43 -->
<g id="edge94" class="edge">
<title>61&#45;&gt;43</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1861.1,-3577.5C1818.8,-3620.57 1774.99,-3665.18 1741.81,-3698.96"/>
<polygon fill="black" stroke="black" points="1738.98,-3696.85 1734.47,-3706.44 1743.98,-3701.75 1738.98,-3696.85"/>
</g>
<!-- 61&#45;&gt;42 -->
<g id="edge93" class="edge">
<title>61&#45;&gt;42</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1935.14,-3577.3C1892.01,-3665.59 1834.08,-3779.82 1777.29,-3878.2 1765.56,-3898.51 1752.16,-3919.96 1739.3,-3939.8"/>
<polygon fill="black" stroke="black" points="1736.36,-3937.91 1733.84,-3948.2 1742.23,-3941.73 1736.36,-3937.91"/>
</g>
<!-- 62 -->
<g id="node63" class="node">
<title>62</title>
<polygon fill="#f2f2f2" stroke="black" points="1018.02,-2714.9 1018.02,-2990.9 1694.56,-2990.9 1694.56,-2714.9 1018.02,-2714.9"/>
<text text-anchor="middle" x="1356.29" y="-2974.3" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="1356.29" y="-2957.5" font-family="Times,serif" font-size="14.00">TransferManager</text>
<text text-anchor="middle" x="1356.29" y="-2940.7" font-family="Times,serif" font-size="14.00">contracts/matching&#45;engine/TransferManager.sol</text>
<polyline fill="none" stroke="black" points="1018.02,-2932.5 1694.56,-2932.5 "/>
<text text-anchor="start" x="1026.02" y="-2915.9" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="1026.02" y="-2899.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;_BASE: uint256</text>
<text text-anchor="start" x="1026.02" y="-2882.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;__gap: uint256[50]</text>
<polyline fill="none" stroke="black" points="1018.02,-2874.1 1694.56,-2874.1 "/>
<text text-anchor="start" x="1026.02" y="-2857.5" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="1026.02" y="-2840.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;__TransferManager_init_unchained(_erc20Proxy: address, _owner: address) &lt;&lt;initializer&gt;&gt;</text>
<text text-anchor="start" x="1026.02" y="-2823.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_doTransfers(left: LibDeal.DealSide, right: LibDeal.DealSide): (totalLeftValue: uint256, totalRightValue: uint256)</text>
<text text-anchor="start" x="1026.02" y="-2807.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_transferPayouts(matchCalculate: address, amount: uint256, from: address, to: address, proxy: address)</text>
<text text-anchor="start" x="1026.02" y="-2790.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_calculateTotalAmount(amount: uint256, feeOnTopBp: uint256, maxFeesBasePoint: uint256): uint256</text>
<text text-anchor="start" x="1026.02" y="-2773.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_subFeeInBp(value: uint256, total: uint256, feeInBp: uint256): (newValue: uint256, realFee: uint256)</text>
<text text-anchor="start" x="1026.02" y="-2756.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_subFee(value: uint256, fee: uint256): (newValue: uint256, realFee: uint256)</text>
<text text-anchor="start" x="1026.02" y="-2739.9" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1026.02" y="-2723.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ProtocolFeeChanged(oldValue: uint256, newValue: uint256)</text>
</g>
<!-- 62&#45;&gt;42 -->
<g id="edge98" class="edge">
<title>62&#45;&gt;42</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1260.59,-2991.15C1197.9,-3071.17 1109.23,-3167.64 1009.29,-3226.6 952.47,-3260.12 905.89,-3210.6 865.29,-3262.6 819.31,-3321.49 831.19,-3532.32 865.29,-3598.8 1003.43,-3868.11 1385.52,-3968.35 1575.74,-4002.34"/>
<polygon fill="black" stroke="black" points="1575.31,-4005.82 1585.76,-4004.1 1576.52,-3998.92 1575.31,-4005.82"/>
</g>
<!-- 62&#45;&gt;45 -->
<g id="edge97" class="edge">
<title>62&#45;&gt;45</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1262.57,-2991.36C1200.16,-3072.24 1111.09,-3169.54 1009.29,-3226.6 939.26,-3265.85 897.18,-3215.34 832.29,-3262.6 798.72,-3287.05 775.54,-3327.36 760.6,-3362.26"/>
<polygon fill="black" stroke="black" points="757.19,-3361.37 756.61,-3371.95 763.66,-3364.04 757.19,-3361.37"/>
</g>
<!-- 62&#45;&gt;44 -->
<g id="edge96" class="edge">
<title>62&#45;&gt;44</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1267.29,-2991.3C1205.52,-3074.32 1115.42,-3173.97 1009.29,-3226.6 937.26,-3262.32 703.24,-3202.99 649.29,-3262.6 532.47,-3391.68 611.32,-3626.68 648.71,-3717.9"/>
<polygon fill="black" stroke="black" points="645.54,-3719.4 652.62,-3727.28 652,-3716.71 645.54,-3719.4"/>
</g>
<!-- 62&#45;&gt;61 -->
<g id="edge95" class="edge">
<title>62&#45;&gt;61</title>
<path fill="none" stroke="black" d="M1510.68,-2991.09C1602.87,-3073.01 1720.59,-3177.61 1817.94,-3264.11"/>
<polygon fill="none" stroke="black" points="1811.21,-3272.18 1840.61,-3284.26 1825.16,-3256.48 1811.21,-3272.18"/>
</g>
<!-- 63 -->
<g id="node64" class="node">
<title>63</title>
<polygon fill="#f2f2f2" stroke="black" points="1421.98,-695.9 1421.98,-921.5 1764.59,-921.5 1764.59,-695.9 1421.98,-695.9"/>
<text text-anchor="middle" x="1593.29" y="-904.9" font-family="Times,serif" font-size="14.00">AccountBalanceMock</text>
<text text-anchor="middle" x="1593.29" y="-888.1" font-family="Times,serif" font-size="14.00">contracts/mocks/AccountBalanceMock.sol</text>
<polyline fill="none" stroke="black" points="1421.98,-879.9 1764.59,-879.9 "/>
<text text-anchor="start" x="1429.98" y="-863.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1429.98" y="-846.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;fakeOwedRealisedPnlX10_18: int256</text>
<text text-anchor="start" x="1429.98" y="-829.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;fakeUnrealizedPnlX10_18: int256</text>
<text text-anchor="start" x="1429.98" y="-812.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;fakePendingFeeX10_18: uint256</text>
<polyline fill="none" stroke="black" points="1421.98,-804.7 1764.59,-804.7 "/>
<text text-anchor="start" x="1429.98" y="-788.1" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="1429.98" y="-771.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getPnlAndPendingFee(trader: address): (int256, int256)</text>
<text text-anchor="start" x="1429.98" y="-754.5" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1429.98" y="-737.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;mock_setOwedRealisedPnlX10_18(value: int256)</text>
<text text-anchor="start" x="1429.98" y="-720.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;mock_setUnrealizedPnlX10_18(value: int256)</text>
<text text-anchor="start" x="1429.98" y="-704.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;mock_setPendingFeeX10_18(value: uint256)</text>
</g>
<!-- 69 -->
<g id="node70" class="node">
<title>69</title>
<polygon fill="#f2f2f2" stroke="black" points="1131.97,-1307.3 1131.97,-1902.5 2054.6,-1902.5 2054.6,-1307.3 1131.97,-1307.3"/>
<text text-anchor="middle" x="1593.29" y="-1885.9" font-family="Times,serif" font-size="14.00">AccountBalance</text>
<text text-anchor="middle" x="1593.29" y="-1869.1" font-family="Times,serif" font-size="14.00">contracts/orderbook/AccountBalance.sol</text>
<polyline fill="none" stroke="black" points="1131.97,-1860.9 2054.6,-1860.9 "/>
<text text-anchor="start" x="1139.97" y="-1844.3" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="1139.97" y="-1827.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;_MIN_PARTIAL_LIQUIDATE_POSITION_VALUE: uint256</text>
<polyline fill="none" stroke="black" points="1131.97,-1819.3 2054.6,-1819.3 "/>
<text text-anchor="start" x="1139.97" y="-1802.7" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="1139.97" y="-1785.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_modifyTakerBalance(trader: address, baseToken: address, base: int256, quote: int256): (int256, int256)</text>
<text text-anchor="start" x="1139.97" y="-1769.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_modifyOwedRealizedPnl(trader: address, amount: int256, baseToken: address)</text>
<text text-anchor="start" x="1139.97" y="-1752.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_settleQuoteToOwedRealizedPnl(trader: address, baseToken: address, amount: int256)</text>
<text text-anchor="start" x="1139.97" y="-1735.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_deregisterBaseToken(trader: address, baseToken: address)</text>
<text text-anchor="start" x="1139.97" y="-1718.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_getIndexPrice(baseToken: address): uint256</text>
<text text-anchor="start" x="1139.97" y="-1701.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_getNetQuoteBalance(trader: address): int256</text>
<text text-anchor="start" x="1139.97" y="-1685.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_requireAccountBalanceAdmin()</text>
<text text-anchor="start" x="1139.97" y="-1668.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_hasBaseToken(baseTokens: address[], baseToken: address): bool</text>
<text text-anchor="start" x="1139.97" y="-1651.5" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="1139.97" y="-1634.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;initialize(positioningConfigArg: address) &lt;&lt;initializer&gt;&gt;</text>
<text text-anchor="start" x="1139.97" y="-1617.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;grantSettleRealizedPnlRole(account: address)</text>
<text text-anchor="start" x="1139.97" y="-1601.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setUnderlyingPriceIndex(underlyingIndex: uint64)</text>
<text text-anchor="start" x="1139.97" y="-1584.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;modifyOwedRealizedPnl(trader: address, amount: int256, baseToken: address)</text>
<text text-anchor="start" x="1139.97" y="-1567.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;settleOwedRealizedPnl(trader: address): int256</text>
<text text-anchor="start" x="1139.97" y="-1550.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;registerBaseToken(trader: address, baseToken: address)</text>
<text text-anchor="start" x="1139.97" y="-1533.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;settleBalanceAndDeregister(trader: address, baseToken: address, takerBase: int256, takerQuote: int256, realizedPnl: int256, fee: int256): (positionSize: int256)</text>
<text text-anchor="start" x="1139.97" y="-1517.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getPositioningConfig(): address</text>
<text text-anchor="start" x="1139.97" y="-1500.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getBaseTokens(trader: address): address[]</text>
<text text-anchor="start" x="1139.97" y="-1483.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getAccountInfo(trader: address, baseToken: address): LibAccountMarket.Info</text>
<text text-anchor="start" x="1139.97" y="-1466.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getLiquidatablePositionSize(trader: address, baseToken: address, accountValue: int256): int256</text>
<text text-anchor="start" x="1139.97" y="-1449.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getOpenNotional(trader: address, baseToken: address): int256</text>
<text text-anchor="start" x="1139.97" y="-1433.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getTotalDebtValue(trader: address): uint256</text>
<text text-anchor="start" x="1139.97" y="-1416.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getPnlAndPendingFee(trader: address): (int256, int256)</text>
<text text-anchor="start" x="1139.97" y="-1399.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getIndexPrice(baseToken: address): (indexPrice: uint256)</text>
<text text-anchor="start" x="1139.97" y="-1382.7" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1139.97" y="-1365.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getMarginRequirementForLiquidation(trader: address): int256</text>
<text text-anchor="start" x="1139.97" y="-1349.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getPositionSize(trader: address, baseToken: address): int256</text>
<text text-anchor="start" x="1139.97" y="-1332.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getTotalPositionValue(trader: address, baseToken: address): int256</text>
<text text-anchor="start" x="1139.97" y="-1315.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getTotalAbsPositionValue(trader: address): uint256</text>
</g>
<!-- 63&#45;&gt;69 -->
<g id="edge99" class="edge">
<title>63&#45;&gt;69</title>
<path fill="none" stroke="black" d="M1593.29,-921.81C1593.29,-1014.33 1593.29,-1150.5 1593.29,-1276.88"/>
<polygon fill="none" stroke="black" points="1582.79,-1277.06 1593.29,-1307.06 1603.79,-1277.06 1582.79,-1277.06"/>
</g>
<!-- 64 -->
<g id="node65" class="node">
<title>64</title>
<polygon fill="#f2f2f2" stroke="black" points="4105.01,-76.1 4105.01,-251.3 4603.56,-251.3 4603.56,-76.1 4105.01,-76.1"/>
<text text-anchor="middle" x="4354.29" y="-234.7" font-family="Times,serif" font-size="14.00">PositioningMock</text>
<text text-anchor="middle" x="4354.29" y="-217.9" font-family="Times,serif" font-size="14.00">contracts/mocks/PositioningMock.sol</text>
<polyline fill="none" stroke="black" points="4105.01,-209.7 4603.56,-209.7 "/>
<text text-anchor="start" x="4113.01" y="-193.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="4113.01" y="-176.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;fakeFundingPaymentX10_18: int256</text>
<polyline fill="none" stroke="black" points="4105.01,-168.1 4603.56,-168.1 "/>
<text text-anchor="start" x="4113.01" y="-151.5" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="4113.01" y="-134.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;settleAllFunding(trader: address)</text>
<text text-anchor="start" x="4113.01" y="-117.9" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="4113.01" y="-101.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;mock_setFundingPaymentX10_18(value: int256)</text>
<text text-anchor="start" x="4113.01" y="-84.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getAllPendingFundingPayment(trader: address): (pendingFundingPayment: int256)</text>
</g>
<!-- 71 -->
<g id="node72" class="node">
<title>71</title>
<polygon fill="#f2f2f2" stroke="black" points="3854.2,-363.9 3854.2,-1253.5 5282.37,-1253.5 5282.37,-363.9 3854.2,-363.9"/>
<text text-anchor="middle" x="4568.29" y="-1236.9" font-family="Times,serif" font-size="14.00">Positioning</text>
<text text-anchor="middle" x="4568.29" y="-1220.1" font-family="Times,serif" font-size="14.00">contracts/orderbook/Positioning.sol</text>
<polyline fill="none" stroke="black" points="3854.2,-1211.9 5282.37,-1211.9 "/>
<text text-anchor="start" x="3862.2" y="-1195.3" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="3862.2" y="-1178.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_liquidate(trader: address, baseToken: address, positionSizeToBeLiquidated: int256)</text>
<text text-anchor="start" x="3862.2" y="-1161.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_settleFunding(trader: address, baseToken: address)</text>
<text text-anchor="start" x="3862.2" y="-1144.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_modifyOwedRealizedPnl(trader: address, amount: int256, baseToken: address)</text>
<text text-anchor="start" x="3862.2" y="-1128.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_openPosition(orderLeft: LibOrder.Order, orderRight: LibOrder.Order, baseToken: address): (internalData: InternalData)</text>
<text text-anchor="start" x="3862.2" y="-1111.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_updateTokenAmount(trader: address, baseToken: address)</text>
<text text-anchor="start" x="3862.2" y="-1094.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_modifyPositionAndRealizePnl(trader: address, baseToken: address, exchangedPositionSize: int256, exchangedPositionNotional: int256, makerFee: uint256)</text>
<text text-anchor="start" x="3862.2" y="-1077.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_settleBalanceAndDeregister(trader: address, baseToken: address, takerBase: int256, takerQuote: int256, realizedPnl: int256, makerFee: int256): int256</text>
<text text-anchor="start" x="3862.2" y="-1060.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_registerBaseToken(trader: address, token: address)</text>
<text text-anchor="start" x="3862.2" y="-1044.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_getLiquidationPenaltyRatio(): uint24</text>
<text text-anchor="start" x="3862.2" y="-1027.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_getTotalAbsPositionValue(trader: address): uint256</text>
<text text-anchor="start" x="3862.2" y="-1010.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_realizePnLChecks(order: LibOrder.Order, baseToken: address, exchangedPositionSize: int256, exchangedPositionNotional: int256): int256</text>
<text text-anchor="start" x="3862.2" y="-993.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_getLiquidatedPositionSizeAndNotional(trader: address, baseToken: address, accountValue: int256, positionSizeToBeLiquidated: int256): (int256, int256)</text>
<text text-anchor="start" x="3862.2" y="-976.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_getIndexPrice(baseToken: address): uint256</text>
<text text-anchor="start" x="3862.2" y="-960.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_getTakerOpenNotional(trader: address, baseToken: address): int256</text>
<text text-anchor="start" x="3862.2" y="-943.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_calculateFees(isLeftMaker: bool, leftExchangedPositionNotional: int256, rightExchangedPositionNotional: int256): (orderFees: OrderFees)</text>
<text text-anchor="start" x="3862.2" y="-926.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_validateFull(order: LibOrder.Order, signature: bytes)</text>
<text text-anchor="start" x="3862.2" y="-909.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_isAccountLiquidatable(trader: address): bool</text>
<text text-anchor="start" x="3862.2" y="-892.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_getTakerPosition(trader: address, baseToken: address): int256</text>
<text text-anchor="start" x="3862.2" y="-876.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_requireEnoughFreeCollateral(trader: address)</text>
<text text-anchor="start" x="3862.2" y="-859.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_getFeeReceiver(): address</text>
<text text-anchor="start" x="3862.2" y="-842.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_getAccountValue(trader: address): int256</text>
<text text-anchor="start" x="3862.2" y="-825.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_getFreeCollateralByRatio(trader: address, ratio: uint24): int256</text>
<text text-anchor="start" x="3862.2" y="-808.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_msgSender(): address</text>
<text text-anchor="start" x="3862.2" y="-792.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_msgData(): bytes</text>
<text text-anchor="start" x="3862.2" y="-775.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_requirePositioningAdmin()</text>
<text text-anchor="start" x="3862.2" y="-758.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_requireWhitelistLiquidator(liquidator: address)</text>
<text text-anchor="start" x="3862.2" y="-741.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_getPnlToBeRealized(params: InternalRealizePnlParams): int256</text>
<text text-anchor="start" x="3862.2" y="-724.9" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="3862.2" y="-708.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;initialize(positioningConfigArg: address, vaultControllerArg: address, accountBalanceArg: address, matchingEngineArg: address, markPriceArg: address, indexPriceArg: address, underlyingPriceIndex: uint64, liquidators: address[2]) &lt;&lt;initializer&gt;&gt;</text>
<text text-anchor="start" x="3862.2" y="-691.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setMarketRegistry(marketRegistryArg: address)</text>
<text text-anchor="start" x="3862.2" y="-674.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;settleAllFunding(trader: address)</text>
<text text-anchor="start" x="3862.2" y="-657.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setDefaultFeeReceiver(newDefaultFeeReceiver: address) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="3862.2" y="-640.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setIndexPriceOracle(indexPriceOracle: address)</text>
<text text-anchor="start" x="3862.2" y="-624.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;whitelistLiquidator(liquidator: address, isWhitelist: bool)</text>
<text text-anchor="start" x="3862.2" y="-607.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setFundingInterval(interval: int256)</text>
<text text-anchor="start" x="3862.2" y="-590.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;liquidate(trader: address, baseToken: address, positionSize: int256) &lt;&lt;whenNotPaused, nonReentrant&gt;&gt;</text>
<text text-anchor="start" x="3862.2" y="-573.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;liquidateFullPosition(trader: address, baseToken: address) &lt;&lt;whenNotPaused, nonReentrant&gt;&gt;</text>
<text text-anchor="start" x="3862.2" y="-556.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;openPosition(orderLeft: LibOrder.Order, signatureLeft: bytes, orderRight: LibOrder.Order, signatureRight: bytes, liquidator: bytes) &lt;&lt;whenNotPaused, nonReentrant&gt;&gt;</text>
<text text-anchor="start" x="3862.2" y="-540.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getLiquidatablePosition(trader: address, baseToken: address): uint256</text>
<text text-anchor="start" x="3862.2" y="-523.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getPositioningConfig(): address</text>
<text text-anchor="start" x="3862.2" y="-506.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getVaultController(): address</text>
<text text-anchor="start" x="3862.2" y="-489.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getAccountBalance(): address</text>
<text text-anchor="start" x="3862.2" y="-472.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getOrderValidate(order: LibOrder.Order): bool</text>
<text text-anchor="start" x="3862.2" y="-456.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getAllPendingFundingPayment(trader: address): (pendingFundingPayment: int256)</text>
<text text-anchor="start" x="3862.2" y="-439.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getIndexPrice(baseToken: address): (indexPrice: uint256)</text>
<text text-anchor="start" x="3862.2" y="-422.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;isAccountLiquidatable(trader: address): bool</text>
<text text-anchor="start" x="3862.2" y="-405.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getAccountValue(trader: address): (accountValue: int256)</text>
<text text-anchor="start" x="3862.2" y="-388.9" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="3862.2" y="-372.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getPnlToBeRealized(params: RealizePnlParams): int256</text>
</g>
<!-- 64&#45;&gt;71 -->
<g id="edge100" class="edge">
<title>64&#45;&gt;71</title>
<path fill="none" stroke="black" d="M4383.15,-251.42C4391.27,-275.83 4400.72,-304.2 4410.96,-334.98"/>
<polygon fill="none" stroke="black" points="4401.14,-338.71 4420.57,-363.86 4421.06,-332.08 4401.14,-338.71"/>
</g>
<!-- 65 -->
<g id="node66" class="node">
<title>65</title>
<polygon fill="#f2f2f2" stroke="black" points="18213.32,-1290.5 18213.32,-1919.3 19289.26,-1919.3 19289.26,-1290.5 18213.32,-1290.5"/>
<text text-anchor="middle" x="18751.29" y="-1902.7" font-family="Times,serif" font-size="14.00">IndexPriceOracle</text>
<text text-anchor="middle" x="18751.29" y="-1885.9" font-family="Times,serif" font-size="14.00">contracts/oracles/IndexPriceOracle.sol</text>
<polyline fill="none" stroke="black" points="18213.32,-1877.7 19289.26,-1877.7 "/>
<text text-anchor="start" x="18221.32" y="-1861.1" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="18221.32" y="-1844.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;_VOLATILITY_PRICE_PRECISION: uint256</text>
<text text-anchor="start" x="18221.32" y="-1827.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;_MAX_ALLOWED_TWAP_DATAPOINTS: uint256</text>
<text text-anchor="start" x="18221.32" y="-1810.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;_IVOLMEX_ORACLE_ID: bytes4</text>
<text text-anchor="start" x="18221.32" y="-1793.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;_volatilityTokenPriceByIndex: mapping(uint256=&gt;uint256)</text>
<text text-anchor="start" x="18221.32" y="-1777.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="18221.32" y="-1760.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;INDEX_PRICE_ORACLE_ADMIN: bytes32</text>
<text text-anchor="start" x="18221.32" y="-1743.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;volatilityCapRatioByIndex: mapping(uint256=&gt;uint256)</text>
<text text-anchor="start" x="18221.32" y="-1726.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;volatilityTokenPriceProofHash: mapping(uint256=&gt;bytes32)</text>
<text text-anchor="start" x="18221.32" y="-1709.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;volatilityIndexBySymbol: mapping(string=&gt;uint256)</text>
<text text-anchor="start" x="18221.32" y="-1693.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;volatilityLeverageByIndex: mapping(uint256=&gt;uint256)</text>
<text text-anchor="start" x="18221.32" y="-1676.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;baseVolatilityIndex: mapping(uint256=&gt;uint256)</text>
<text text-anchor="start" x="18221.32" y="-1659.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;volatilityLastUpdateTimestamp: mapping(uint256=&gt;uint256)</text>
<text text-anchor="start" x="18221.32" y="-1642.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;indexCount: uint256</text>
<polyline fill="none" stroke="black" points="18213.32,-1634.5 19289.26,-1634.5 "/>
<text text-anchor="start" x="18221.32" y="-1617.9" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="18221.32" y="-1601.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_updateVolatilityMeta(_index: uint256, _volatilityTokenPrice: uint256, _proofHash: bytes32)</text>
<text text-anchor="start" x="18221.32" y="-1584.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_getVolatilityTokenPrice(_index: uint256): (volatilityTokenTwap: uint256, iVolatilityTokenTwap: uint256, lastUpdateTimestamp: uint256)</text>
<text text-anchor="start" x="18221.32" y="-1567.5" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="18221.32" y="-1550.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_requireIndexPriceOracleAdmin()</text>
<text text-anchor="start" x="18221.32" y="-1533.9" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="18221.32" y="-1517.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;initialize(_owner: address) &lt;&lt;initializer&gt;&gt;</text>
<text text-anchor="start" x="18221.32" y="-1500.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;updateIndexBySymbol(_tokenSymbol: string, _index: uint256)</text>
<text text-anchor="start" x="18221.32" y="-1483.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;updateBaseVolatilityIndex(_leverageVolatilityIndex: uint256, _newBaseVolatilityIndex: uint256)</text>
<text text-anchor="start" x="18221.32" y="-1466.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;addVolatilityIndex(_volatilityTokenPrice: uint256, _protocol: IVolmexProtocol, _volatilityTokenSymbol: string, _leverage: uint256, _baseVolatilityIndex: uint256, _proofHash: bytes32)</text>
<text text-anchor="start" x="18221.32" y="-1449.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;updateBatchVolatilityTokenPrice(_volatilityIndexes: uint256[], _volatilityTokenPrices: uint256[], _proofHashes: bytes32[])</text>
<text text-anchor="start" x="18221.32" y="-1433.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;addIndexDataPoint(_index: uint256, _value: uint256)</text>
<text text-anchor="start" x="18221.32" y="-1416.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;updateTwapMaxDatapoints(_value: uint256)</text>
<text text-anchor="start" x="18221.32" y="-1399.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getVolatilityPriceBySymbol(_volatilityTokenSymbol: string): (volatilityTokenPrice: uint256, iVolatilityTokenPrice: uint256, lastUpdateTimestamp: uint256)</text>
<text text-anchor="start" x="18221.32" y="-1382.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getVolatilityTokenPriceByIndex(_index: uint256): (volatilityTokenPrice: uint256, iVolatilityTokenPrice: uint256, lastUpdateTimestamp: uint256)</text>
<text text-anchor="start" x="18221.32" y="-1365.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getIndexTwap(_index: uint256): (volatilityTokenTwap: uint256, iVolatilityTokenTwap: uint256, lastUpdateTimestamp: uint256)</text>
<text text-anchor="start" x="18221.32" y="-1349.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getIndexDataPoints(_index: uint256): (dp: uint256[])</text>
<text text-anchor="start" x="18221.32" y="-1332.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;latestRoundData(_index: uint256): (answer: uint256, lastUpdateTimestamp: uint256)</text>
<text text-anchor="start" x="18221.32" y="-1315.5" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="18221.32" y="-1298.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;supportsInterface(interfaceId: bytes4): bool</text>
</g>
<!-- 65&#45;&gt;15 -->
<g id="edge102" class="edge">
<title>65&#45;&gt;15</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M18335.56,-1919.34C18316,-1934.08 18296.52,-1948.77 18277.3,-1963.26"/>
<polygon fill="none" stroke="black" points="18270.76,-1955.04 18253.13,-1981.49 18283.4,-1971.81 18270.76,-1955.04"/>
</g>
<!-- 65&#45;&gt;37 -->
<g id="edge103" class="edge">
<title>65&#45;&gt;37</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M18975.42,-1919.42C18980.23,-1931.47 18984.55,-1943.61 18988.29,-1955.8 19051.82,-2162.9 19127.92,-2277.59 18988.29,-2443.2 18927.25,-2515.6 18859.61,-2430.68 18778.29,-2479.2 18723.18,-2512.08 18674.52,-2559.58 18633.51,-2609.71"/>
<polygon fill="black" stroke="black" points="18630.56,-2607.79 18627,-2617.77 18636,-2612.19 18630.56,-2607.79"/>
</g>
<!-- 66 -->
<g id="node67" class="node">
<title>66</title>
<polygon fill="#f2f2f2" stroke="black" points="18522.79,-2061.5 18522.79,-2337.5 18979.79,-2337.5 18979.79,-2061.5 18522.79,-2061.5"/>
<text text-anchor="middle" x="18751.29" y="-2320.9" font-family="Times,serif" font-size="14.00">IndexTWAP</text>
<text text-anchor="middle" x="18751.29" y="-2304.1" font-family="Times,serif" font-size="14.00">contracts/oracles/IndexTWAP.sol</text>
<polyline fill="none" stroke="black" points="18522.79,-2295.9 18979.79,-2295.9 "/>
<text text-anchor="start" x="18530.79" y="-2279.3" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="18530.79" y="-2262.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;_MAX_DATAPOINTS: uint256</text>
<text text-anchor="start" x="18530.79" y="-2245.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;_datapoints: mapping(uint256=&gt;uint256[])</text>
<text text-anchor="start" x="18530.79" y="-2228.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;_datapointsCursor: mapping(uint256=&gt;uint256)</text>
<text text-anchor="start" x="18530.79" y="-2212.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;__gap: uint256[10]</text>
<polyline fill="none" stroke="black" points="18522.79,-2203.9 18979.79,-2203.9 "/>
<text text-anchor="start" x="18530.79" y="-2187.3" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="18530.79" y="-2170.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_addIndexDataPoint(_index: uint256, _value: uint256)</text>
<text text-anchor="start" x="18530.79" y="-2153.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_updateTwapMaxDatapoints(_value: uint256)</text>
<text text-anchor="start" x="18530.79" y="-2136.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_getIndexTwap(_index: uint256): (twap: uint256)</text>
<text text-anchor="start" x="18530.79" y="-2120.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_getIndexDataPoints(_index: uint256): (datapoints: uint256[])</text>
<text text-anchor="start" x="18530.79" y="-2103.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="18530.79" y="-2086.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; IndexDataPointAdded(indexed_index: uint256, _value: uint256)</text>
<text text-anchor="start" x="18530.79" y="-2069.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; MaxTwapDatapointsUpdated(_value: uint256)</text>
</g>
<!-- 65&#45;&gt;66 -->
<g id="edge101" class="edge">
<title>65&#45;&gt;66</title>
<path fill="none" stroke="black" d="M18751.29,-1919.55C18751.29,-1958.1 18751.29,-1996.25 18751.29,-2031.38"/>
<polygon fill="none" stroke="black" points="18740.79,-2031.42 18751.29,-2061.42 18761.79,-2031.42 18740.79,-2031.42"/>
</g>
<!-- 68 -->
<g id="node68" class="node">
<title>68</title>
<polygon fill="#f2f2f2" stroke="black" points="18174.2,-113.7 18174.2,-213.7 18404.38,-213.7 18404.38,-113.7 18174.2,-113.7"/>
<text text-anchor="middle" x="18289.29" y="-197.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="18289.29" y="-180.3" font-family="Times,serif" font-size="14.00">Observation</text>
<text text-anchor="middle" x="18289.29" y="-163.5" font-family="Times,serif" font-size="14.00">contracts/oracles/MarkPriceOracle.sol</text>
<polyline fill="none" stroke="black" points="18174.2,-155.3 18404.38,-155.3 "/>
<text text-anchor="start" x="18182.2" y="-138.7" font-family="Times,serif" font-size="14.00">timestamp: uint256</text>
<text text-anchor="start" x="18182.2" y="-121.9" font-family="Times,serif" font-size="14.00">priceCumulative: uint256</text>
</g>
<!-- 67 -->
<g id="node69" class="node">
<title>67</title>
<polygon fill="#f2f2f2" stroke="black" points="18013.93,-595.1 18013.93,-1022.3 18564.65,-1022.3 18564.65,-595.1 18013.93,-595.1"/>
<text text-anchor="middle" x="18289.29" y="-1005.7" font-family="Times,serif" font-size="14.00">MarkPriceOracle</text>
<text text-anchor="middle" x="18289.29" y="-988.9" font-family="Times,serif" font-size="14.00">contracts/oracles/MarkPriceOracle.sol</text>
<polyline fill="none" stroke="black" points="18013.93,-980.7 18564.65,-980.7 "/>
<text text-anchor="start" x="18021.93" y="-964.1" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="18021.93" y="-947.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;_indexCount: uint64</text>
<text text-anchor="start" x="18021.93" y="-930.5" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="18021.93" y="-913.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;MARK_PRICE_ORACLE_ADMIN: bytes32</text>
<text text-anchor="start" x="18021.93" y="-896.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;CAN_ADD_OBSERVATION: bytes32</text>
<text text-anchor="start" x="18021.93" y="-880.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;matchingEngine: address</text>
<text text-anchor="start" x="18021.93" y="-863.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;baseTokenByIndex: mapping(uint64=&gt;address)</text>
<text text-anchor="start" x="18021.93" y="-846.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;indexByBaseToken: mapping(address=&gt;uint64)</text>
<text text-anchor="start" x="18021.93" y="-829.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;observationsByIndex: mapping(uint64=&gt;Observation[])</text>
<polyline fill="none" stroke="black" points="18013.93,-821.5 18564.65,-821.5 "/>
<text text-anchor="start" x="18021.93" y="-804.9" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="18021.93" y="-788.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_requireCanAddObservation()</text>
<text text-anchor="start" x="18021.93" y="-771.3" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="18021.93" y="-754.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;initialize(_priceCumulative: uint256[], _asset: address[]) &lt;&lt;initializer&gt;&gt;</text>
<text text-anchor="start" x="18021.93" y="-737.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setMatchingEngine(_matchingEngine: address)</text>
<text text-anchor="start" x="18021.93" y="-720.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;addAssets(_priceCumulative: uint256[], _asset: address[]) &lt;&lt;onlyMatchingEngine&gt;&gt;</text>
<text text-anchor="start" x="18021.93" y="-704.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;addObservation(_priceCumulative: uint256, _index: uint64)</text>
<text text-anchor="start" x="18021.93" y="-687.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getCumulativePrice(_twInterval: uint256, _index: uint64): (priceCumulative: uint256)</text>
<text text-anchor="start" x="18021.93" y="-670.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getLatestPrice(_index: uint64): (latestPrice: uint256)</text>
<text text-anchor="start" x="18021.93" y="-653.7" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="18021.93" y="-636.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; MatchingEngineChanged(matchingEngine: address)</text>
<text text-anchor="start" x="18021.93" y="-620.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ObservationAdded(index: uint64, priceCumulative: uint256, timestamp: uint256)</text>
<text text-anchor="start" x="18021.93" y="-603.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyMatchingEngine()</text>
</g>
<!-- 68&#45;&gt;67 -->
<g id="edge104" class="edge">
<title>68&#45;&gt;67</title>
<path fill="none" stroke="black" d="M18285.49,-213.82C18282.92,-291.97 18282.03,-449.38 18282.82,-582.52"/>
<polygon fill="black" stroke="black" points="18282.82,-582.91 18286.86,-588.89 18282.89,-594.91 18278.86,-588.94 18282.82,-582.91"/>
</g>
<!-- 67&#45;&gt;68 -->
<g id="edge105" class="edge">
<title>67&#45;&gt;68</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M18295.68,-594.91C18296.57,-464.72 18295.8,-307.56 18293.4,-223.9"/>
<polygon fill="black" stroke="black" points="18296.89,-223.71 18293.09,-213.82 18289.9,-223.92 18296.89,-223.71"/>
</g>
<!-- 69&#45;&gt;2 -->
<g id="edge107" class="edge">
<title>69&#45;&gt;2</title>
<path fill="none" stroke="black" d="M1476.62,-1902.63C1446.32,-1979.7 1416.03,-2056.72 1393.96,-2112.85"/>
<polygon fill="none" stroke="black" points="1384.11,-2109.21 1382.91,-2140.97 1403.66,-2116.9 1384.11,-2109.21"/>
</g>
<!-- 69&#45;&gt;5 -->
<g id="edge108" class="edge">
<title>69&#45;&gt;5</title>
<path fill="none" stroke="black" d="M2054.82,-1877.81C2095.34,-1894.3 2136.47,-1908.69 2177.29,-1919.8 2278.25,-1947.28 3023.98,-1910.49 3118.29,-1955.8 3151.41,-1971.71 3181.41,-1995.54 3207.69,-2022.14"/>
<polygon fill="none" stroke="black" points="3200.32,-2029.63 3228.41,-2044.49 3215.72,-2015.35 3200.32,-2029.63"/>
</g>
<!-- 69&#45;&gt;6 -->
<g id="edge106" class="edge">
<title>69&#45;&gt;6</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2054.68,-1878.34C2095.23,-1894.72 2136.41,-1908.93 2177.29,-1919.8 2469.68,-1997.53 3246.75,-1874.91 3538.29,-1955.8 3560.68,-1962.01 3583.15,-1969.64 3605.43,-1978.31"/>
<polygon fill="none" stroke="black" points="3601.79,-1988.16 3633.53,-1989.82 3609.75,-1968.73 3601.79,-1988.16"/>
</g>
<!-- 69&#45;&gt;14 -->
<g id="edge116" class="edge">
<title>69&#45;&gt;14</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1627.84,-1902.63C1638.31,-1992.57 1648.78,-2082.46 1655.38,-2139.15"/>
<polygon fill="black" stroke="black" points="1651.93,-2139.81 1656.56,-2149.34 1658.88,-2139 1651.93,-2139.81"/>
</g>
<!-- 69&#45;&gt;25 -->
<g id="edge115" class="edge">
<title>69&#45;&gt;25</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2054.89,-1879.3C2095.35,-1895.43 2136.45,-1909.33 2177.29,-1919.8 2396.91,-1976.12 6044.22,-1881.1 6258.29,-1955.8 6329.01,-1980.48 6396.07,-2028.37 6449.69,-2075.13"/>
<polygon fill="black" stroke="black" points="6447.68,-2078.03 6457.5,-2082.02 6452.31,-2072.78 6447.68,-2078.03"/>
</g>
<!-- 69&#45;&gt;31 -->
<g id="edge114" class="edge">
<title>69&#45;&gt;31</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1186.97,-1902.61C1175.45,-1919.67 1165.13,-1937.4 1156.29,-1955.8 1109.39,-2053.43 1082.11,-2364.28 1156.29,-2443.2 1200.59,-2490.33 1676.36,-2457.49 1737.29,-2479.2 2273.81,-2670.37 2245.98,-3024 2778.29,-3226.6 5369.05,-4212.64 6215.88,-3686.38 8981.29,-3878.2 10541.77,-3986.44 12439.83,-4011.78 12969.85,-4016.92"/>
<polygon fill="black" stroke="black" points="12970.19,-4020.42 12980.22,-4017.02 12970.26,-4013.42 12970.19,-4020.42"/>
</g>
<!-- 69&#45;&gt;40 -->
<g id="edge113" class="edge">
<title>69&#45;&gt;40</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1131.91,-1697.27C991.65,-1748.98 852.7,-1829.76 769.29,-1955.8 709.51,-2046.12 753.87,-2335.99 769.29,-2443.2 789.44,-2583.37 846.59,-2742.52 874.11,-2813.83"/>
<polygon fill="black" stroke="black" points="870.9,-2815.24 877.79,-2823.29 877.43,-2812.71 870.9,-2815.24"/>
</g>
<!-- 69&#45;&gt;53 -->
<g id="edge112" class="edge">
<title>69&#45;&gt;53</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2054.92,-1879.17C2095.37,-1895.33 2136.47,-1909.27 2177.29,-1919.8 2343.47,-1962.66 5110.37,-1884.09 5266.29,-1955.8 5317.83,-1979.51 5361.91,-2022.4 5396.37,-2065.6"/>
<polygon fill="black" stroke="black" points="5393.77,-2067.96 5402.69,-2073.67 5399.28,-2063.64 5393.77,-2067.96"/>
</g>
<!-- 69&#45;&gt;54 -->
<g id="edge111" class="edge">
<title>69&#45;&gt;54</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1264.21,-1902.72C1253.99,-1919.9 1244.91,-1937.62 1237.29,-1955.8 1216.35,-2005.74 1199.15,-2404.75 1237.29,-2443.2 1322.32,-2528.94 5483.36,-2412.91 5584.29,-2479.2 5675.55,-2539.14 5716.74,-2662.23 5735.07,-2750.56"/>
<polygon fill="black" stroke="black" points="5731.69,-2751.5 5737.09,-2760.61 5738.55,-2750.12 5731.69,-2751.5"/>
</g>
<!-- 69&#45;&gt;55 -->
<g id="edge110" class="edge">
<title>69&#45;&gt;55</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1232.8,-1902.74C1222.03,-1919.85 1212.42,-1937.55 1204.29,-1955.8 1160.21,-2054.74 1128.63,-2365.69 1204.29,-2443.2 1233.21,-2472.83 2653.12,-2474.84 2694.29,-2479.2 3378.41,-2551.69 4180.39,-2734.39 4510.49,-2813.93"/>
<polygon fill="black" stroke="black" points="4510.05,-2817.42 4520.59,-2816.36 4511.69,-2810.62 4510.05,-2817.42"/>
</g>
<!-- 76 -->
<g id="node77" class="node">
<title>76</title>
<polygon fill="#f2f2f2" stroke="black" points="205.88,-2065.5 205.88,-2333.5 722.7,-2333.5 722.7,-2065.5 205.88,-2065.5"/>
<text text-anchor="middle" x="464.29" y="-2316.9" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="464.29" y="-2300.1" font-family="Times,serif" font-size="14.00">AccountBalanceStorageV1</text>
<text text-anchor="middle" x="464.29" y="-2283.3" font-family="Times,serif" font-size="14.00">contracts/storage/AccountBalanceStorage.sol</text>
<polyline fill="none" stroke="black" points="205.88,-2275.1 722.7,-2275.1 "/>
<text text-anchor="start" x="213.88" y="-2258.5" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="213.88" y="-2241.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;_ORACLE_BASE: int256</text>
<text text-anchor="start" x="213.88" y="-2224.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;_DUST: uint256</text>
<text text-anchor="start" x="213.88" y="-2208.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;_positioningConfig: address</text>
<text text-anchor="start" x="213.88" y="-2191.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;_orderBook: address</text>
<text text-anchor="start" x="213.88" y="-2174.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;_owedRealizedPnlMap: mapping(address=&gt;int256)</text>
<text text-anchor="start" x="213.88" y="-2157.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;_baseTokensMap: mapping(address=&gt;address[])</text>
<text text-anchor="start" x="213.88" y="-2140.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;_accountMarketMap: mapping(address=&gt;mapping(address=&gt;LibAccountMarket.Info))</text>
<text text-anchor="start" x="213.88" y="-2124.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;_underlyingPriceIndex: uint64</text>
<text text-anchor="start" x="213.88" y="-2107.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="213.88" y="-2090.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;ACCOUNT_BALANCE_ADMIN: bytes32</text>
<text text-anchor="start" x="213.88" y="-2073.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;CAN_SETTLE_REALIZED_PNL: bytes32</text>
</g>
<!-- 69&#45;&gt;76 -->
<g id="edge109" class="edge">
<title>69&#45;&gt;76</title>
<path fill="none" stroke="black" d="M1131.85,-1760.85C999.55,-1814.05 858.21,-1879.68 736.29,-1955.8 695.39,-1981.33 654.74,-2013.17 617.82,-2045.29"/>
<polygon fill="none" stroke="black" points="610.79,-2037.49 595.34,-2065.27 624.74,-2053.18 610.79,-2037.49"/>
</g>
<!-- 70 -->
<g id="node71" class="node">
<title>70</title>
<polygon fill="#f2f2f2" stroke="black" points="2913.07,-1492.1 2913.07,-1717.7 3263.51,-1717.7 3263.51,-1492.1 2913.07,-1492.1"/>
<text text-anchor="middle" x="3088.29" y="-1701.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="3088.29" y="-1684.3" font-family="Times,serif" font-size="14.00">OrderValidator</text>
<text text-anchor="middle" x="3088.29" y="-1667.5" font-family="Times,serif" font-size="14.00">contracts/orderbook/OrderValidator.sol</text>
<polyline fill="none" stroke="black" points="2913.07,-1659.3 3263.51,-1659.3 "/>
<text text-anchor="start" x="2921.07" y="-1642.7" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="2921.07" y="-1625.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;__gap: uint256[50]</text>
<text text-anchor="start" x="2921.07" y="-1609.1" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="2921.07" y="-1592.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;_MAGICVALUE: bytes4</text>
<text text-anchor="start" x="2921.07" y="-1575.5" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="2921.07" y="-1558.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;makerMinSalt: mapping(address=&gt;uint256)</text>
<polyline fill="none" stroke="black" points="2913.07,-1550.5 3263.51,-1550.5 "/>
<text text-anchor="start" x="2921.07" y="-1533.9" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="2921.07" y="-1517.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;__OrderValidator_init_unchained() &lt;&lt;onlyInitializing&gt;&gt;</text>
<text text-anchor="start" x="2921.07" y="-1500.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_validate(order: LibOrder.Order, signature: bytes)</text>
</g>
<!-- 70&#45;&gt;9 -->
<g id="edge119" class="edge">
<title>70&#45;&gt;9</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2967.4,-1717.91C2894.38,-1786.07 2799.79,-1875.23 2717.29,-1955.8 2652.97,-2018.61 2580.6,-2092.21 2532.3,-2141.76"/>
<polygon fill="black" stroke="black" points="2529.53,-2139.59 2525.06,-2149.19 2534.55,-2144.47 2529.53,-2139.59"/>
</g>
<!-- 70&#45;&gt;51 -->
<g id="edge118" class="edge">
<title>70&#45;&gt;51</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2935.18,-1718.05C2864.59,-1779.42 2788.18,-1862.03 2750.29,-1955.8 2709.71,-2056.22 2691.27,-2352.38 2750.29,-2443.2 3217.24,-3161.84 3681.25,-3017.17 4512.29,-3226.6 5820.08,-3556.17 10096.98,-3711.08 11235.66,-3747.11"/>
<polygon fill="black" stroke="black" points="11235.93,-3750.62 11246.03,-3747.43 11236.15,-3743.62 11235.93,-3750.62"/>
</g>
<!-- 70&#45;&gt;57 -->
<g id="edge117" class="edge">
<title>70&#45;&gt;57</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2977.78,-1718.06C2900.26,-1789.12 2790.27,-1875.67 2675.29,-1919.8 2495,-1988.99 2413.37,-1866.24 2242.29,-1955.8 2171.46,-1992.88 2116.23,-2066.93 2081.92,-2123.54"/>
<polygon fill="black" stroke="black" points="2078.71,-2122.09 2076.6,-2132.47 2084.73,-2125.67 2078.71,-2122.09"/>
</g>
<!-- 71&#45;&gt;1 -->
<g id="edge124" class="edge">
<title>71&#45;&gt;1</title>
<path fill="none" stroke="black" d="M4568.29,-1253.53C4568.29,-1337.83 4568.29,-1419.28 4568.29,-1482.4"/>
<polygon fill="none" stroke="black" points="4557.79,-1482.74 4568.29,-1512.74 4578.79,-1482.74 4557.79,-1482.74"/>
</g>
<!-- 71&#45;&gt;2 -->
<g id="edge121" class="edge">
<title>71&#45;&gt;2</title>
<path fill="none" stroke="black" d="M3853.87,-852.77C3207.2,-908.06 2322.35,-1029.96 2096.29,-1290 2050.31,-1342.88 2112.6,-1870.01 2063.29,-1919.8 1972.42,-2011.55 1591.18,-1884.83 1483.29,-1955.8 1429.64,-1991.09 1398.28,-2057.35 1380.67,-2111.73"/>
<polygon fill="none" stroke="black" points="1370.5,-2109.1 1372.14,-2140.84 1390.65,-2115 1370.5,-2109.1"/>
</g>
<!-- 71&#45;&gt;4 -->
<g id="edge122" class="edge">
<title>71&#45;&gt;4</title>
<path fill="none" stroke="black" d="M5282.76,-824.98C6077.74,-858.23 7291.04,-962.79 7597.29,-1290 7793.58,-1499.73 7753.4,-1868.29 7713.29,-2065.35"/>
<polygon fill="none" stroke="black" points="7702.98,-2063.35 7707.01,-2094.88 7723.52,-2067.72 7702.98,-2063.35"/>
</g>
<!-- 71&#45;&gt;6 -->
<g id="edge131" class="edge">
<title>71&#45;&gt;6</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M4035.63,-1253.74C4028.74,-1265.64 4022.28,-1277.73 4016.29,-1290 3910.56,-1506.48 3913.42,-1787.49 3933.01,-1979.29"/>
<polygon fill="black" stroke="black" points="3929.56,-1979.92 3934.08,-1989.5 3936.52,-1979.19 3929.56,-1979.92"/>
</g>
<!-- 71&#45;&gt;14 -->
<g id="edge139" class="edge">
<title>71&#45;&gt;14</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3854.19,-855.71C3218.72,-912.86 2356.36,-1035.84 2134.29,-1290 2042.03,-1395.58 2191.39,-1816.77 2096.29,-1919.8 2018.66,-2003.9 1939.59,-1897.17 1841.29,-1955.8 1769.2,-1998.8 1717.2,-2083.13 1688.4,-2140.16"/>
<polygon fill="black" stroke="black" points="1685.11,-2138.9 1683.8,-2149.42 1691.38,-2142.01 1685.11,-2138.9"/>
</g>
<!-- 71&#45;&gt;17 -->
<g id="edge133" class="edge">
<title>71&#45;&gt;17</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5282.61,-908.08C6101.59,-1015.93 7485.31,-1183.07 8681.29,-1254 8727.24,-1256.72 11961.7,-1258.53 11995.29,-1290 12097.72,-1385.96 11993.43,-1788.59 12043.29,-1919.8 12060.53,-1965.16 12087.63,-2009.33 12116.76,-2048.64"/>
<polygon fill="black" stroke="black" points="12114.2,-2051.06 12123.01,-2056.95 12119.8,-2046.86 12114.2,-2051.06"/>
</g>
<!-- 71&#45;&gt;18 -->
<g id="edge135" class="edge">
<title>71&#45;&gt;18</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5282.64,-907.49C6101.66,-1014.81 7485.41,-1181.46 8681.29,-1254 8828.53,-1262.93 11198.84,-1236.44 11336.29,-1290 11447.81,-1333.46 11546.58,-1429.89 11610.71,-1504.48"/>
<polygon fill="black" stroke="black" points="11608.43,-1507.2 11617.58,-1512.54 11613.76,-1502.66 11608.43,-1507.2"/>
</g>
<!-- 71&#45;&gt;20 -->
<g id="edge120" class="edge">
<title>71&#45;&gt;20</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5282.56,-901.79C6101.87,-1003.95 7486.23,-1165.94 8681.29,-1254 8731.8,-1257.72 9552.12,-1259.15 9592.29,-1290 9824.67,-1468.5 9558.59,-1736.61 9787.29,-1919.8 9858.77,-1977.06 10093.75,-1941.97 10214.68,-1953.44"/>
<polygon fill="none" stroke="black" points="10213.3,-1963.85 10244.51,-1957.8 10216.34,-1943.07 10213.3,-1963.85"/>
</g>
<!-- 71&#45;&gt;25 -->
<g id="edge134" class="edge">
<title>71&#45;&gt;25</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5282.52,-863.69C5875.23,-925.11 6651.43,-1049.77 6846.29,-1290 6934.45,-1398.69 6905.51,-1792.99 6846.29,-1919.8 6835.74,-1942.38 6821.52,-1938.8 6803.29,-1955.8 6763.09,-1993.28 6720.89,-2035.92 6683.58,-2074.89"/>
<polygon fill="black" stroke="black" points="6681.04,-2072.47 6676.67,-2082.12 6686.1,-2077.31 6681.04,-2072.47"/>
</g>
<!-- 71&#45;&gt;30 -->
<g id="edge140" class="edge">
<title>71&#45;&gt;30</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5282.59,-901.42C6101.92,-1003.23 7486.3,-1164.92 8681.29,-1254 8729.7,-1257.61 9519.37,-1256.28 9554.29,-1290 9655.25,-1387.51 9536.41,-1795.86 9602.29,-1919.8 9613.5,-1940.89 9694.63,-2005.64 9776.18,-2067.43"/>
<polygon fill="black" stroke="black" points="9774.49,-2070.55 9784.58,-2073.79 9778.71,-2064.96 9774.49,-2070.55"/>
</g>
<!-- 71&#45;&gt;31 -->
<g id="edge138" class="edge">
<title>71&#45;&gt;31</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5282.65,-900.62C6102.03,-1001.71 7486.47,-1162.74 8681.29,-1254 8725.76,-1257.4 9451.63,-1258.58 9483.29,-1290 9533.02,-1339.36 9485.73,-1856.74 9516.29,-1919.8 9526.86,-1941.62 9547.29,-1933.71 9557.29,-1955.8 9579.62,-2005.14 9593.6,-2403.03 9557.29,-2443.2 9503.97,-2502.19 9254.61,-2420.21 9201.29,-2479.2 8978.53,-2725.62 9018.22,-2949.42 9201.29,-3226.6 9629.96,-3875.65 12315.44,-3995.03 12969.7,-4014.58"/>
<polygon fill="black" stroke="black" points="12970.02,-4018.09 12980.12,-4014.89 12970.23,-4011.09 12970.02,-4018.09"/>
</g>
<!-- 71&#45;&gt;39 -->
<g id="edge130" class="edge">
<title>71&#45;&gt;39</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5282.38,-1045.74C5409.8,-1110.61 5533.52,-1191.13 5633.29,-1290 5702.58,-1358.67 5742.33,-1466.65 5762.12,-1536.36"/>
<polygon fill="black" stroke="black" points="5758.85,-1537.66 5764.9,-1546.35 5765.59,-1535.78 5758.85,-1537.66"/>
</g>
<!-- 71&#45;&gt;40 -->
<g id="edge136" class="edge">
<title>71&#45;&gt;40</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3854.12,-944.99C3291.04,-1046.38 2484.79,-1179.9 1773.29,-1254 1733.4,-1258.15 1080.47,-1261.46 1052.29,-1290 1007.24,-1335.62 1019.59,-2379.92 1009.29,-2443.2 986.53,-2582.97 930.67,-2742.32 903.97,-2813.75"/>
<polygon fill="black" stroke="black" points="900.65,-2812.64 900.4,-2823.24 907.2,-2815.11 900.65,-2812.64"/>
</g>
<!-- 71&#45;&gt;46 -->
<g id="edge137" class="edge">
<title>71&#45;&gt;46</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5282.61,-908.06C6101.59,-1015.89 7485.32,-1183.01 8681.29,-1254 8726.78,-1256.7 11930.24,-1257.6 11962.29,-1290 11986.89,-1314.88 11982.63,-1891.33 11962.29,-1919.8 11933.61,-1959.94 11885.96,-1915.66 11857.29,-1955.8 11731.38,-2132.07 11799.88,-2234.32 11857.29,-2443.2 11892.48,-2571.26 11979.42,-2699.78 12039.16,-2777.61"/>
<polygon fill="black" stroke="black" points="12036.69,-2780.14 12045.58,-2785.91 12042.23,-2775.86 12036.69,-2780.14"/>
</g>
<!-- 71&#45;&gt;51 -->
<g id="edge132" class="edge">
<title>71&#45;&gt;51</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5282.62,-901.01C6101.98,-1002.45 7486.39,-1163.8 8681.29,-1254 8727.59,-1257.5 9483.18,-1257.45 9516.29,-1290 9566.28,-1339.14 9524.66,-1856.26 9554.29,-1919.8 9564.12,-1940.88 9581.37,-1935.26 9592.29,-1955.8 9695.35,-2149.7 9507.29,-2299.44 9673.29,-2443.2 9744.15,-2504.57 11293.03,-2413.9 11360.29,-2479.2 11419.95,-2537.12 11387.08,-3144.21 11398.29,-3226.6 11417,-3364.23 11453.38,-3519.03 11480.82,-3625.42"/>
<polygon fill="black" stroke="black" points="11477.47,-3626.43 11483.36,-3635.24 11484.25,-3624.68 11477.47,-3626.43"/>
</g>
<!-- 71&#45;&gt;53 -->
<g id="edge128" class="edge">
<title>71&#45;&gt;53</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M4949.68,-1253.8C4958.42,-1265.89 4966.98,-1277.97 4975.29,-1290 5155.93,-1551.38 5326.6,-1883.2 5415.5,-2064.77"/>
<polygon fill="black" stroke="black" points="5412.4,-2066.39 5419.93,-2073.83 5418.68,-2063.31 5412.4,-2066.39"/>
</g>
<!-- 71&#45;&gt;54 -->
<g id="edge127" class="edge">
<title>71&#45;&gt;54</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M5134.24,-1253.7C5146.52,-1265.75 5158.56,-1277.86 5170.29,-1290 5412.61,-1540.79 5385.48,-1679.58 5638.29,-1919.8 5659.2,-1939.67 5677.88,-1930.81 5692.29,-1955.8 5768.78,-2088.43 5761.45,-2545.13 5753.89,-2750.47"/>
<polygon fill="black" stroke="black" points="5750.39,-2750.53 5753.51,-2760.66 5757.38,-2750.79 5750.39,-2750.53"/>
</g>
<!-- 71&#45;&gt;55 -->
<g id="edge126" class="edge">
<title>71&#45;&gt;55</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3854.01,-943.91C3290.86,-1044.71 2484.59,-1177.97 1773.29,-1254 1701.37,-1261.69 1173,-1237.46 1123.29,-1290 1035.19,-1383.11 1064.69,-2352.52 1155.29,-2443.2 1201.01,-2488.95 1671.9,-2473.11 1736.29,-2479.2 2801.15,-2579.86 4076.08,-2764.14 4510.59,-2828.77"/>
<polygon fill="black" stroke="black" points="4510.29,-2832.26 4520.7,-2830.27 4511.32,-2825.34 4510.29,-2832.26"/>
</g>
<!-- 71&#45;&gt;57 -->
<g id="edge129" class="edge">
<title>71&#45;&gt;57</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3854.03,-859.12C3231.32,-918.33 2394.62,-1042.39 2177.29,-1290 2131.02,-1342.72 2147.78,-1850.97 2134.29,-1919.8 2120.46,-1990.35 2093.93,-2067.79 2072.9,-2123.09"/>
<polygon fill="black" stroke="black" points="2069.62,-2121.87 2069.31,-2132.46 2076.16,-2124.38 2069.62,-2121.87"/>
</g>
<!-- 71&#45;&gt;70 -->
<g id="edge125" class="edge">
<title>71&#45;&gt;70</title>
<path fill="none" stroke="black" d="M3853.88,-1100.48C3731.35,-1158.41 3607.22,-1222.41 3494.29,-1290 3405.47,-1343.16 3313.65,-1412.72 3239.85,-1472.84"/>
<polygon fill="none" stroke="black" points="3233.05,-1464.84 3216.55,-1492 3246.39,-1481.06 3233.05,-1464.84"/>
</g>
<!-- 71&#45;&gt;81 -->
<g id="edge123" class="edge">
<title>71&#45;&gt;81</title>
<path fill="none" stroke="black" d="M3962.5,-1253.82C3947.86,-1265.9 3933.44,-1277.97 3919.29,-1290 3613.53,-1549.91 3624.31,-1727.13 3272.29,-1919.8 3210.63,-1953.55 3177.24,-1917.52 3118.29,-1955.8 3098.72,-1968.5 3080.43,-1984.04 3063.57,-2001.05"/>
<polygon fill="none" stroke="black" points="3055.65,-1994.14 3042.97,-2023.29 3071.06,-2008.41 3055.65,-1994.14"/>
</g>
<!-- 72 -->
<g id="node73" class="node">
<title>72</title>
<polygon fill="#f2f2f2" stroke="black" points="7100.04,-1302.9 7100.04,-1906.9 7588.54,-1906.9 7588.54,-1302.9 7100.04,-1302.9"/>
<text text-anchor="middle" x="7344.29" y="-1890.3" font-family="Times,serif" font-size="14.00">PositioningConfig</text>
<text text-anchor="middle" x="7344.29" y="-1873.5" font-family="Times,serif" font-size="14.00">contracts/orderbook/PositioningConfig.sol</text>
<polyline fill="none" stroke="black" points="7100.04,-1865.3 7588.54,-1865.3 "/>
<text text-anchor="start" x="7108.04" y="-1848.7" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="7108.04" y="-1831.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_requirePositioningConfigAdmin()</text>
<text text-anchor="start" x="7108.04" y="-1815.1" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="7108.04" y="-1798.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;initialize() &lt;&lt;initializer&gt;&gt;</text>
<text text-anchor="start" x="7108.04" y="-1781.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setLiquidationPenaltyRatio(liquidationPenaltyRatioArg: uint24) &lt;&lt;checkRatio&gt;&gt;</text>
<text text-anchor="start" x="7108.04" y="-1764.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setPartialCloseRatio(partialCloseRatioArg: uint24) &lt;&lt;checkRatio&gt;&gt;</text>
<text text-anchor="start" x="7108.04" y="-1747.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setTwapInterval(twapIntervalArg: uint32)</text>
<text text-anchor="start" x="7108.04" y="-1731.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setMaxMarketsPerAccount(maxMarketsPerAccountArg: uint8)</text>
<text text-anchor="start" x="7108.04" y="-1714.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setSettlementTokenBalanceCap(cap: uint256)</text>
<text text-anchor="start" x="7108.04" y="-1697.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setMaxFundingRate(rate: uint24)</text>
<text text-anchor="start" x="7108.04" y="-1680.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setImRatio(imRatioArg: uint24) &lt;&lt;checkRatio&gt;&gt;</text>
<text text-anchor="start" x="7108.04" y="-1663.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setMmRatio(mmRatioArg: uint24) &lt;&lt;checkRatio&gt;&gt;</text>
<text text-anchor="start" x="7108.04" y="-1647.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setPartialLiquidationRatio(partialLiquidationRatioArg: uint24) &lt;&lt;checkRatio&gt;&gt;</text>
<text text-anchor="start" x="7108.04" y="-1630.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getMaxMarketsPerAccount(): uint8</text>
<text text-anchor="start" x="7108.04" y="-1613.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getImRatio(): uint24</text>
<text text-anchor="start" x="7108.04" y="-1596.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getMmRatio(): uint24</text>
<text text-anchor="start" x="7108.04" y="-1579.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getLiquidationPenaltyRatio(): uint24</text>
<text text-anchor="start" x="7108.04" y="-1563.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getPartialLiquidationRatio(): uint24</text>
<text text-anchor="start" x="7108.04" y="-1546.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getPartialCloseRatio(): uint24</text>
<text text-anchor="start" x="7108.04" y="-1529.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getTwapInterval(): uint32</text>
<text text-anchor="start" x="7108.04" y="-1512.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getSettlementTokenBalanceCap(): uint256</text>
<text text-anchor="start" x="7108.04" y="-1495.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getMaxFundingRate(): uint24</text>
<text text-anchor="start" x="7108.04" y="-1479.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="7108.04" y="-1462.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; TwapIntervalChanged(twapInterval: uint256)</text>
<text text-anchor="start" x="7108.04" y="-1445.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LiquidationPenaltyRatioChanged(liquidationPenaltyRatio: uint24)</text>
<text text-anchor="start" x="7108.04" y="-1428.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PartialCloseRatioChanged(partialCloseRatio: uint24)</text>
<text text-anchor="start" x="7108.04" y="-1411.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; MaxMarketsPerAccountChanged(maxMarketsPerAccount: uint8)</text>
<text text-anchor="start" x="7108.04" y="-1395.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SettlementTokenBalanceCapChanged(cap: uint256)</text>
<text text-anchor="start" x="7108.04" y="-1378.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; MaxFundingRateChanged(rate: uint24)</text>
<text text-anchor="start" x="7108.04" y="-1361.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; InitialMarginChanged(imRatio: uint24)</text>
<text text-anchor="start" x="7108.04" y="-1344.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; MaintenanceMarginChanged(mmRatio: uint24)</text>
<text text-anchor="start" x="7108.04" y="-1327.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PartialLiquidationRatioChanged(partialLiquidationRatio: uint24)</text>
<text text-anchor="start" x="7108.04" y="-1311.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; checkRatio(ratio: uint24)</text>
</g>
<!-- 72&#45;&gt;25 -->
<g id="edge141" class="edge">
<title>72&#45;&gt;25</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M7099.79,-1827.4C7052.85,-1862.12 7002.34,-1894.74 6951.29,-1919.8 6890.52,-1949.63 6862,-1922.1 6803.29,-1955.8 6756.82,-1982.47 6713.67,-2021.1 6677.4,-2059.73"/>
<polygon fill="none" stroke="black" points="6669.52,-2052.78 6657.14,-2082.06 6685.07,-2066.89 6669.52,-2052.78"/>
</g>
<!-- 80 -->
<g id="node81" class="node">
<title>80</title>
<polygon fill="#f2f2f2" stroke="black" points="7238.28,-2065.5 7238.28,-2333.5 7518.3,-2333.5 7518.3,-2065.5 7238.28,-2065.5"/>
<text text-anchor="middle" x="7378.29" y="-2316.9" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="7378.29" y="-2300.1" font-family="Times,serif" font-size="14.00">PositioningConfigStorageV1</text>
<text text-anchor="middle" x="7378.29" y="-2283.3" font-family="Times,serif" font-size="14.00">contracts/storage/PositioningConfigStorage.sol</text>
<polyline fill="none" stroke="black" points="7238.28,-2275.1 7518.3,-2275.1 "/>
<text text-anchor="start" x="7246.28" y="-2258.5" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="7246.28" y="-2241.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;_maxMarketsPerAccount: uint8</text>
<text text-anchor="start" x="7246.28" y="-2224.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;_imRatio: uint24</text>
<text text-anchor="start" x="7246.28" y="-2208.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;_mmRatio: uint24</text>
<text text-anchor="start" x="7246.28" y="-2191.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;_liquidationPenaltyRatio: uint24</text>
<text text-anchor="start" x="7246.28" y="-2174.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;_partialLiquidationRatio: uint24</text>
<text text-anchor="start" x="7246.28" y="-2157.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;_partialCloseRatio: uint24</text>
<text text-anchor="start" x="7246.28" y="-2140.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;_maxFundingRate: uint24</text>
<text text-anchor="start" x="7246.28" y="-2124.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;_twapInterval: uint32</text>
<text text-anchor="start" x="7246.28" y="-2107.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;_settlementTokenBalanceCap: uint256</text>
<text text-anchor="start" x="7246.28" y="-2090.5" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="7246.28" y="-2073.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;POSITIONING_CONFIG_ADMIN: bytes32</text>
</g>
<!-- 72&#45;&gt;80 -->
<g id="edge142" class="edge">
<title>72&#45;&gt;80</title>
<path fill="none" stroke="black" d="M7361.56,-1906.97C7364.1,-1951.23 7366.63,-1995.34 7368.93,-2035.36"/>
<polygon fill="none" stroke="black" points="7358.45,-2036.09 7370.65,-2065.44 7379.42,-2034.89 7358.45,-2036.09"/>
</g>
<!-- 73 -->
<g id="node74" class="node">
<title>73</title>
<polygon fill="#f2f2f2" stroke="black" points="5926.93,-1370.1 5926.93,-1839.7 6837.64,-1839.7 6837.64,-1370.1 5926.93,-1370.1"/>
<text text-anchor="middle" x="6382.29" y="-1823.1" font-family="Times,serif" font-size="14.00">Vault</text>
<text text-anchor="middle" x="6382.29" y="-1806.3" font-family="Times,serif" font-size="14.00">contracts/orderbook/Vault.sol</text>
<polyline fill="none" stroke="black" points="5926.93,-1798.1 6837.64,-1798.1 "/>
<text text-anchor="start" x="5934.93" y="-1781.5" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="5934.93" y="-1764.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_deposit(periphery: IVolmexPerpPeriphery, amount: uint256, from: address)</text>
<text text-anchor="start" x="5934.93" y="-1747.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_msgSender(): address</text>
<text text-anchor="start" x="5934.93" y="-1731.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_requireOnlyVaultController()</text>
<text text-anchor="start" x="5934.93" y="-1714.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_msgData(): bytes</text>
<text text-anchor="start" x="5934.93" y="-1697.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_requireVaultAdmin()</text>
<text text-anchor="start" x="5934.93" y="-1680.7" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="5934.93" y="-1663.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; deposit(periphery: IVolmexPerpPeriphery, amount: uint256, from: address) &lt;&lt;whenNotPaused, nonReentrant&gt;&gt;</text>
<text text-anchor="start" x="5934.93" y="-1647.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;initialize(positioningConfigArg: address, accountBalanceArg: address, tokenArg: address, vaultControllerArg: address, isEthVaultArg: bool) &lt;&lt;initializer&gt;&gt;</text>
<text text-anchor="start" x="5934.93" y="-1630.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setPositioning(positioningArg: address) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="5934.93" y="-1613.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setVaultController(vaultControllerArg: address)</text>
<text text-anchor="start" x="5934.93" y="-1596.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;withdraw(amount: uint256, to: address) &lt;&lt;whenNotPaused, nonReentrant&gt;&gt;</text>
<text text-anchor="start" x="5934.93" y="-1579.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;transferFundToVault(token: address, amount: uint256) &lt;&lt;whenNotPaused, nonReentrant, onlySettlementToken&gt;&gt;</text>
<text text-anchor="start" x="5934.93" y="-1563.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;repayDebtToOwner(token: address, amount: uint256) &lt;&lt;whenNotPaused, nonReentrant, onlySettlementToken&gt;&gt;</text>
<text text-anchor="start" x="5934.93" y="-1546.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setSettlementToken(newTokenArg: address)</text>
<text text-anchor="start" x="5934.93" y="-1529.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getSettlementToken(): address</text>
<text text-anchor="start" x="5934.93" y="-1512.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;decimals(): uint8</text>
<text text-anchor="start" x="5934.93" y="-1495.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getTotalDebt(): uint256</text>
<text text-anchor="start" x="5934.93" y="-1479.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getPositioningConfig(): address</text>
<text text-anchor="start" x="5934.93" y="-1462.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getAccountBalance(): address</text>
<text text-anchor="start" x="5934.93" y="-1445.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getPositioning(): address</text>
<text text-anchor="start" x="5934.93" y="-1428.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getVaultController(): address</text>
<text text-anchor="start" x="5934.93" y="-1411.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;isEthVault(): bool</text>
<text text-anchor="start" x="5934.93" y="-1395.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="5934.93" y="-1378.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlySettlementToken(token: address)</text>
</g>
<!-- 73&#45;&gt;4 -->
<g id="edge144" class="edge">
<title>73&#45;&gt;4</title>
<path fill="none" stroke="black" d="M6837.7,-1834.06C6920.41,-1867.79 7007.15,-1898.35 7091.29,-1919.8 7185.49,-1943.81 7444.17,-1905.37 7527.29,-1955.8 7570.3,-1981.9 7603.19,-2025.18 7627.24,-2068.02"/>
<polygon fill="none" stroke="black" points="7618.06,-2073.12 7641.27,-2094.84 7636.67,-2063.39 7618.06,-2073.12"/>
</g>
<!-- 73&#45;&gt;10 -->
<g id="edge150" class="edge">
<title>73&#45;&gt;10</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M6130.22,-1839.88C6095.52,-1877.12 6061.74,-1916.4 6032.29,-1955.8 5993.09,-2008.24 5958.17,-2073.76 5934.1,-2123.51"/>
<polygon fill="black" stroke="black" points="5930.91,-2122.07 5929.73,-2132.6 5937.22,-2125.1 5930.91,-2122.07"/>
</g>
<!-- 73&#45;&gt;25 -->
<g id="edge152" class="edge">
<title>73&#45;&gt;25</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M6456.2,-1840.11C6481.2,-1919.36 6508.17,-2004.81 6529.49,-2072.39"/>
<polygon fill="black" stroke="black" points="6526.25,-2073.74 6532.6,-2082.23 6532.93,-2071.64 6526.25,-2073.74"/>
</g>
<!-- 73&#45;&gt;29 -->
<g id="edge143" class="edge">
<title>73&#45;&gt;29</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M6838.08,-1836.85C6920.55,-1870.16 7007.13,-1899.86 7091.29,-1919.8 7412.56,-1995.92 7514.82,-1868.69 7833.29,-1955.8 7842,-1958.18 7850.74,-1960.75 7859.49,-1963.49"/>
<polygon fill="none" stroke="black" points="7856.52,-1973.57 7888.3,-1973.08 7863.16,-1953.64 7856.52,-1973.57"/>
</g>
<!-- 73&#45;&gt;35 -->
<g id="edge151" class="edge">
<title>73&#45;&gt;35</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M6345.72,-1839.77C6340.96,-1878.44 6336.86,-1918.18 6334.29,-1955.8 6326.91,-2063.86 6262.53,-2362.07 6334.29,-2443.2 6521.12,-2654.44 8335.73,-2780.41 9200.43,-2828.9"/>
<polygon fill="black" stroke="black" points="9200.38,-2832.4 9210.56,-2829.47 9200.77,-2825.41 9200.38,-2832.4"/>
</g>
<!-- 73&#45;&gt;53 -->
<g id="edge149" class="edge">
<title>73&#45;&gt;53</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M6075.61,-1839.83C6025.01,-1870.52 5971.62,-1898.62 5918.29,-1919.8 5825.8,-1956.54 5784.61,-1908.07 5697.29,-1955.8 5648.51,-1982.46 5605.1,-2024.35 5570.1,-2065.87"/>
<polygon fill="black" stroke="black" points="5567.36,-2063.69 5563.66,-2073.62 5572.75,-2068.16 5567.36,-2063.69"/>
</g>
<!-- 73&#45;&gt;54 -->
<g id="edge147" class="edge">
<title>73&#45;&gt;54</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M6323.4,-1839.81C6315.05,-1878.38 6307.29,-1918.08 6301.29,-1955.8 6284.21,-2063.18 6309.57,-2347.32 6258.29,-2443.2 6181.57,-2586.64 6030.87,-2697.71 5913.27,-2767.62"/>
<polygon fill="black" stroke="black" points="5911.34,-2764.69 5904.5,-2772.79 5914.9,-2770.72 5911.34,-2764.69"/>
</g>
<!-- 73&#45;&gt;55 -->
<g id="edge146" class="edge">
<title>73&#45;&gt;55</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M6068.69,-1839.71C6019.93,-1869.6 5968.9,-1897.49 5918.29,-1919.8 5855.55,-1947.45 5814.77,-1905.4 5768.29,-1955.8 5619.66,-2116.97 5854.67,-2295.89 5692.29,-2443.2 5640.69,-2490.01 5130.39,-2451.91 5066.29,-2479.2 4933.69,-2535.66 4817.3,-2655.73 4744.34,-2744.4"/>
<polygon fill="black" stroke="black" points="4741.47,-2742.39 4737.86,-2752.34 4746.89,-2746.81 4741.47,-2742.39"/>
</g>
<!-- 73&#45;&gt;56 -->
<g id="edge148" class="edge">
<title>73&#45;&gt;56</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M6676.78,-1839.71C6720.54,-1877.4 6764.33,-1916.86 6804.29,-1955.8 6856.09,-2006.29 6909.65,-2067.69 6949.97,-2116.1"/>
<polygon fill="black" stroke="black" points="6947.5,-2118.6 6956.58,-2124.06 6952.89,-2114.13 6947.5,-2118.6"/>
</g>
<!-- 83 -->
<g id="node84" class="node">
<title>83</title>
<polygon fill="#f2f2f2" stroke="black" points="6041.07,-2073.9 6041.07,-2325.1 6249.51,-2325.1 6249.51,-2073.9 6041.07,-2073.9"/>
<text text-anchor="middle" x="6145.29" y="-2308.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="6145.29" y="-2291.7" font-family="Times,serif" font-size="14.00">VaultStorageV1</text>
<text text-anchor="middle" x="6145.29" y="-2274.9" font-family="Times,serif" font-size="14.00">contracts/storage/VaultStorage.sol</text>
<polyline fill="none" stroke="black" points="6041.07,-2266.7 6249.51,-2266.7 "/>
<text text-anchor="start" x="6049.07" y="-2250.1" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="6049.07" y="-2233.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;_decimals: uint8</text>
<text text-anchor="start" x="6049.07" y="-2216.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;_settlementToken: address</text>
<text text-anchor="start" x="6049.07" y="-2199.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;_positioningConfig: address</text>
<text text-anchor="start" x="6049.07" y="-2182.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;_accountBalance: address</text>
<text text-anchor="start" x="6049.07" y="-2166.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;_positioning: address</text>
<text text-anchor="start" x="6049.07" y="-2149.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;_isEthVault: bool</text>
<text text-anchor="start" x="6049.07" y="-2132.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;_totalDebt: uint256</text>
<text text-anchor="start" x="6049.07" y="-2115.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;_vaultController: address</text>
<text text-anchor="start" x="6049.07" y="-2098.9" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="6049.07" y="-2082.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;VAULT_ADMIN: bytes32</text>
</g>
<!-- 73&#45;&gt;83 -->
<g id="edge145" class="edge">
<title>73&#45;&gt;83</title>
<path fill="none" stroke="black" d="M6288.62,-1840.11C6260.96,-1909.27 6231.41,-1983.15 6206.38,-2045.75"/>
<polygon fill="none" stroke="black" points="6196.6,-2041.91 6195.21,-2073.67 6216.1,-2049.71 6196.6,-2041.91"/>
</g>
<!-- 74 -->
<g id="node75" class="node">
<title>74</title>
<polygon fill="#f2f2f2" stroke="black" points="7879.3,-1420.5 7879.3,-1789.3 8707.28,-1789.3 8707.28,-1420.5 7879.3,-1420.5"/>
<text text-anchor="middle" x="8293.29" y="-1772.7" font-family="Times,serif" font-size="14.00">VaultController</text>
<text text-anchor="middle" x="8293.29" y="-1755.9" font-family="Times,serif" font-size="14.00">contracts/orderbook/VaultController.sol</text>
<polyline fill="none" stroke="black" points="7879.3,-1747.7 8707.28,-1747.7 "/>
<text text-anchor="start" x="7887.3" y="-1731.1" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="7887.3" y="-1714.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_modifyBalance(trader: address, token: address, amount: int256, vaultAddress: address)</text>
<text text-anchor="start" x="7887.3" y="-1697.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_requireOnlyPositioning()</text>
<text text-anchor="start" x="7887.3" y="-1680.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_getAccountValue(trader: address): int256</text>
<text text-anchor="start" x="7887.3" y="-1663.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_getTotalMarginRequirement(trader: address, ratio: uint24): uint256</text>
<text text-anchor="start" x="7887.3" y="-1647.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_msgSender(): address</text>
<text text-anchor="start" x="7887.3" y="-1630.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_requireOnlyVaultControllerAdmin()</text>
<text text-anchor="start" x="7887.3" y="-1613.5" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="7887.3" y="-1596.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; deposit(periphery: IVolmexPerpPeriphery, token: address, from: address, amount: uint256) &lt;&lt;whenNotPaused, nonReentrant&gt;&gt;</text>
<text text-anchor="start" x="7887.3" y="-1579.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;initialize(positioningConfig: address, accountBalanceArg: address) &lt;&lt;initializer&gt;&gt;</text>
<text text-anchor="start" x="7887.3" y="-1563.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;registerVault(_vault: address, _token: address)</text>
<text text-anchor="start" x="7887.3" y="-1546.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;withdraw(token: address, to: address, amount: uint256) &lt;&lt;whenNotPaused, nonReentrant&gt;&gt;</text>
<text text-anchor="start" x="7887.3" y="-1529.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setPositioning(PositioningArg: address)</text>
<text text-anchor="start" x="7887.3" y="-1512.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getAccountValue(trader: address): int256 &lt;&lt;whenNotPaused&gt;&gt;</text>
<text text-anchor="start" x="7887.3" y="-1495.9" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="7887.3" y="-1479.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getFreeCollateralByRatio(trader: address, ratio: uint24): int256</text>
<text text-anchor="start" x="7887.3" y="-1462.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getBalance(trader: address): (balanceX10_18: int256)</text>
<text text-anchor="start" x="7887.3" y="-1445.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getBalanceByToken(trader: address, token: address): (balanceX10_18: int256)</text>
<text text-anchor="start" x="7887.3" y="-1428.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getVault(_token: address): (vault: address)</text>
</g>
<!-- 74&#45;&gt;4 -->
<g id="edge153" class="edge">
<title>74&#45;&gt;4</title>
<path fill="none" stroke="black" d="M8023.52,-1789.33C7959.16,-1839.39 7893.25,-1896.35 7838.29,-1955.8 7806.8,-1989.86 7777.49,-2030.89 7752.88,-2069.44"/>
<polygon fill="none" stroke="black" points="7743.93,-2063.95 7737.01,-2094.97 7761.76,-2075.03 7743.93,-2063.95"/>
</g>
<!-- 74&#45;&gt;6 -->
<g id="edge163" class="edge">
<title>74&#45;&gt;6</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M7960.91,-1789.33C7848.8,-1841.99 7720.73,-1892.51 7597.29,-1919.8 7254.1,-1995.66 4775.23,-1870.44 4434.29,-1955.8 4402.76,-1963.69 4370.98,-1974.08 4339.62,-1986.11"/>
<polygon fill="black" stroke="black" points="4337.95,-1983.01 4329.9,-1989.9 4340.49,-1989.53 4337.95,-1983.01"/>
</g>
<!-- 74&#45;&gt;20 -->
<g id="edge161" class="edge">
<title>74&#45;&gt;20</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M8667.13,-1789.49C8790.35,-1841.46 8930.01,-1891.55 9063.29,-1919.8 9315.08,-1973.18 9963.16,-1909.08 10234.66,-1955.8"/>
<polygon fill="black" stroke="black" points="10234.09,-1959.25 10244.55,-1957.58 10235.33,-1952.36 10234.09,-1959.25"/>
</g>
<!-- 74&#45;&gt;25 -->
<g id="edge162" class="edge">
<title>74&#45;&gt;25</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M7955.04,-1789.34C7844.17,-1840.97 7718.32,-1890.89 7597.29,-1919.8 7425.5,-1960.84 6964.24,-1883.06 6803.29,-1955.8 6746.06,-1981.66 6695.7,-2028.48 6656.5,-2074.14"/>
<polygon fill="black" stroke="black" points="6653.6,-2072.15 6649.81,-2082.05 6658.94,-2076.68 6653.6,-2072.15"/>
</g>
<!-- 74&#45;&gt;29 -->
<g id="edge160" class="edge">
<title>74&#45;&gt;29</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M8293.29,-1789.34C8293.29,-1844.1 8293.29,-1904.9 8293.29,-1962.52"/>
<polygon fill="black" stroke="black" points="8289.79,-1962.86 8293.29,-1972.86 8296.79,-1962.86 8289.79,-1962.86"/>
</g>
<!-- 74&#45;&gt;30 -->
<g id="edge155" class="edge">
<title>74&#45;&gt;30</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M8676.83,-1789.39C8797.9,-1839.87 8933.88,-1889.12 9063.29,-1919.8 9261.97,-1966.9 9325.91,-1896.5 9521.29,-1955.8 9598.98,-1979.38 9678.13,-2018.47 9747.15,-2058.47"/>
<polygon fill="none" stroke="black" points="9741.91,-2067.57 9773.08,-2073.81 9752.61,-2049.5 9741.91,-2067.57"/>
</g>
<!-- 74&#45;&gt;35 -->
<g id="edge159" class="edge">
<title>74&#45;&gt;35</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M8692.3,-1789.45C8789.99,-1833.17 8894.55,-1878.97 8992.29,-1919.8 9033.19,-1936.88 9057.31,-1921.42 9085.29,-1955.8 9223.89,-2126.12 9057.34,-2252.54 9166.29,-2443.2 9238.76,-2570.02 9366.47,-2674.83 9473.08,-2746.55"/>
<polygon fill="black" stroke="black" points="9471.43,-2749.66 9481.69,-2752.3 9475.32,-2743.84 9471.43,-2749.66"/>
</g>
<!-- 74&#45;&gt;53 -->
<g id="edge157" class="edge">
<title>74&#45;&gt;53</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M7959.46,-1789.35C7847.65,-1841.75 7720.13,-1892.11 7597.29,-1919.8 7399,-1964.49 5958.58,-1884.37 5768.29,-1955.8 5705.41,-1979.41 5646.54,-2023.02 5598.56,-2066.84"/>
<polygon fill="black" stroke="black" points="5595.92,-2064.52 5590.96,-2073.88 5600.67,-2069.66 5595.92,-2064.52"/>
</g>
<!-- 74&#45;&gt;55 -->
<g id="edge156" class="edge">
<title>74&#45;&gt;55</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M8006.64,-1789.46C7953.13,-1837.09 7903.86,-1892.96 7871.29,-1955.8 7821.3,-2052.25 7912.56,-2368.91 7833.29,-2443.2 7777.2,-2495.76 5137.66,-2450.67 5066.29,-2479.2 4931.82,-2532.95 4815.19,-2654.47 4742.69,-2744.21"/>
<polygon fill="black" stroke="black" points="4739.77,-2742.26 4736.24,-2752.25 4745.23,-2746.64 4739.77,-2742.26"/>
</g>
<!-- 74&#45;&gt;56 -->
<g id="edge158" class="edge">
<title>74&#45;&gt;56</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M7945.64,-1789.45C7836.81,-1839.54 7714.48,-1888.55 7597.29,-1919.8 7438.5,-1962.14 7375.51,-1880.79 7229.29,-1955.8 7159.66,-1991.52 7102.64,-2060.44 7065.18,-2115.74"/>
<polygon fill="black" stroke="black" points="7062.21,-2113.88 7059.56,-2124.14 7068.03,-2117.77 7062.21,-2113.88"/>
</g>
<!-- 82 -->
<g id="node83" class="node">
<title>82</title>
<polygon fill="#f2f2f2" stroke="black" points="8724.49,-2090.7 8724.49,-2308.3 9076.09,-2308.3 9076.09,-2090.7 8724.49,-2090.7"/>
<text text-anchor="middle" x="8900.29" y="-2291.7" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="8900.29" y="-2274.9" font-family="Times,serif" font-size="14.00">VaultControllerStorage</text>
<text text-anchor="middle" x="8900.29" y="-2258.1" font-family="Times,serif" font-size="14.00">contracts/storage/VaultControllerStorage.sol</text>
<polyline fill="none" stroke="black" points="8724.49,-2249.9 9076.09,-2249.9 "/>
<text text-anchor="start" x="8732.49" y="-2233.3" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="8732.49" y="-2216.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;_vaultAddress: mapping(address=&gt;address)</text>
<text text-anchor="start" x="8732.49" y="-2199.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;_tradersVaultMap: mapping(address=&gt;address[])</text>
<text text-anchor="start" x="8732.49" y="-2182.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;_positioning: address</text>
<text text-anchor="start" x="8732.49" y="-2166.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;_positioningConfig: address</text>
<text text-anchor="start" x="8732.49" y="-2149.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;_accountBalance: address</text>
<text text-anchor="start" x="8732.49" y="-2132.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;_balance: mapping(address=&gt;mapping(address=&gt;int256))</text>
<text text-anchor="start" x="8732.49" y="-2115.7" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="8732.49" y="-2098.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;VAULT_CONTROLLER_ADMIN: bytes32</text>
</g>
<!-- 74&#45;&gt;82 -->
<g id="edge154" class="edge">
<title>74&#45;&gt;82</title>
<path fill="none" stroke="black" d="M8533.83,-1789.4C8595.46,-1840.63 8659.93,-1898.12 8715.29,-1955.8 8747.79,-1989.66 8779.95,-2029.15 8808.11,-2066.32"/>
<polygon fill="none" stroke="black" points="8799.89,-2072.85 8826.24,-2090.63 8816.73,-2060.3 8799.89,-2072.85"/>
</g>
<!-- 75 -->
<g id="node76" class="node">
<title>75</title>
<polygon fill="#f2f2f2" stroke="black" points="9082.1,-561.5 9082.1,-1055.9 10264.48,-1055.9 10264.48,-561.5 9082.1,-561.5"/>
<text text-anchor="middle" x="9673.29" y="-1039.3" font-family="Times,serif" font-size="14.00">VolmexPerpPeriphery</text>
<text text-anchor="middle" x="9673.29" y="-1022.5" font-family="Times,serif" font-size="14.00">contracts/periphery/VolmexPerpPeriphery.sol</text>
<polyline fill="none" stroke="black" points="9082.1,-1014.3 10264.48,-1014.3 "/>
<text text-anchor="start" x="9090.1" y="-997.7" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="9090.1" y="-980.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;_isVaultWhitelist: mapping(address=&gt;bool)</text>
<text text-anchor="start" x="9090.1" y="-964.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="9090.1" y="-947.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;VOLMEX_PERP_PERIPHERY: bytes32</text>
<text text-anchor="start" x="9090.1" y="-930.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;RELAYER_MULTISIG: bytes32</text>
<text text-anchor="start" x="9090.1" y="-913.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;markPriceOracle: IMarkPriceOracle</text>
<text text-anchor="start" x="9090.1" y="-896.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;perpView: IVolmexPerpView</text>
<polyline fill="none" stroke="black" points="9082.1,-888.7 10264.48,-888.7 "/>
<text text-anchor="start" x="9090.1" y="-872.1" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="9090.1" y="-855.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_verifyTriggerPrice(_limitOrder: LibOrder.Order, _positioning: IPositioning): bool</text>
<text text-anchor="start" x="9090.1" y="-838.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_getBaseTokenPrice(_order: LibOrder.Order, _twInterval: uint256): (price: uint256)</text>
<text text-anchor="start" x="9090.1" y="-821.7" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="9090.1" y="-804.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_fillLimitOrder(_leftLimitOrder: LibOrder.Order, _signatureLeftLimitOrder: bytes, _rightLimitOrder: LibOrder.Order, _signatureRightLimitOrder: bytes, liquidator: bytes, _index: uint256)</text>
<text text-anchor="start" x="9090.1" y="-788.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_requireVolmexPerpPeripheryAdmin()</text>
<text text-anchor="start" x="9090.1" y="-771.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_requireVolmexPerpPeripheryRelayer()</text>
<text text-anchor="start" x="9090.1" y="-754.5" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="9090.1" y="-737.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; depositToVault(_index: uint64, _token: address, _amount: uint256)</text>
<text text-anchor="start" x="9090.1" y="-720.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;initialize(_perpView: IVolmexPerpView, _markPriceOracle: IMarkPriceOracle, _vaults: address[2], _owner: address, _relayer: address) &lt;&lt;initializer&gt;&gt;</text>
<text text-anchor="start" x="9090.1" y="-704.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setMarkPriceOracle(_markPriceOracle: IMarkPriceOracle)</text>
<text text-anchor="start" x="9090.1" y="-687.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setRelayer(_relayer: address)</text>
<text text-anchor="start" x="9090.1" y="-670.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;whitelistVault(_vault: address, _isWhitelist: bool)</text>
<text text-anchor="start" x="9090.1" y="-653.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;fillLimitOrder(_leftLimitOrder: LibOrder.Order, _signatureLeftLimitOrder: bytes, _rightLimitOrder: LibOrder.Order, _signatureRightLimitOrder: bytes, liquidator: bytes, _index: uint256)</text>
<text text-anchor="start" x="9090.1" y="-636.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;withdrawFromVault(_index: uint64, _token: address, _to: address, _amount: uint256)</text>
<text text-anchor="start" x="9090.1" y="-620.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;openPosition(_index: uint64, _orderLeft: LibOrder.Order, _signatureLeft: bytes, _orderRight: LibOrder.Order, _signatureRight: bytes, liquidator: bytes)</text>
<text text-anchor="start" x="9090.1" y="-603.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;batchOpenPosition(_index: uint64, _ordersLeft: LibOrder.Order[], _signaturesLeft: bytes[], _ordersRight: LibOrder.Order[], _signaturesRight: bytes[], liquidator: bytes)</text>
<text text-anchor="start" x="9090.1" y="-586.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;batchFillLimitOrders(_index: uint256, _leftLimitOrders: LibOrder.Order[], _signaturesLeftLimitOrder: bytes[], _rightLimitOrders: LibOrder.Order[], _signaturesRightLimitOrder: bytes[], liquidator: bytes)</text>
<text text-anchor="start" x="9090.1" y="-569.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;transferToVault(_token: IERC20Upgradeable, _from: address, _amount: uint256)</text>
</g>
<!-- 75&#45;&gt;16 -->
<g id="edge165" class="edge">
<title>75&#45;&gt;16</title>
<path fill="none" stroke="black" d="M10159.85,-1055.96C10339.49,-1134.75 10547.73,-1212.31 10746.29,-1254 10838.09,-1273.27 12366.68,-1224.98 12434.29,-1290 12535.34,-1387.19 12378.56,-1815.52 12472.29,-1919.8 12536.76,-1991.53 12598.46,-1915.95 12686.29,-1955.8 12766.52,-1992.2 12843.15,-2055.8 12898.48,-2108.77"/>
<polygon fill="black" stroke="black" points="12896.17,-2111.41 12905.8,-2115.83 12901.03,-2106.37 12896.17,-2111.41"/>
</g>
<!-- 75&#45;&gt;20 -->
<g id="edge170" class="edge">
<title>75&#45;&gt;20</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M10185.48,-1055.92C10359.87,-1130.47 10558.28,-1205.39 10746.29,-1254 10814.71,-1271.69 11015.23,-1237.27 11062.29,-1290 11108.89,-1342.21 11079.01,-1851.85 11062.29,-1919.8 11060.11,-1928.66 11057.59,-1937.55 11054.79,-1946.43"/>
<polygon fill="black" stroke="black" points="11051.42,-1945.47 11051.64,-1956.06 11058.07,-1947.65 11051.42,-1945.47"/>
</g>
<!-- 75&#45;&gt;25 -->
<g id="edge171" class="edge">
<title>75&#45;&gt;25</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M9372.39,-1056.17C9258.68,-1134.85 9123.65,-1212.29 8987.29,-1254 8886.54,-1284.82 7175.85,-1227.17 7091.29,-1290 6855.22,-1465.39 7086.81,-1702.82 6888.29,-1919.8 6860.59,-1950.07 6837.1,-1932.56 6803.29,-1955.8 6755.17,-1988.87 6709.02,-2033.02 6670.61,-2074.6"/>
<polygon fill="black" stroke="black" points="6667.95,-2072.32 6663.77,-2082.06 6673.11,-2077.05 6667.95,-2072.32"/>
</g>
<!-- 75&#45;&gt;30 -->
<g id="edge169" class="edge">
<title>75&#45;&gt;30</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M9674.31,-1056.01C9676.88,-1358.64 9685.79,-1841.8 9716.29,-1919.8 9737.11,-1973.05 9772.64,-2023.25 9809.98,-2065.99"/>
<polygon fill="black" stroke="black" points="9807.47,-2068.44 9816.72,-2073.6 9812.71,-2063.79 9807.47,-2068.44"/>
</g>
<!-- 75&#45;&gt;35 -->
<g id="edge164" class="edge">
<title>75&#45;&gt;35</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M9671,-1056.04C9666.93,-1492.78 9658.6,-2388.26 9655.49,-2722.39"/>
<polygon fill="none" stroke="black" points="9644.99,-2722.38 9655.21,-2752.48 9665.99,-2722.58 9644.99,-2722.38"/>
</g>
<!-- 75&#45;&gt;36 -->
<g id="edge166" class="edge">
<title>75&#45;&gt;36</title>
<path fill="none" stroke="black" d="M10161.33,-1055.91C10340.67,-1134.43 10548.35,-1211.84 10746.29,-1254 10818.31,-1269.34 12007.9,-1252.53 12071.29,-1290 12116.12,-1316.5 12151.15,-1358.48 12178.06,-1403.23"/>
<polygon fill="black" stroke="black" points="12175.07,-1405.06 12183.16,-1411.91 12181.11,-1401.52 12175.07,-1405.06"/>
</g>
<!-- 75&#45;&gt;52 -->
<g id="edge168" class="edge">
<title>75&#45;&gt;52</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M9253.55,-1056.08C9176.66,-1121.75 9106.99,-1199.96 9063.29,-1290 9032.73,-1352.95 9020.87,-1864.15 9063.29,-1919.8 9099.89,-1967.82 9155.61,-1909.44 9194.29,-1955.8 9263.94,-2039.29 9158.58,-2368.19 9237.29,-2443.2 9309.98,-2512.47 10054.34,-2427.28 10140.29,-2479.2 10301.87,-2576.81 10542.19,-3092.67 10642.58,-3320.91"/>
<polygon fill="black" stroke="black" points="10639.45,-3322.48 10646.67,-3330.23 10645.86,-3319.67 10639.45,-3322.48"/>
</g>
<!-- 75&#45;&gt;51 -->
<g id="edge167" class="edge">
<title>75&#45;&gt;51</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M10161.68,-1055.96C10340.95,-1134.43 10548.49,-1211.78 10746.29,-1254 10816.24,-1268.93 11981.7,-1240.45 12033.29,-1290 12134.46,-1387.18 11976.8,-1820.9 12076.29,-1919.8 12167.4,-2010.38 12565.32,-1862.17 12653.29,-1955.8 12841.62,-2156.25 12538.01,-3161.53 12490.29,-3226.6 12320.88,-3457.57 12019.15,-3598.76 11796.27,-3676.49"/>
<polygon fill="black" stroke="black" points="11795.02,-3673.22 11786.71,-3679.8 11797.31,-3679.84 11795.02,-3673.22"/>
</g>
<!-- 77 -->
<g id="node78" class="node">
<title>77</title>
<polygon fill="#f2f2f2" stroke="black" points="15397.13,-2149.5 15397.13,-2249.5 15637.45,-2249.5 15637.45,-2149.5 15397.13,-2149.5"/>
<text text-anchor="middle" x="15517.29" y="-2232.9" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="15517.29" y="-2216.1" font-family="Times,serif" font-size="14.00">BaseTokenStorageV1</text>
<text text-anchor="middle" x="15517.29" y="-2199.3" font-family="Times,serif" font-size="14.00">contracts/storage/BaseTokenStorage.sol</text>
<polyline fill="none" stroke="black" points="15397.13,-2191.1 15637.45,-2191.1 "/>
<text text-anchor="start" x="15405.13" y="-2174.5" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="15405.13" y="-2157.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;_priceFeed: address</text>
</g>
<!-- 84 -->
<g id="node85" class="node">
<title>84</title>
<polygon fill="#f2f2f2" stroke="black" points="15828.42,-1554.9 15828.42,-1654.9 16366.15,-1654.9 16366.15,-1554.9 15828.42,-1554.9"/>
<text text-anchor="middle" x="16097.29" y="-1638.3" font-family="Times,serif" font-size="14.00">AssetMatcherTest</text>
<text text-anchor="middle" x="16097.29" y="-1621.5" font-family="Times,serif" font-size="14.00">contracts/tests/AssetMatcherTest.sol</text>
<polyline fill="none" stroke="black" points="15828.42,-1613.3 16366.15,-1613.3 "/>
<text text-anchor="start" x="15836.42" y="-1596.7" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="15836.42" y="-1579.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;__AssetMatcherTest_init() &lt;&lt;initializer&gt;&gt;</text>
<text text-anchor="start" x="15836.42" y="-1563.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;matchAssetsTest(leftBaseToken: address, rightBaseToken: address): (baseToken: address)</text>
</g>
<!-- 84&#45;&gt;58 -->
<g id="edge172" class="edge">
<title>84&#45;&gt;58</title>
<path fill="none" stroke="black" d="M16088.06,-1655.15C16071,-1746.27 16034.01,-1943.71 16009.65,-2073.8"/>
<polygon fill="none" stroke="black" points="15999.32,-2071.87 16004.12,-2103.29 16019.97,-2075.74 15999.32,-2071.87"/>
</g>
<!-- 85 -->
<g id="node86" class="node">
<title>85</title>
<polygon fill="#f2f2f2" stroke="black" points="13950.37,-3914.7 13950.37,-4123.5 14392.21,-4123.5 14392.21,-3914.7 13950.37,-3914.7"/>
<text text-anchor="middle" x="14171.29" y="-4106.9" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="14171.29" y="-4090.1" font-family="Times,serif" font-size="14.00">ERC1271</text>
<text text-anchor="middle" x="14171.29" y="-4073.3" font-family="Times,serif" font-size="14.00">contracts/tests/ERC1271.sol</text>
<polyline fill="none" stroke="black" points="13950.37,-4065.1 14392.21,-4065.1 "/>
<text text-anchor="start" x="13958.37" y="-4048.5" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="13958.37" y="-4031.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;ERC1271_INTERFACE_ID: bytes4</text>
<text text-anchor="start" x="13958.37" y="-4014.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;ERC1271_RETURN_VALID_SIGNATURE: bytes4</text>
<text text-anchor="start" x="13958.37" y="-3998.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;ERC1271_RETURN_INVALID_SIGNATURE: bytes4</text>
<polyline fill="none" stroke="black" points="13950.37,-3989.9 14392.21,-3989.9 "/>
<text text-anchor="start" x="13958.37" y="-3973.3" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="13958.37" y="-3956.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;returnIsValidSignatureMagicNumber(isValid: bool): bytes4</text>
<text text-anchor="start" x="13958.37" y="-3939.7" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="13958.37" y="-3922.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;abstract&gt;&gt; isValidSignature(_hash: bytes32, _signature: bytes): bytes4</text>
</g>
<!-- 86 -->
<g id="node87" class="node">
<title>86</title>
<polygon fill="#f2f2f2" stroke="black" points="13989.9,-3677.3 13989.9,-3835.7 14352.68,-3835.7 14352.68,-3677.3 13989.9,-3677.3"/>
<text text-anchor="middle" x="14171.29" y="-3819.1" font-family="Times,serif" font-size="14.00">ERC1271Test</text>
<text text-anchor="middle" x="14171.29" y="-3802.3" font-family="Times,serif" font-size="14.00">contracts/tests/ERC1271Test.sol</text>
<polyline fill="none" stroke="black" points="13989.9,-3794.1 14352.68,-3794.1 "/>
<text text-anchor="start" x="13997.9" y="-3777.5" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="13997.9" y="-3760.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;_returnSuccessfulValidSignature: bool</text>
<polyline fill="none" stroke="black" points="13989.9,-3752.5 14352.68,-3752.5 "/>
<text text-anchor="start" x="13997.9" y="-3735.9" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="13997.9" y="-3719.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setReturnSuccessfulValidSignature(value: bool)</text>
<text text-anchor="start" x="13997.9" y="-3702.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;isValidSignature(bytes32, bytes): bytes4</text>
<text text-anchor="start" x="13997.9" y="-3685.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getAllowance(_addr: address, _virtualTokenAddr: address)</text>
</g>
<!-- 86&#45;&gt;31 -->
<g id="edge174" class="edge">
<title>86&#45;&gt;31</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M13989.83,-3778.53C13761.8,-3806.67 13384.63,-3859.43 13255.29,-3914.2 13240,-3920.67 13224.81,-3929.08 13210.36,-3938.3"/>
<polygon fill="black" stroke="black" points="13208.38,-3935.41 13201.94,-3943.82 13212.22,-3941.27 13208.38,-3935.41"/>
</g>
<!-- 86&#45;&gt;85 -->
<g id="edge173" class="edge">
<title>86&#45;&gt;85</title>
<path fill="none" stroke="black" d="M14171.29,-3836.04C14171.29,-3851.4 14171.29,-3867.9 14171.29,-3884.48"/>
<polygon fill="none" stroke="black" points="14160.79,-3884.65 14171.29,-3914.65 14181.79,-3884.65 14160.79,-3884.65"/>
</g>
<!-- 87 -->
<g id="node88" class="node">
<title>87</title>
<polygon fill="#f2f2f2" stroke="black" points="18422.65,-122.1 18422.65,-205.3 18989.93,-205.3 18989.93,-122.1 18422.65,-122.1"/>
<text text-anchor="middle" x="18706.29" y="-188.7" font-family="Times,serif" font-size="14.00">ERC20TransferProxyTest</text>
<text text-anchor="middle" x="18706.29" y="-171.9" font-family="Times,serif" font-size="14.00">contracts/tests/ERC20TransferProxyTest.sol</text>
<polyline fill="none" stroke="black" points="18422.65,-163.7 18989.93,-163.7 "/>
<text text-anchor="start" x="18430.65" y="-147.1" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="18430.65" y="-130.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;erc20SafeTransferFrom(token: IERC20Upgradeable, from: address, to: address, value: uint256)</text>
</g>
<!-- 88 -->
<g id="node89" class="node">
<title>88</title>
<polygon fill="#f2f2f2" stroke="black" points="19007.93,-92.9 19007.93,-234.5 19374.64,-234.5 19374.64,-92.9 19007.93,-92.9"/>
<text text-anchor="middle" x="19191.29" y="-217.9" font-family="Times,serif" font-size="14.00">ExchangeTest</text>
<text text-anchor="middle" x="19191.29" y="-201.1" font-family="Times,serif" font-size="14.00">contracts/tests/ExchangeTest.sol</text>
<polyline fill="none" stroke="black" points="19007.93,-192.9 19374.64,-192.9 "/>
<text text-anchor="start" x="19015.93" y="-176.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="19015.93" y="-159.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;markPriceOracle: MarkPriceOracle</text>
<polyline fill="none" stroke="black" points="19007.93,-151.3 19374.64,-151.3 "/>
<text text-anchor="start" x="19015.93" y="-134.7" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="19015.93" y="-117.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setMarkPriceOracle(_markPriceOracle: MarkPriceOracle)</text>
<text text-anchor="start" x="19015.93" y="-101.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;addObservation(_priceCumulative: uint256, _index: uint64)</text>
</g>
<!-- 89 -->
<g id="node90" class="node">
<title>89</title>
<polygon fill="#f2f2f2" stroke="black" points="10755.26,-2786.1 10755.26,-2919.7 11351.31,-2919.7 11351.31,-2786.1 10755.26,-2786.1"/>
<text text-anchor="middle" x="11053.29" y="-2903.1" font-family="Times,serif" font-size="14.00">LibOrderTest</text>
<text text-anchor="middle" x="11053.29" y="-2886.3" font-family="Times,serif" font-size="14.00">contracts/tests/LibOrderTest.sol</text>
<polyline fill="none" stroke="black" points="10755.26,-2878.1 11351.31,-2878.1 "/>
<text text-anchor="start" x="10763.26" y="-2861.5" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="10763.26" y="-2844.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;validate(order: LibOrder.Order)</text>
<text text-anchor="start" x="10763.26" y="-2827.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;calculateRemaining(order: LibOrder.Order, fill: uint256): (baseValue: uint256, quoteValue: uint256)</text>
<text text-anchor="start" x="10763.26" y="-2811.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;hashKey(order: LibOrder.Order): bytes32</text>
<text text-anchor="start" x="10763.26" y="-2794.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;hash(order: LibOrder.Order): bytes32</text>
</g>
<!-- 89&#45;&gt;52 -->
<g id="edge176" class="edge">
<title>89&#45;&gt;52</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M11011.53,-2919.95C10949.5,-3018.08 10832.31,-3203.45 10757.65,-3321.55"/>
<polygon fill="black" stroke="black" points="10754.52,-3319.97 10752.13,-3330.29 10760.43,-3323.71 10754.52,-3319.97"/>
</g>
<!-- 89&#45;&gt;51 -->
<g id="edge175" class="edge">
<title>89&#45;&gt;51</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M11071.86,-2919.9C11111.75,-3054.93 11214.38,-3369.34 11365.29,-3598.8 11371.61,-3608.42 11378.57,-3617.97 11385.92,-3627.32"/>
<polygon fill="black" stroke="black" points="11383.2,-3629.52 11392.19,-3635.14 11388.66,-3625.15 11383.2,-3629.52"/>
</g>
<!-- 90 -->
<g id="node91" class="node">
<title>90</title>
<polygon fill="#f2f2f2" stroke="black" points="13668.4,-50.9 13668.4,-276.5 14248.18,-276.5 14248.18,-50.9 13668.4,-50.9"/>
<text text-anchor="middle" x="13958.29" y="-259.9" font-family="Times,serif" font-size="14.00">MatchingEngineTest</text>
<text text-anchor="middle" x="13958.29" y="-243.1" font-family="Times,serif" font-size="14.00">contracts/tests/MatchingEngineTest.sol</text>
<polyline fill="none" stroke="black" points="13668.4,-234.9 14248.18,-234.9 "/>
<text text-anchor="start" x="13676.4" y="-218.3" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="13676.4" y="-201.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;_UINT256_MAX: uint256</text>
<polyline fill="none" stroke="black" points="13668.4,-193.3 14248.18,-193.3 "/>
<text text-anchor="start" x="13676.4" y="-176.7" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="13676.4" y="-159.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; matchOrdersTest(orderLeft: LibOrder.Order, orderRight: LibOrder.Order)</text>
<text text-anchor="start" x="13676.4" y="-143.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;__MatchingEngineTest_init(owner: address, markPriceOracle: IMarkPriceOracle) &lt;&lt;initializer&gt;&gt;</text>
<text text-anchor="start" x="13676.4" y="-126.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setMakerMinSalt(_val: uint256)</text>
<text text-anchor="start" x="13676.4" y="-109.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;pause()</text>
<text text-anchor="start" x="13676.4" y="-92.7" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="13676.4" y="-75.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;addAssets(_priceCumulative: uint256[], _asset: address[])</text>
<text text-anchor="start" x="13676.4" y="-59.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;addObservation(_priceCumulative: uint256, _index: uint64)</text>
</g>
<!-- 90&#45;&gt;16 -->
<g id="edge178" class="edge">
<title>90&#45;&gt;16</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M13784.52,-276.54C13754.97,-302.07 13727.14,-331.27 13706.29,-363.4 13474.97,-719.77 13539.58,-870.66 13471.29,-1290 13460.01,-1359.26 13469.8,-1866.38 13424.29,-1919.8 13379.55,-1972.32 13334.94,-1924.84 13273.29,-1955.8 13196.66,-1994.28 13122.74,-2056.67 13068.71,-2108.56"/>
<polygon fill="black" stroke="black" points="13065.97,-2106.34 13061.22,-2115.8 13070.84,-2111.37 13065.97,-2106.34"/>
</g>
<!-- 90&#45;&gt;52 -->
<g id="edge180" class="edge">
<title>90&#45;&gt;52</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M13668.06,-165.79C12641.77,-171.04 9236.59,-200.68 9073.29,-363.4 9012.02,-424.45 8981.71,-1849.63 9032.29,-1919.8 9061.87,-1960.85 9108.49,-1916.45 9140.29,-1955.8 9208.78,-2040.56 9114.55,-2368.92 9194.29,-2443.2 9268.58,-2512.4 10035.33,-2407.58 10107.29,-2479.2 10166.21,-2537.84 10085.32,-3164.25 10140.29,-3226.6 10202.91,-3297.63 10260.22,-3233.36 10350.29,-3262.6 10436.75,-3290.66 10528.9,-3337.29 10595.27,-3374.16"/>
<polygon fill="black" stroke="black" points="10593.61,-3377.25 10604.05,-3379.07 10597.03,-3371.14 10593.61,-3377.25"/>
</g>
<!-- 90&#45;&gt;51 -->
<g id="edge179" class="edge">
<title>90&#45;&gt;51</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M14248.26,-192.95C14745.47,-241.86 15714.51,-339.38 15786.29,-363.4 16643.24,-650.21 17397.29,-700.23 17397.29,-1603.9 17397.29,-1603.9 17397.29,-1603.9 17397.29,-2853.9 17397.29,-3427.67 12967.08,-3684.64 11796.92,-3742.5"/>
<polygon fill="black" stroke="black" points="11796.5,-3739.02 11786.69,-3743 11796.85,-3746.01 11796.5,-3739.02"/>
</g>
<!-- 90&#45;&gt;59 -->
<g id="edge177" class="edge">
<title>90&#45;&gt;59</title>
<path fill="none" stroke="black" d="M13958.29,-276.7C13958.29,-409.05 13958.29,-625.29 13958.29,-736.58"/>
<polygon fill="none" stroke="black" points="13947.79,-736.91 13958.29,-766.91 13968.79,-736.91 13947.79,-736.91"/>
</g>
<!-- 91 -->
<g id="node92" class="node">
<title>91</title>
<polygon fill="#f2f2f2" stroke="black" points="4621.26,-105.3 4621.26,-222.1 4941.31,-222.1 4941.31,-105.3 4621.26,-105.3"/>
<text text-anchor="middle" x="4781.29" y="-205.5" font-family="Times,serif" font-size="14.00">PositioningTest</text>
<text text-anchor="middle" x="4781.29" y="-188.7" font-family="Times,serif" font-size="14.00">contracts/tests/PositioningTest.sol</text>
<polyline fill="none" stroke="black" points="4621.26,-180.5 4941.31,-180.5 "/>
<text text-anchor="start" x="4629.26" y="-163.9" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="4629.26" y="-147.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setMakerMinSalt(_val: uint256)</text>
<text text-anchor="start" x="4629.26" y="-130.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;registerBaseToken(trader: address, token: address)</text>
<text text-anchor="start" x="4629.26" y="-113.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getTotalAbsPositionValue(trader: address): uint256</text>
</g>
<!-- 91&#45;&gt;71 -->
<g id="edge181" class="edge">
<title>91&#45;&gt;71</title>
<path fill="none" stroke="black" d="M4762.2,-222.33C4752.39,-251.93 4739.45,-291.01 4724.88,-334.98"/>
<polygon fill="none" stroke="black" points="4714.82,-331.96 4715.35,-363.74 4734.76,-338.57 4714.82,-331.96"/>
</g>
<!-- 92 -->
<g id="node93" class="node">
<title>92</title>
<polygon fill="#f2f2f2" stroke="black" points="19392.38,-42.5 19392.38,-284.9 19886.2,-284.9 19886.2,-42.5 19392.38,-42.5"/>
<text text-anchor="middle" x="19639.29" y="-268.3" font-family="Times,serif" font-size="14.00">TestERC20</text>
<text text-anchor="middle" x="19639.29" y="-251.5" font-family="Times,serif" font-size="14.00">contracts/tests/TestERC20.sol</text>
<polyline fill="none" stroke="black" points="19392.38,-243.3 19886.2,-243.3 "/>
<text text-anchor="start" x="19400.38" y="-226.7" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="19400.38" y="-209.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;_transferFeeRatio: uint256</text>
<text text-anchor="start" x="19400.38" y="-193.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;_decimal: uint8</text>
<polyline fill="none" stroke="black" points="19392.38,-184.9 19886.2,-184.9 "/>
<text text-anchor="start" x="19400.38" y="-168.3" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="19400.38" y="-151.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setMinter(minter: address)</text>
<text text-anchor="start" x="19400.38" y="-134.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;burnWithoutApproval(user: address, amount: uint256)</text>
<text text-anchor="start" x="19400.38" y="-117.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setTransferFeeRatio(ratio: uint256)</text>
<text text-anchor="start" x="19400.38" y="-101.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="19400.38" y="-84.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;__TestERC20_init(name: string, symbol: string, decimal: uint8) &lt;&lt;initializer&gt;&gt;</text>
<text text-anchor="start" x="19400.38" y="-67.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;decimals(): uint8</text>
<text text-anchor="start" x="19400.38" y="-50.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;transferFrom(sender: address, recipient: address, amount: uint256): (success: bool)</text>
</g>
<!-- 93 -->
<g id="node94" class="node">
<title>93</title>
<polygon fill="#f2f2f2" stroke="black" points="19903.89,-113.7 19903.89,-213.7 20392.69,-213.7 20392.69,-113.7 19903.89,-113.7"/>
<text text-anchor="middle" x="20148.29" y="-197.1" font-family="Times,serif" font-size="14.00">TransferManagerTest</text>
<text text-anchor="middle" x="20148.29" y="-180.3" font-family="Times,serif" font-size="14.00">contracts/tests/TransferManagerTest.sol</text>
<polyline fill="none" stroke="black" points="19903.89,-172.1 20392.69,-172.1 "/>
<text text-anchor="start" x="19911.89" y="-155.5" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="19911.89" y="-138.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; checkDoTransfers(left: LibDeal.DealSide, right: LibDeal.DealSide)</text>
<text text-anchor="start" x="19911.89" y="-121.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;__TransferManager_init(_erc20Proxy: address, _owner: address) &lt;&lt;initializer&gt;&gt;</text>
</g>
<!-- 94 -->
<g id="node95" class="node">
<title>94</title>
<polygon fill="#f2f2f2" stroke="black" points="16877.54,-1546.5 16877.54,-1663.3 17331.04,-1663.3 17331.04,-1546.5 16877.54,-1546.5"/>
<text text-anchor="middle" x="17104.29" y="-1646.7" font-family="Times,serif" font-size="14.00">VirtualTokenTest</text>
<text text-anchor="middle" x="17104.29" y="-1629.9" font-family="Times,serif" font-size="14.00">contracts/tests/VirtualTokenTest.sol</text>
<polyline fill="none" stroke="black" points="16877.54,-1621.7 17331.04,-1621.7 "/>
<text text-anchor="start" x="16885.54" y="-1605.1" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="16885.54" y="-1588.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;initialize(nameArg: string, symbolArg: string, isBase: bool) &lt;&lt;initializer&gt;&gt;</text>
<text text-anchor="start" x="16885.54" y="-1571.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;beforeTokenTransfer(from: address, to: address, amount: uint256)</text>
<text text-anchor="start" x="16885.54" y="-1554.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;approveTest(owner: address, spender: address, amount: uint256)</text>
</g>
<!-- 96 -->
<g id="node100" class="node">
<title>96</title>
<polygon fill="#f2f2f2" stroke="black" points="16335.26,-2002.7 16335.26,-2396.3 16909.32,-2396.3 16909.32,-2002.7 16335.26,-2002.7"/>
<text text-anchor="middle" x="16622.29" y="-2379.7" font-family="Times,serif" font-size="14.00">VirtualToken</text>
<text text-anchor="middle" x="16622.29" y="-2362.9" font-family="Times,serif" font-size="14.00">contracts/tokens/VirtualToken.sol</text>
<polyline fill="none" stroke="black" points="16335.26,-2354.7 16909.32,-2354.7 "/>
<text text-anchor="start" x="16343.26" y="-2338.1" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="16343.26" y="-2321.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;__gap: uint256[50]</text>
<text text-anchor="start" x="16343.26" y="-2304.5" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="16343.26" y="-2287.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;VIRTUAL_TOKEN_ADMIN: bytes32</text>
<text text-anchor="start" x="16343.26" y="-2270.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;MINTER: bytes32</text>
<text text-anchor="start" x="16343.26" y="-2254.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;BURNER: bytes32</text>
<text text-anchor="start" x="16343.26" y="-2237.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;isBase: bool</text>
<polyline fill="none" stroke="black" points="16335.26,-2229.1 16909.32,-2229.1 "/>
<text text-anchor="start" x="16343.26" y="-2212.5" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="16343.26" y="-2195.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;__VirtualToken_init(nameArg: string, symbolArg: string, isBaseArg: bool) &lt;&lt;onlyInitializing&gt;&gt;</text>
<text text-anchor="start" x="16343.26" y="-2178.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_requireVirtualTokenAdmin()</text>
<text text-anchor="start" x="16343.26" y="-2162.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_requireMinterRole()</text>
<text text-anchor="start" x="16343.26" y="-2145.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_requireBurnerRole()</text>
<text text-anchor="start" x="16343.26" y="-2128.5" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="16343.26" y="-2111.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setMintBurnRole(minterBurner: address)</text>
<text text-anchor="start" x="16343.26" y="-2094.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;mint(recipient: address, amount: uint256)</text>
<text text-anchor="start" x="16343.26" y="-2078.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;burn(recipient: address, amount: uint256)</text>
<text text-anchor="start" x="16343.26" y="-2061.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;mintMaximumTo(recipient: address)</text>
<text text-anchor="start" x="16343.26" y="-2044.5" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="16343.26" y="-2027.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; WhitelistAdded(account: address)</text>
<text text-anchor="start" x="16343.26" y="-2010.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; WhitelistRemoved(account: address)</text>
</g>
<!-- 94&#45;&gt;96 -->
<g id="edge182" class="edge">
<title>94&#45;&gt;96</title>
<path fill="none" stroke="black" d="M17063.43,-1663.4C17017.6,-1727.18 16940.37,-1832.6 16869.29,-1919.8 16853.27,-1939.45 16836.37,-1959.61 16819.23,-1979.68"/>
<polygon fill="none" stroke="black" points="16811.03,-1973.11 16799.42,-2002.7 16826.95,-1986.8 16811.03,-1973.11"/>
</g>
<!-- 101 -->
<g id="node96" class="node">
<title>101</title>
<polygon fill="#f2f2f2" stroke="black" points="2186.75,-1546.5 2186.75,-1663.3 2665.83,-1663.3 2665.83,-1546.5 2186.75,-1546.5"/>
<text text-anchor="middle" x="2426.29" y="-1646.7" font-family="Times,serif" font-size="14.00">LibSignatureTest</text>
<text text-anchor="middle" x="2426.29" y="-1629.9" font-family="Times,serif" font-size="14.00">contracts/tests/libs/LibSignatureTest.sol</text>
<polyline fill="none" stroke="black" points="2186.75,-1621.7 2665.83,-1621.7 "/>
<text text-anchor="start" x="2194.75" y="-1605.1" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="2194.75" y="-1588.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;recoverFromSigTest(hash: bytes32, signature: bytes): address</text>
<text text-anchor="start" x="2194.75" y="-1571.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;recoverFromParamsTest(hash: bytes32, v: uint8, r: bytes32, s: bytes32): address</text>
<text text-anchor="start" x="2194.75" y="-1554.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getKeccak(message: string): bytes32</text>
</g>
<!-- 101&#45;&gt;57 -->
<g id="edge183" class="edge">
<title>101&#45;&gt;57</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2388.95,-1663.53C2318.91,-1771.61 2167.95,-2004.58 2090.41,-2124.24"/>
<polygon fill="black" stroke="black" points="2087.45,-2122.36 2084.95,-2132.66 2093.33,-2126.17 2087.45,-2122.36"/>
</g>
<!-- 102 -->
<g id="node97" class="node">
<title>102</title>
<polygon fill="#f2f2f2" stroke="black" points="20410.74,-0.5 20410.74,-326.9 20807.84,-326.9 20807.84,-0.5 20410.74,-0.5"/>
<text text-anchor="middle" x="20609.29" y="-310.3" font-family="Times,serif" font-size="14.00">VolmexPositionToken</text>
<text text-anchor="middle" x="20609.29" y="-293.5" font-family="Times,serif" font-size="14.00">contracts/tests/protocol/VolmexPositionToken.sol</text>
<polyline fill="none" stroke="black" points="20410.74,-285.3 20807.84,-285.3 "/>
<text text-anchor="start" x="20418.74" y="-268.7" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="20418.74" y="-251.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;_vivName: string</text>
<text text-anchor="start" x="20418.74" y="-235.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;_vivSymbol: string</text>
<text text-anchor="start" x="20418.74" y="-218.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="20418.74" y="-201.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;VOLMEX_PROTOCOL_ROLE: bytes32</text>
<polyline fill="none" stroke="black" points="20410.74,-193.3 20807.84,-193.3 "/>
<text text-anchor="start" x="20418.74" y="-176.7" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="20418.74" y="-159.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;initialize(_name: string, _symbol: string) &lt;&lt;initializer&gt;&gt;</text>
<text text-anchor="start" x="20418.74" y="-143.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;updateTokenMetadata(_name: string, _symbol: string)</text>
<text text-anchor="start" x="20418.74" y="-126.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="20418.74" y="-109.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; UpdatedTokenMetadata(name: string, symbol: string)</text>
<text text-anchor="start" x="20418.74" y="-92.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;mint(_to: address, _amount: uint256)</text>
<text text-anchor="start" x="20418.74" y="-75.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;burn(_from: address, _amount: uint256)</text>
<text text-anchor="start" x="20418.74" y="-59.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;pause()</text>
<text text-anchor="start" x="20418.74" y="-42.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;unpause()</text>
<text text-anchor="start" x="20418.74" y="-25.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;name(): string</text>
<text text-anchor="start" x="20418.74" y="-8.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;symbol(): string</text>
</g>
<!-- 103 -->
<g id="node98" class="node">
<title>103</title>
<polygon fill="#f2f2f2" stroke="black" points="18787.04,-2479.7 18787.04,-3226.1 20027.54,-3226.1 20027.54,-2479.7 18787.04,-2479.7"/>
<text text-anchor="middle" x="19407.29" y="-3209.5" font-family="Times,serif" font-size="14.00">VolmexProtocol</text>
<text text-anchor="middle" x="19407.29" y="-3192.7" font-family="Times,serif" font-size="14.00">contracts/tests/protocol/VolmexProtocol.sol</text>
<polyline fill="none" stroke="black" points="18787.04,-3184.5 20027.54,-3184.5 "/>
<text text-anchor="start" x="18795.04" y="-3167.9" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="18795.04" y="-3151.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;minimumCollateralQty: uint256</text>
<text text-anchor="start" x="18795.04" y="-3134.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;active: bool</text>
<text text-anchor="start" x="18795.04" y="-3117.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;isSettled: bool</text>
<text text-anchor="start" x="18795.04" y="-3100.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;volatilityToken: IERC20Modified</text>
<text text-anchor="start" x="18795.04" y="-3083.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;inverseVolatilityToken: IERC20Modified</text>
<text text-anchor="start" x="18795.04" y="-3067.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;collateral: IERC20Modified</text>
<text text-anchor="start" x="18795.04" y="-3050.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;issuanceFees: uint256</text>
<text text-anchor="start" x="18795.04" y="-3033.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;redeemFees: uint256</text>
<text text-anchor="start" x="18795.04" y="-3016.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;accumulatedFees: uint256</text>
<text text-anchor="start" x="18795.04" y="-2999.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;MAX_FEE: uint256</text>
<text text-anchor="start" x="18795.04" y="-2983.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;volatilityCapRatio: uint256</text>
<text text-anchor="start" x="18795.04" y="-2966.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;settlementPrice: uint256</text>
<polyline fill="none" stroke="black" points="18787.04,-2958.1 20027.54,-2958.1 "/>
<text text-anchor="start" x="18795.04" y="-2941.5" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="18795.04" y="-2924.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_redeem(_collateralQtyRedeemed: uint256, _volatilityIndexTokenQty: uint256, _inverseVolatilityIndexTokenQty: uint256): (collateralRedeemed: uint256, fee: uint256)</text>
<text text-anchor="start" x="18795.04" y="-2907.9" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="18795.04" y="-2891.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;toggleActive() &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="18795.04" y="-2874.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;updateMinimumCollQty(_newMinimumCollQty: uint256) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="18795.04" y="-2857.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;updateVolatilityToken(_positionToken: address, _isVolatilityIndexToken: bool) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="18795.04" y="-2840.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;collateralize(_collateralQty: uint256): (qtyToBeMinted: uint256, fee: uint256) &lt;&lt;onlyActive, onlyNotSettled&gt;&gt;</text>
<text text-anchor="start" x="18795.04" y="-2823.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;redeem(_positionTokenQty: uint256): (collateralRedeemed: uint256, fee: uint256) &lt;&lt;onlyActive, onlyNotSettled&gt;&gt;</text>
<text text-anchor="start" x="18795.04" y="-2807.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;settle(_settlementPrice: uint256) &lt;&lt;onlyOwner, onlyNotSettled&gt;&gt;</text>
<text text-anchor="start" x="18795.04" y="-2790.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;recoverTokens(_token: address, _toWhom: address, _howMuch: uint256) &lt;&lt;nonReentrant, onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="18795.04" y="-2773.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;updateFees(_issuanceFees: uint256, _redeemFees: uint256) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="18795.04" y="-2756.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;claimAccumulatedFees() &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="18795.04" y="-2739.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;togglePause(_isPause: bool) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="18795.04" y="-2723.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="18795.04" y="-2706.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ToggleActivated(isActive: bool)</text>
<text text-anchor="start" x="18795.04" y="-2689.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; UpdatedVolatilityToken(positionToken: address, isVolatilityIndexToken: bool)</text>
<text text-anchor="start" x="18795.04" y="-2672.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; UpdatedFees(issuanceFees: uint256, redeemFees: uint256)</text>
<text text-anchor="start" x="18795.04" y="-2655.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; UpdatedMinimumCollateral(newMinimumCollateralQty: uint256)</text>
<text text-anchor="start" x="18795.04" y="-2639.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ClaimedFees(fees: uint256)</text>
<text text-anchor="start" x="18795.04" y="-2622.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ToggledVolatilityTokenPause(isPause: bool)</text>
<text text-anchor="start" x="18795.04" y="-2605.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Settled(settlementPrice: uint256)</text>
<text text-anchor="start" x="18795.04" y="-2588.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Collateralized(sender: address, collateralLock: uint256, positionTokensMinted: uint256, fees: uint256)</text>
<text text-anchor="start" x="18795.04" y="-2571.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Redeemed(sender: address, collateralReleased: uint256, volatilityIndexTokenBurned: uint256, inverseVolatilityIndexTokenBurned: uint256, fees: uint256)</text>
<text text-anchor="start" x="18795.04" y="-2555.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyActive()</text>
<text text-anchor="start" x="18795.04" y="-2538.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyNotSettled()</text>
<text text-anchor="start" x="18795.04" y="-2521.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlySettled()</text>
<text text-anchor="start" x="18795.04" y="-2504.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;initialize(_collateralTokenAddress: IERC20Modified, _volatilityToken: IERC20Modified, _inverseVolatilityToken: IERC20Modified, _minimumCollateralQty: uint256, _volatilityCapRatio: uint256) &lt;&lt;initializer&gt;&gt;</text>
<text text-anchor="start" x="18795.04" y="-2487.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;redeemSettled(_volatilityIndexTokenQty: uint256, _inverseVolatilityIndexTokenQty: uint256): (collateralRedeemed: uint256, fee: uint256) &lt;&lt;onlyActive, onlySettled&gt;&gt;</text>
</g>
<!-- 103&#45;&gt;11 -->
<g id="edge184" class="edge">
<title>103&#45;&gt;11</title>
<path fill="none" stroke="black" d="M19109.14,-3226.29C19101.36,-3236.02 19093.68,-3245.6 19086.16,-3255"/>
<polygon fill="black" stroke="black" points="19083.39,-3252.85 19079.88,-3262.85 19088.86,-3257.23 19083.39,-3252.85"/>
</g>
<!-- 95 -->
<g id="node99" class="node">
<title>95</title>
<polygon fill="#f2f2f2" stroke="black" points="15251.21,-767.1 15251.21,-850.3 15511.37,-850.3 15511.37,-767.1 15251.21,-767.1"/>
<text text-anchor="middle" x="15381.29" y="-833.7" font-family="Times,serif" font-size="14.00">ChainlinkBaseToken</text>
<text text-anchor="middle" x="15381.29" y="-816.9" font-family="Times,serif" font-size="14.00">contracts/tokens/ChainlinkBaseToken.sol</text>
<polyline fill="none" stroke="black" points="15251.21,-808.7 15511.37,-808.7 "/>
<text text-anchor="start" x="15259.21" y="-792.1" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="15259.21" y="-775.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getIndexPrice(interval: uint256): uint256</text>
</g>
<!-- 95&#45;&gt;8 -->
<g id="edge186" class="edge">
<title>95&#45;&gt;8</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M15351.89,-850.45C15257.15,-981.77 14959.64,-1394.12 14849.68,-1546.53"/>
<polygon fill="black" stroke="black" points="14846.66,-1544.74 14843.64,-1554.9 14852.33,-1548.83 14846.66,-1544.74"/>
</g>
<!-- 104 -->
<g id="node103" class="node">
<title>104</title>
<polygon fill="#f2f2f2" stroke="black" points="15223.86,-1529.7 15223.86,-1680.1 15810.71,-1680.1 15810.71,-1529.7 15223.86,-1529.7"/>
<text text-anchor="middle" x="15517.29" y="-1663.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="15517.29" y="-1646.7" font-family="Times,serif" font-size="14.00">ParentToken</text>
<text text-anchor="middle" x="15517.29" y="-1629.9" font-family="Times,serif" font-size="14.00">contracts/tokens/base/ParentToken.sol</text>
<polyline fill="none" stroke="black" points="15223.86,-1621.7 15810.71,-1621.7 "/>
<text text-anchor="start" x="15231.86" y="-1605.1" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="15231.86" y="-1588.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;abstract&gt;&gt; getIndexPrice(index: uint256): uint256</text>
<text text-anchor="start" x="15231.86" y="-1571.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;initialize(nameArg: string, symbolArg: string, priceFeedArg: address, isBase: bool) &lt;&lt;initializer&gt;&gt;</text>
<text text-anchor="start" x="15231.86" y="-1554.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setPriceFeed(priceFeedArg: address)</text>
<text text-anchor="start" x="15231.86" y="-1537.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getPriceFeed(): address</text>
</g>
<!-- 95&#45;&gt;104 -->
<g id="edge185" class="edge">
<title>95&#45;&gt;104</title>
<path fill="none" stroke="black" d="M15388.27,-850.45C15408.74,-970.01 15469.1,-1322.52 15499.45,-1499.72"/>
<polygon fill="none" stroke="black" points="15489.12,-1501.6 15504.53,-1529.4 15509.82,-1498.06 15489.12,-1501.6"/>
</g>
<!-- 96&#45;&gt;31 -->
<g id="edge187" class="edge">
<title>96&#45;&gt;31</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M16352.37,-2396.42C16327.32,-2412.76 16302.04,-2428.59 16277.29,-2443.2 14990.74,-3202.26 14534.71,-3143.2 13255.29,-3914.2 13248.65,-3918.2 13241.93,-3922.43 13235.21,-3926.81"/>
<polygon fill="none" stroke="black" points="13229.25,-3918.16 13210.27,-3943.65 13241.01,-3935.56 13229.25,-3918.16"/>
</g>
<!-- 97 -->
<g id="node101" class="node">
<title>97</title>
<polygon fill="#f2f2f2" stroke="black" points="15529.03,-767.1 15529.03,-850.3 15777.54,-850.3 15777.54,-767.1 15529.03,-767.1"/>
<text text-anchor="middle" x="15653.29" y="-833.7" font-family="Times,serif" font-size="14.00">VolmexBaseToken</text>
<text text-anchor="middle" x="15653.29" y="-816.9" font-family="Times,serif" font-size="14.00">contracts/tokens/VolmexBaseToken.sol</text>
<polyline fill="none" stroke="black" points="15529.03,-808.7 15777.54,-808.7 "/>
<text text-anchor="start" x="15537.03" y="-792.1" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="15537.03" y="-775.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getIndexPrice(index: uint256): uint256</text>
</g>
<!-- 97&#45;&gt;15 -->
<g id="edge189" class="edge">
<title>97&#45;&gt;15</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M15777.63,-816.71C16074.9,-839.08 16839.25,-930.19 17340.29,-1290 17583.34,-1464.54 17762.58,-1764.62 17865.33,-1971.87"/>
<polygon fill="black" stroke="black" points="17862.3,-1973.63 17869.86,-1981.05 17868.58,-1970.53 17862.3,-1973.63"/>
</g>
<!-- 97&#45;&gt;104 -->
<g id="edge188" class="edge">
<title>97&#45;&gt;104</title>
<path fill="none" stroke="black" d="M15646.31,-850.45C15625.84,-970.01 15565.47,-1322.52 15535.13,-1499.72"/>
<polygon fill="none" stroke="black" points="15524.76,-1498.06 15530.05,-1529.4 15545.46,-1501.6 15524.76,-1498.06"/>
</g>
<!-- 98 -->
<g id="node102" class="node">
<title>98</title>
<polygon fill="#f2f2f2" stroke="black" points="16384.65,-1563.3 16384.65,-1646.5 16859.93,-1646.5 16859.93,-1563.3 16384.65,-1563.3"/>
<text text-anchor="middle" x="16622.29" y="-1629.9" font-family="Times,serif" font-size="14.00">VolmexQuoteToken</text>
<text text-anchor="middle" x="16622.29" y="-1613.1" font-family="Times,serif" font-size="14.00">contracts/tokens/VolmexQuoteToken.sol</text>
<polyline fill="none" stroke="black" points="16384.65,-1604.9 16859.93,-1604.9 "/>
<text text-anchor="start" x="16392.65" y="-1588.3" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="16392.65" y="-1571.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;initialize(nameArg: string, symbolArg: string, isBaseArg: bool) &lt;&lt;initializer&gt;&gt;</text>
</g>
<!-- 98&#45;&gt;38 -->
<g id="edge190" class="edge">
<title>98&#45;&gt;38</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M16604.53,-1646.66C16571.28,-1717.24 16492.28,-1860.33 16375.29,-1919.8 16277.46,-1969.53 15497.07,-1941.3 15388.29,-1955.8 15088.51,-1995.77 14748.56,-2082.94 14540.54,-2141.19"/>
<polygon fill="none" stroke="black" points="14537.48,-2131.14 14511.46,-2149.39 14543.18,-2151.35 14537.48,-2131.14"/>
</g>
<!-- 98&#45;&gt;96 -->
<g id="edge191" class="edge">
<title>98&#45;&gt;96</title>
<path fill="none" stroke="black" d="M16622.29,-1646.63C16622.29,-1713.47 16622.29,-1851.1 16622.29,-1972.19"/>
<polygon fill="none" stroke="black" points="16611.79,-1972.57 16622.29,-2002.57 16632.79,-1972.57 16611.79,-1972.57"/>
</g>
<!-- 104&#45;&gt;14 -->
<g id="edge193" class="edge">
<title>104&#45;&gt;14</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M15471.82,-1680.21C15420.21,-1756.67 15328.21,-1871.25 15214.29,-1919.8 15043.42,-1992.62 2006.97,-1871.85 1841.29,-1955.8 1772.97,-1990.42 1724.28,-2064.72 1695.1,-2122.05"/>
<polygon fill="none" stroke="black" points="1685.49,-2117.79 1681.97,-2149.38 1704.42,-2126.88 1685.49,-2117.79"/>
</g>
<!-- 104&#45;&gt;32 -->
<g id="edge192" class="edge">
<title>104&#45;&gt;32</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M15471.05,-1680.22C15419.1,-1756.1 15327.11,-1869.65 15214.29,-1919.8 15105.28,-1968.26 14258.04,-1931.32 14141.29,-1955.8 14003.05,-1984.78 13855.76,-2042.82 13740.77,-2094.87"/>
<polygon fill="none" stroke="black" points="13736.27,-2085.38 13713.38,-2107.43 13745.03,-2104.47 13736.27,-2085.38"/>
</g>
<!-- 104&#45;&gt;77 -->
<g id="edge195" class="edge">
<title>104&#45;&gt;77</title>
<path fill="none" stroke="black" d="M15517.29,-1680.35C15517.29,-1792.61 15517.29,-2004.28 15517.29,-2119.28"/>
<polygon fill="none" stroke="black" points="15506.79,-2119.32 15517.29,-2149.32 15527.79,-2119.32 15506.79,-2119.32"/>
</g>
<!-- 104&#45;&gt;96 -->
<g id="edge194" class="edge">
<title>104&#45;&gt;96</title>
<path fill="none" stroke="black" d="M15564.5,-1680.26C15616.73,-1755.3 15708.36,-1867.36 15819.29,-1919.8 16003.89,-2007.06 16085.19,-1886.6 16277.29,-1955.8 16301.69,-1964.59 16325.95,-1975.59 16349.63,-1988.03"/>
<polygon fill="none" stroke="black" points="16344.76,-1997.34 16376.1,-2002.64 16354.91,-1978.95 16344.76,-1997.34"/>
</g>
<!-- 99 -->
<g id="node104" class="node">
<title>99</title>
<polygon fill="#f2f2f2" stroke="black" points="17426.65,-50.9 17426.65,-276.5 17993.93,-276.5 17993.93,-50.9 17426.65,-50.9"/>
<text text-anchor="middle" x="17710.29" y="-259.9" font-family="Times,serif" font-size="14.00">ERC20TransferProxy</text>
<text text-anchor="middle" x="17710.29" y="-243.1" font-family="Times,serif" font-size="14.00">contracts/transfer&#45;proxies/ERC20TransferProxy.sol</text>
<polyline fill="none" stroke="black" points="17426.65,-234.9 17993.93,-234.9 "/>
<text text-anchor="start" x="17434.65" y="-218.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="17434.65" y="-201.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;TRANSFER_PROXY_ADMIN: bytes32</text>
<text text-anchor="start" x="17434.65" y="-184.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;TRANSFER_PROXY_CALLER: bytes32</text>
<polyline fill="none" stroke="black" points="17426.65,-176.5 17993.93,-176.5 "/>
<text text-anchor="start" x="17434.65" y="-159.9" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="17434.65" y="-143.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_requireTransferProxyAdmin()</text>
<text text-anchor="start" x="17434.65" y="-126.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_requireTransferProxyCaller()</text>
<text text-anchor="start" x="17434.65" y="-109.5" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="17434.65" y="-92.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;erc20TransferProxyInit() &lt;&lt;initializer&gt;&gt;</text>
<text text-anchor="start" x="17434.65" y="-75.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;addTransferProxyRole(exchange: address)</text>
<text text-anchor="start" x="17434.65" y="-59.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;erc20SafeTransferFrom(token: IERC20Upgradeable, from: address, to: address, value: uint256)</text>
</g>
<!-- 99&#45;&gt;12 -->
<g id="edge196" class="edge">
<title>99&#45;&gt;12</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M17710.29,-276.7C17710.29,-405.87 17710.29,-614.95 17710.29,-728.38"/>
<polygon fill="none" stroke="black" points="17699.79,-728.68 17710.29,-758.68 17720.79,-728.68 17699.79,-728.68"/>
</g>
<!-- 100 -->
<g id="node105" class="node">
<title>100</title>
<polygon fill="#f2f2f2" stroke="black" points="12715.87,-553.1 12715.87,-1064.3 13058.71,-1064.3 13058.71,-553.1 12715.87,-553.1"/>
<text text-anchor="middle" x="12887.29" y="-1047.7" font-family="Times,serif" font-size="14.00">VolmexPerpView</text>
<text text-anchor="middle" x="12887.29" y="-1030.9" font-family="Times,serif" font-size="14.00">contracts/view/VolmexPerpView.sol</text>
<polyline fill="none" stroke="black" points="12715.87,-1022.7 13058.71,-1022.7 "/>
<text text-anchor="start" x="12723.87" y="-1006.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="12723.87" y="-989.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;VOLMEX_PERP_VIEW: bytes32</text>
<text text-anchor="start" x="12723.87" y="-972.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;PERP_VIEW_STATES: bytes32</text>
<text text-anchor="start" x="12723.87" y="-955.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;positionings: mapping(uint256=&gt;IPositioning)</text>
<text text-anchor="start" x="12723.87" y="-938.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;vaultControllers: mapping(uint256=&gt;IVaultController)</text>
<text text-anchor="start" x="12723.87" y="-922.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;baseTokens: mapping(uint256=&gt;IVolmexBaseToken)</text>
<text text-anchor="start" x="12723.87" y="-905.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;quoteTokens: mapping(uint256=&gt;IVolmexQuoteToken)</text>
<text text-anchor="start" x="12723.87" y="-888.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;accounts: mapping(uint256=&gt;IAccountBalance)</text>
<text text-anchor="start" x="12723.87" y="-871.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;marketRegistries: mapping(uint256=&gt;IMarketRegistry)</text>
<text text-anchor="start" x="12723.87" y="-854.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;perpIndexCount: uint256</text>
<text text-anchor="start" x="12723.87" y="-838.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;vaultIndexCount: uint256</text>
<text text-anchor="start" x="12723.87" y="-821.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;baseTokenIndexCount: uint256</text>
<text text-anchor="start" x="12723.87" y="-804.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;quoteTokenIndexCount: uint256</text>
<polyline fill="none" stroke="black" points="12715.87,-796.3 13058.71,-796.3 "/>
<text text-anchor="start" x="12723.87" y="-779.7" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="12723.87" y="-762.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_requireVolmexPerpViewAdmin()</text>
<text text-anchor="start" x="12723.87" y="-746.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_requireVolmexPerpViewCaller()</text>
<text text-anchor="start" x="12723.87" y="-729.3" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="12723.87" y="-712.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;initialize(_viewRole: address) &lt;&lt;initializer&gt;&gt;</text>
<text text-anchor="start" x="12723.87" y="-695.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;grantViewStatesRole(_viewStateRole: address)</text>
<text text-anchor="start" x="12723.87" y="-678.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setBaseToken(_baseToken: IVolmexBaseToken)</text>
<text text-anchor="start" x="12723.87" y="-662.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setQuoteToken(_quoteToken: IVolmexQuoteToken)</text>
<text text-anchor="start" x="12723.87" y="-645.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setPositioning(_positioning: IPositioning)</text>
<text text-anchor="start" x="12723.87" y="-628.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setVaultController(_vaultController: IVaultController)</text>
<text text-anchor="start" x="12723.87" y="-611.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setAccount(_account: IAccountBalance)</text>
<text text-anchor="start" x="12723.87" y="-594.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setMarketRegistry(_marketRegistry: IMarketRegistry)</text>
<text text-anchor="start" x="12723.87" y="-578.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;incrementPerpIndex()</text>
<text text-anchor="start" x="12723.87" y="-561.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;incrementVaultIndex()</text>
</g>
<!-- 100&#45;&gt;6 -->
<g id="edge202" class="edge">
<title>100&#45;&gt;6</title>
<path fill="none" stroke="black" d="M12839.95,-1064.47C12813.25,-1137.87 12771.51,-1209.94 12706.29,-1254 12607.94,-1320.43 4251.33,-1212.68 4161.29,-1290 4053.81,-1382.3 4096.27,-1782.26 4062.29,-1919.8 4057.42,-1939.51 4051.78,-1959.81 4045.71,-1980.04"/>
<polygon fill="black" stroke="black" points="4042.35,-1979.06 4042.8,-1989.65 4049.05,-1981.09 4042.35,-1979.06"/>
</g>
<!-- 100&#45;&gt;17 -->
<g id="edge203" class="edge">
<title>100&#45;&gt;17</title>
<path fill="none" stroke="black" d="M13058.91,-916.22C13178,-1001.01 13327.05,-1131.57 13395.29,-1290 13422.97,-1354.27 13443.79,-1869.35 13395.29,-1919.8 13324.85,-1993.07 12573.66,-1913.41 12481.29,-1955.8 12435.17,-1976.96 12394.03,-2012.31 12359.89,-2049.58"/>
<polygon fill="black" stroke="black" points="12357.25,-2047.28 12353.16,-2057.05 12362.45,-2051.96 12357.25,-2047.28"/>
</g>
<!-- 100&#45;&gt;20 -->
<g id="edge198" class="edge">
<title>100&#45;&gt;20</title>
<path fill="none" stroke="black" d="M12839,-1064.43C12812.25,-1137.48 12770.73,-1209.35 12706.29,-1254 12647.17,-1294.96 11464.04,-1240.06 11412.29,-1290 11311.38,-1387.38 11444.73,-1799.72 11372.29,-1919.8 11366.4,-1929.55 11360.04,-1939.01 11353.24,-1948.19"/>
<polygon fill="black" stroke="black" points="11350.44,-1946.09 11347.16,-1956.17 11356.01,-1950.33 11350.44,-1946.09"/>
</g>
<!-- 100&#45;&gt;30 -->
<g id="edge199" class="edge">
<title>100&#45;&gt;30</title>
<path fill="none" stroke="black" d="M12839.63,-1064.44C12812.91,-1137.73 12771.25,-1209.74 12706.29,-1254 12639.28,-1299.66 9844.27,-1232.31 9787.29,-1290 9738.11,-1339.79 9768.63,-1852.36 9787.29,-1919.8 9801.28,-1970.38 9827.17,-2021.02 9854.45,-2064.98"/>
<polygon fill="black" stroke="black" points="9851.63,-2067.08 9859.92,-2073.68 9857.56,-2063.35 9851.63,-2067.08"/>
</g>
<!-- 100&#45;&gt;32 -->
<g id="edge200" class="edge">
<title>100&#45;&gt;32</title>
<path fill="none" stroke="black" d="M13058.74,-879.24C13218.11,-954.27 13445.71,-1090.46 13547.29,-1290 13617.7,-1428.31 13571.59,-1890.77 13546.49,-2097.34"/>
<polygon fill="black" stroke="black" points="13543.02,-2096.93 13545.28,-2107.28 13549.97,-2097.78 13543.02,-2096.93"/>
</g>
<!-- 100&#45;&gt;36 -->
<g id="edge197" class="edge">
<title>100&#45;&gt;36</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M12833.77,-1064.35C12806.83,-1135.59 12766.51,-1206.45 12706.29,-1254 12623.7,-1319.2 12561.48,-1234.17 12472.29,-1290 12432.6,-1314.84 12398.28,-1349.9 12369.4,-1387.63"/>
<polygon fill="none" stroke="black" points="12360.79,-1381.61 12351.67,-1412.06 12377.79,-1393.95 12360.79,-1381.61"/>
</g>
<!-- 100&#45;&gt;38 -->
<g id="edge201" class="edge">
<title>100&#45;&gt;38</title>
<path fill="none" stroke="black" d="M13058.81,-932.24C13218.11,-1038.63 13466.22,-1185.99 13706.29,-1254 13776.2,-1273.81 14309.34,-1237.22 14359.29,-1290 14417.41,-1351.42 14368.34,-1947.35 14350.87,-2139.27"/>
<polygon fill="black" stroke="black" points="14347.37,-2139.17 14349.94,-2149.45 14354.34,-2139.81 14347.37,-2139.17"/>
</g>
</g>
</svg>
